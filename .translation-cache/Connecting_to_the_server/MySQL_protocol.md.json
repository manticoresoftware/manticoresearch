{
  "cbea4ab098bf8f39ecda3356a91af626773d59395c4bcd7d91679123f469d4c0": {
    "original": "# MySQL protocol\n\nManticore Search implements an SQL interface using the MySQL protocol, allowing any MySQL library or connector and many MySQL clients to be used to connect to Manticore Search and work with it as if it were a MySQL server, not Manticore.\n\nHowever, the SQL dialect is different and implements only a subset of the SQL commands or functions available in MySQL. Additionally, there are clauses and functions that are specific to Manticore Search, such as the `MATCH()` clause for full-text search.\n\nManticore Search does not support server-side prepared statements, but client-side prepared statements can be used. It is important to note that Manticore implements the multi-value (MVA) data type, which has no equivalent in MySQL or libraries implementing prepared statements. In these cases, the MVA values must be crafted in the raw query.\n\nSome MySQL clients/connectors require values for user/password and/or database name. Since Manticore Search does not have the concept of databases and there is no user access control implemented, these values can be set arbitrarily as Manticore will simply ignore them.\n\n## Configuration\n\n**The default port for the SQL interface is 9306** and it's enabled by default.\n\nYou can configure the MySQL port in the searchd section of the configuration file using the `listen` directive like this:\n\nCODE_BLOCK_0\n\nKeep in mind that Manticore doesn't have user authentication, so make sure that the MySQL port is not accessible to anyone outside of your network.\n\n### VIP connection\n\nA separate MySQL port can be used for performing \"VIP\" connections. When connecting to this port, the thread pool is bypassed, and a new dedicated thread is always created. This is useful in cases of severe overload, where the server would either stall or prevent a connection through the regular port.\n\nCODE_BLOCK_1\n\n## Connecting via standard MySQL client\n\nThe easiest way to connect to Manticore is by using a standard MySQL client:\n\nCODE_BLOCK_2\n\n## Secured MySQL connection\n\nThe MySQL protocol supports [SSL encryption](../Security/SSL.md). Secure connections can be made on the same `mysql` listening port.\n\n## Compressed MySQL connection\n\nCompression can be used with MySQL connections and is available to clients by default. The client just needs to specify that the connection should use compression.\n\nAn example using the MySQL client:\n\nCODE_BLOCK_3\n\nCompression can be used in both secured and non-secured connections.\n\n## Notes on MySQL connectors\n\nThe official MySQL connectors can be used to connect to Manticore Search, however they might require certain settings passed in the DSN string as the connector can try running certain SQL commands not implemented yet in Manticore.\n\nJDBC Connector 6.x and above require Manticore Search 2.8.2 or greater and the DSN string should contain the following options:\n\nCODE_BLOCK_4\n\nBy default Manticore Search will report it's own version to the connector, however this may cause some troubles. To overcome that `mysql_version_string` directive in searchd section of the configuration should be set to a version lower than 5.1.1:\n\nCODE_BLOCK_5\n\n.NET MySQL connector uses connection pools by default. To correctly get the statistics of `SHOW META`, queries along with `SHOW META` command should be sent as a single multistatement (`SELECT ...;SHOW META`). If pooling is enabled option `Allow Batch=True` is required to be added to the connection string to allow multistatements:\n\nCODE_BLOCK_6\n\n## Notes on ODBC connectivity\n\nManticore can be accessed using ODBC. It's recommended to set `charset=UTF8` in the ODBC string. Some ODBC drivers will not like the reported version by the Manticore server as they will see it as a very old MySQL server. This can be overridden with `mysql_version_string` option.\n\n## Comment syntax\n\nManticore SQL over MySQL supports C-style comment syntax. Everything from an opening `/*` sequence to a closing `*/` sequence is ignored. Comments can span multiple lines, can not nest, and should not get logged. MySQL specific `/*! ... */` comments are also currently ignored. (As the comments support was rather added for better compatibility with `mysqldump` produced dumps, rather than improving general query interoperability between Manticore and MySQL.)\n\nCODE_BLOCK_7\n\n<!-- proofread -->",
    "translations": {
      "chinese": "# MySQL 协议\n\nManticore Search 使用 MySQL 协议实现了一个 SQL 接口，允许使用任何 MySQL 库或连接器以及许多 MySQL 客户端连接到 Manticore Search，并像操作 MySQL 服务器一样操作它，而不是 Manticore。\n\n然而，SQL 方言不同，只实现了 MySQL 中可用的 SQL 命令或函数的子集。此外，还有一些特定于 Manticore Search 的子句和函数，例如用于全文搜索的 `MATCH()` 子句。\n\nManticore Search 不支持服务器端预处理语句，但可以使用客户端预处理语句。需要注意的是，Manticore 实现了多值（MVA）数据类型，这在 MySQL 或实现预处理语句的库中没有对应类型。在这些情况下，MVA 值必须在原始查询中构造。\n\n一些 MySQL 客户端/连接器需要用户/密码和/或数据库名称的值。由于 Manticore Search 没有数据库的概念，也没有实现用户访问控制，这些值可以任意设置，因为 Manticore 会简单地忽略它们。\n\n## 配置\n\n**SQL 接口的默认端口是 9306**，且默认启用。\n\n您可以在配置文件的 searchd 部分使用 `listen` 指令配置 MySQL 端口，如下所示：\n\nCODE_BLOCK_0\n\n请记住，Manticore 没有用户认证，因此请确保 MySQL 端口不对网络外部的任何人开放。\n\n### VIP 连接\n\n可以使用单独的 MySQL 端口进行“VIP”连接。连接到此端口时，将绕过线程池，并始终创建一个新的专用线程。这在严重过载的情况下非常有用，此时服务器可能会停滞或阻止通过常规端口的连接。\n\nCODE_BLOCK_1\n\n## 通过标准 MySQL 客户端连接\n\n连接 Manticore 最简单的方法是使用标准的 MySQL 客户端：\n\nCODE_BLOCK_2\n\n## 安全的 MySQL 连接\n\nMySQL 协议支持[SSL 加密](../Security/SSL.md)。可以在相同的 `mysql` 监听端口上建立安全连接。\n\n## 压缩的 MySQL 连接\n\nMySQL 连接可以使用压缩，客户端默认支持。客户端只需指定连接应使用压缩即可。\n\n使用 MySQL 客户端的示例：\n\nCODE_BLOCK_3\n\n压缩可以用于安全和非安全连接。\n\n## 关于 MySQL 连接器的说明\n\n官方 MySQL 连接器可以用来连接 Manticore Search，但它们可能需要在 DSN 字符串中传递某些设置，因为连接器可能尝试运行 Manticore 尚未实现的某些 SQL 命令。\n\nJDBC 连接器 6.x 及以上版本需要 Manticore Search 2.8.2 或更高版本，且 DSN 字符串应包含以下选项：\n\nCODE_BLOCK_4\n\n默认情况下，Manticore Search 会向连接器报告其自身版本，但这可能会引起一些问题。为解决此问题，应在配置文件的 searchd 部分设置 `mysql_version_string` 指令为低于 5.1.1 的版本：\n\nCODE_BLOCK_5\n\n.NET MySQL 连接器默认使用连接池。为了正确获取 `SHOW META` 的统计信息，查询和 `SHOW META` 命令应作为单个多语句发送（`SELECT ...;SHOW META`）。如果启用了连接池，则需要在连接字符串中添加选项 `Allow Batch=True` 以允许多语句：\n\nCODE_BLOCK_6\n\n## 关于 ODBC 连接的说明\n\n可以使用 ODBC 访问 Manticore。建议在 ODBC 字符串中设置 `charset=UTF8`。某些 ODBC 驱动程序不喜欢 Manticore 服务器报告的版本，因为它们会将其视为非常旧的 MySQL 服务器。可以通过 `mysql_version_string` 选项覆盖此行为。\n\n## 注释语法\n\n基于 MySQL 的 Manticore SQL 支持 C 风格的注释语法。从开头的 `/*` 到结尾的 `*/` 之间的所有内容都会被忽略。注释可以跨多行，不能嵌套，也不应被记录。MySQL 特有的 `/*! ... */` 注释目前也被忽略。（注释支持主要是为了更好地兼容 `mysqldump` 生成的转储文件，而不是为了改善 Manticore 和 MySQL 之间的一般查询互操作性。）\n\nCODE_BLOCK_7\n\n<!-- proofread -->",
      "russian": "# Протокол MySQL\n\nManticore Search реализует SQL-интерфейс с использованием протокола MySQL, что позволяет использовать любую библиотеку или коннектор MySQL, а также многие клиенты MySQL для подключения к Manticore Search и работы с ним так, как если бы это был сервер MySQL, а не Manticore.\n\nОднако диалект SQL отличается и реализует только подмножество команд или функций SQL, доступных в MySQL. Кроме того, существуют конструкции и функции, специфичные для Manticore Search, такие как конструкция `MATCH()` для полнотекстового поиска.\n\nManticore Search не поддерживает подготовленные выражения на стороне сервера, но можно использовать подготовленные выражения на стороне клиента. Важно отметить, что Manticore реализует тип данных с множественными значениями (MVA), который не имеет эквивалента в MySQL или библиотеках, реализующих подготовленные выражения. В таких случаях значения MVA должны быть сформированы в сыром запросе.\n\nНекоторые клиенты/коннекторы MySQL требуют значения для пользователя/пароля и/или имени базы данных. Поскольку в Manticore Search нет концепции баз данных и не реализован контроль доступа пользователей, эти значения могут быть заданы произвольно, так как Manticore просто их игнорирует.\n\n## Конфигурация\n\n**Порт по умолчанию для SQL-интерфейса — 9306**, и он включён по умолчанию.\n\nВы можете настроить порт MySQL в разделе searchd конфигурационного файла, используя директиву `listen` следующим образом:\n\nCODE_BLOCK_0\n\nИмейте в виду, что в Manticore нет аутентификации пользователей, поэтому убедитесь, что порт MySQL недоступен для всех, кроме вашей сети.\n\n### VIP-подключение\n\nДля выполнения \"VIP\"-подключений можно использовать отдельный порт MySQL. При подключении к этому порту пул потоков обходится, и всегда создаётся новый выделенный поток. Это полезно в случаях сильной перегрузки, когда сервер либо зависает, либо не позволяет подключиться через обычный порт.\n\nCODE_BLOCK_1\n\n## Подключение через стандартный клиент MySQL\n\nСамый простой способ подключиться к Manticore — использовать стандартный клиент MySQL:\n\nCODE_BLOCK_2\n\n## Защищённое подключение MySQL\n\nПротокол MySQL поддерживает [шифрование SSL](../Security/SSL.md). Защищённые подключения могут быть выполнены на том же прослушивающем порту `mysql`.\n\n## Сжатое подключение MySQL\n\nСжатие может использоваться с MySQL-подключениями и доступно клиентам по умолчанию. Клиенту нужно просто указать, что соединение должно использовать сжатие.\n\nПример с использованием клиента MySQL:\n\nCODE_BLOCK_3\n\nСжатие может использоваться как в защищённых, так и в незащищённых соединениях.\n\n## Примечания по коннекторам MySQL\n\nОфициальные коннекторы MySQL могут использоваться для подключения к Manticore Search, однако они могут требовать определённых настроек, передаваемых в строке DSN, так как коннектор может пытаться выполнять некоторые SQL-команды, ещё не реализованные в Manticore.\n\nJDBC Connector версии 6.x и выше требует Manticore Search версии 2.8.2 или выше, и строка DSN должна содержать следующие опции:\n\nCODE_BLOCK_4\n\nПо умолчанию Manticore Search сообщает коннектору свою версию, однако это может вызвать некоторые проблемы. Чтобы их избежать, директива `mysql_version_string` в разделе searchd конфигурационного файла должна быть установлена на версию ниже 5.1.1:\n\nCODE_BLOCK_5\n\n.NET MySQL коннектор по умолчанию использует пулы подключений. Чтобы корректно получать статистику `SHOW META`, запросы вместе с командой `SHOW META` должны отправляться как единый многооператорный запрос (`SELECT ...;SHOW META`). Если пуллинг включён, в строку подключения необходимо добавить опцию `Allow Batch=True`, чтобы разрешить многооператорные запросы:\n\nCODE_BLOCK_6\n\n## Примечания по ODBC-подключениям\n\nК Manticore можно получить доступ через ODBC. Рекомендуется установить `charset=UTF8` в строке ODBC. Некоторые драйверы ODBC не понравится версия, сообщаемая сервером Manticore, так как они воспримут её как очень старую версию MySQL. Это можно переопределить с помощью опции `mysql_version_string`.\n\n## Синтаксис комментариев\n\nManticore SQL поверх MySQL поддерживает синтаксис комментариев в стиле C. Всё от открывающей последовательности `/*` до закрывающей `*/` игнорируется. Комментарии могут занимать несколько строк, не могут вкладываться и не должны логироваться. Специфичные для MySQL комментарии `/*! ... */` также в настоящее время игнорируются. (Поддержка комментариев была добавлена скорее для лучшей совместимости с дампами, создаваемыми `mysqldump`, а не для улучшения общей совместимости запросов между Manticore и MySQL.)\n\nCODE_BLOCK_7\n\n<!-- proofread -->"
    },
    "is_code_or_comment": false
  }
}
