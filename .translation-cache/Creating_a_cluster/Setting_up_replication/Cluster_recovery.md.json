{
    "c9bc3f7d09185f7836e850afefb58c5287e23970ad1a4a22ab86f30221f2e4af": {
        "original": "Split-brain can cause the cluster to transition into a non-primary state. For example, consider a cluster comprised of an even number of nodes (four), such as two pairs of nodes located in different data centers. If a network failure interrupts the connection between the data centers, split-brain occurs as each group of nodes holds exactly half of the quorum. As a result, both groups stop handling write transactions, since the Galera replication model prioritizes data consistency, and the cluster cannot accept write transactions without a quorum. However, nodes in both groups attempt to reconnect with the nodes from the other group in an effort to restore the cluster.\n\n<!-- example case 7 -->\nIf someone wants to restore the cluster before the network is restored, the same steps outlined in [Case 5](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-5) hould be taken, but only at one group of nodes.\n\nAfter the statement is executed, the group with the node that it was run on will be able to handle write transactions once again.\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_2\n<!-- request JSON -->\n\nCODE_BLOCK_3\n<!-- end -->\n\nHowever, it's important to note that if the statement is issued at both groups, it will result in the formation of two separate clusters, and the subsequent network recovery will not result in the groups rejoining.\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "\u5206\u88c2\u8111\uff08split-brain\uff09\u53ef\u80fd\u5bfc\u81f4\u96c6\u7fa4\u8f6c\u53d8\u4e3a\u975e\u4e3b\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u8003\u8651\u4e00\u4e2a\u7531\u5076\u6570\u4e2a\u8282\u70b9\uff08\u56db\u4e2a\uff09\u7ec4\u6210\u7684\u96c6\u7fa4\uff0c\u5982\u4f4d\u4e8e\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u7684\u4e24\u5bf9\u8282\u70b9\u3002\u5982\u679c\u7f51\u7edc\u6545\u969c\u4e2d\u65ad\u4e86\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u5206\u88c2\u8111\u53d1\u751f\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u8282\u70b9\u7ec4\u6070\u597d\u6301\u6709\u534a\u6570\u4ef2\u88c1\u3002\u7ed3\u679c\uff0c\u4e24\u4e2a\u7ec4\u90fd\u505c\u6b62\u5904\u7406\u5199\u4e8b\u52a1\uff0c\u56e0\u4e3aGalera\u590d\u5236\u6a21\u578b\u4f18\u5148\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4e14\u96c6\u7fa4\u5728\u65e0\u4ef2\u88c1\u60c5\u51b5\u4e0b\u65e0\u6cd5\u63a5\u53d7\u5199\u4e8b\u52a1\u3002\u7136\u800c\uff0c\u4e24\u4e2a\u7ec4\u4e2d\u7684\u8282\u70b9\u90fd\u4f1a\u5c1d\u8bd5\u4e0e\u53e6\u4e00\u7ec4\u7684\u8282\u70b9\u91cd\u65b0\u8fde\u63a5\uff0c\u4ee5\u52aa\u529b\u6062\u590d\u96c6\u7fa4\u3002\n\n<!-- example case 7 -->\n\u5982\u679c\u6709\u4eba\u60f3\u5728\u7f51\u7edc\u6062\u590d\u4e4b\u524d\u4fee\u590d\u96c6\u7fa4\uff0c\u5e94\u91c7\u53d6[\u6848\u4f8b5](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-5) \u4e2d\u6982\u8ff0\u7684\u76f8\u540c\u6b65\u9aa4\uff0c\u4f46\u53ea\u9488\u5bf9\u5176\u4e2d\u4e00\u4e2a\u8282\u70b9\u7ec4\u6267\u884c\u3002\n\n\u6267\u884c\u8be5\u8bed\u53e5\u540e\uff0c\u5305\u542b\u6267\u884c\u8282\u70b9\u7684\u8282\u70b9\u7ec4\u5c06\u80fd\u591f\u518d\u6b21\u5904\u7406\u5199\u4e8b\u52a1\u3002\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_2\n<!-- request JSON -->\n\nCODE_BLOCK_3\n<!-- end -->\n\n\u4f46\u662f\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u8be5\u8bed\u53e5\u5728\u4e24\u4e2a\u7ec4\u4e2d\u540c\u65f6\u6267\u884c\uff0c\u5c06\u5bfc\u81f4\u5f62\u6210\u4e24\u4e2a\u72ec\u7acb\u7684\u96c6\u7fa4\uff0c\u968f\u540e\u7f51\u7edc\u6062\u590d\u65f6\u8fd9\u4e24\u4e2a\u7ec4\u5c06\u4e0d\u4f1a\u91cd\u65b0\u5408\u5e76\u3002\n<!-- proofread -->",
            "russian": "Split-brain \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043d\u0435 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u0433\u043e \u0443\u0437\u043b\u0430. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440, \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0438\u0437 \u0447\u0435\u0442\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0443\u0437\u043b\u043e\u0432 (\u0447\u0435\u0442\u044b\u0440\u0435), \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0434\u0432\u0435 \u043f\u0430\u0440\u044b \u0443\u0437\u043b\u043e\u0432, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0434\u0430\u0442\u0430-\u0446\u0435\u043d\u0442\u0440\u0430\u0445. \u0415\u0441\u043b\u0438 \u0441\u0435\u0442\u0435\u0432\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u0434\u0430\u0442\u0430-\u0446\u0435\u043d\u0442\u0440\u0430\u043c\u0438, \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 split-brain, \u0442\u0430\u043a \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430 \u0443\u0437\u043b\u043e\u0432 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0440\u043e\u0432\u043d\u043e \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0443 \u043a\u0432\u043e\u0440\u0443\u043c\u0430. \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043e\u0431\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u044e\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0437\u0430\u043f\u0438\u0441\u0438, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043c\u043e\u0434\u0435\u043b\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 Galera \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0445, \u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u0435\u0437 \u043a\u0432\u043e\u0440\u0443\u043c\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0443\u0437\u043b\u044b \u0432 \u043e\u0431\u0435\u0438\u0445 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u043f\u044b\u0442\u0430\u044e\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0443\u0437\u043b\u0430\u043c \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u0432 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440.\n\n<!-- example case 7 -->\n\u0415\u0441\u043b\u0438 \u043a\u0442\u043e-\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0434\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0442\u0438, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u0435 \u0436\u0435 \u0448\u0430\u0433\u0438, \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432 [Case 5](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-5), \u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u0443\u0437\u043b\u043e\u0432.\n\n\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0433\u0440\u0443\u043f\u043f\u0430 \u0441 \u0443\u0437\u043b\u043e\u043c, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043e\u043d \u0431\u044b\u043b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d, \u0441\u043c\u043e\u0436\u0435\u0442 \u0441\u043d\u043e\u0432\u0430 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_2\n<!-- request JSON -->\n\nCODE_BLOCK_3\n<!-- end -->\n\n\u041e\u0434\u043d\u0430\u043a\u043e \u0432\u0430\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432 \u043e\u0431\u0435\u0438\u0445 \u0433\u0440\u0443\u043f\u043f\u0430\u0445, \u044d\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0434\u0432\u0443\u0445 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432, \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0438 \u043d\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044e \u0433\u0440\u0443\u043f\u043f.\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339789
    },
    "46c4cbaab600100f20401a1b0a83a7c44a159a70635a60ff10ebb5ca228905ac": {
        "original": "# Cluster recovery\n\nIn the event that the Manticore search daemon stops with no remaining nodes in the cluster to serve requests, recovery is necessary. Due to the multi-master nature of the Galera library used for replication, Manticore replication cluster is a single logical entity that maintains the consistency of its nodes and data, and the status of the entire cluster. This allows for safe writes on multiple nodes simultaneously and ensures the integrity of the cluster.\n\nHowever, this also poses challenges. Let's examine several scenarios, using a cluster of nodes A, B, and C, to see what needs to be done when some or all nodes become unavailable.\n\n### Case 1\n\n When node A is stopped, the other nodes receive a \"normal shutdown\" message. The cluster size is reduced, and a quorum re-calculation takes place.\n\nUpon starting node A, it joins the cluster and will not serve any write transactions until it is fully synchronized with the cluster. If the writeset cache on donor nodes B or C (which can be controlled with the Galera cluster's [gcache.size](https://galeracluster.com/library/documentation/galera-parameters.html#gcache-size)) still contains all of the transactions missed at node A, node A will receive a fast incremental state transfer ([IST](https://galeracluster.com/library/documentation/state-transfer.html#state-transfer-ist)), that is, a transfer of only missed transactions. If not, a snapshot state transfer  ([SST](https://galeracluster.com/library/documentation/state-transfer.html#state-transfer-sst)) will occur, which involves the transfer of table files.\n\n### Case 2\n\nIn the scenario where nodes A and B are stopped, the cluster size is reduced to one, with node C forming the primary component to handle write transactions.\n\nNodes A and B can then be started as usual and will join the cluster after start-up. Node C acts as the donor, providing the state transfer to nodes A and B.\n\n### Case 3\n\nAll nodes are stopped as usual and the cluster is off.\n\nThe problem now is how to initialize the cluster. It's important that on a clean shutdown of searchd the nodes write the number of last executed transaction into the cluster directory [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) file along with flag `safe_to_bootstrap`. The node which was stopped last will have option `safe_to_bootstrap: 1` and the most advanced `seqno` number.\n\nIt is important that this node starts first to form the cluster. To bootstrap a cluster the server should be started on this node with flag [--new-cluster](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md). On Linux you can also run `manticore_new_cluster` which will start Manticore in `--new-cluster` mode via systemd.\n\nIf another node starts first and bootstraps the cluster, then the most advanced node joins that cluster, performs full SST and receives a table file where some transactions are missed in comparison with the table files it got before. That is why it is important to start first the node which was shut down last, it should have flag `safe_to_bootstrap: 1` in [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md).\n\n### Case 4\n\nIn the event of a crash or network failure causing Node A to disappear from the cluster, nodes B and C will attempt to reconnect with Node A. Upon failure, they will remove Node A from the cluster. With two out of the three nodes still running, the cluster maintains its quorum and continues to operate normally.\n\nWhen Node A is restarted, it will join the cluster automatically, as outlined in [Case 1](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-1).\n\n### Case 5\n\nNodes A and B have gone offline. Node C is unable to form a quorum on its own as 1 node is less than half of the total nodes (3). As a result, the cluster on node C is shifted to a non-primary state and rejects any write transactions with an error message.\n\nMeanwhile, node C waits for the other nodes to connect and also tries to connect to them. If this happens, and the network is restored and nodes A and B are back online, the cluster will automatically reform. If nodes A and B are just temporarily disconnected from node C but can still communicate with each other, they will continue to operate as normal, as they still form the quorum.\n\n<!-- example case 5 -->\nHowever, if both nodes A and B have crashed or restarted due to a power failure, someone must activate the primary component on node C using the following command:\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_0\n<!-- request JSON -->\n\nCODE_BLOCK_1\n<!-- end -->\n\nt's important to note that before executing this command, you must confirm that the other nodes are truly unreachable. Otherwise, a split-brain scenario may occur and separate clusters may form.\n\n### Case 6\n\nAll nodes have crashed. In this situation, the [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) file in the cluster directory has not been updated and does not contain a valid `seqno`sequence number.\n\nIf this occurs, someone needs to locate the node with the most recent data and start the server on it using the [--new-cluster-force](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) command line key. All other nodes will start as normal, as described in [Case 3](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-3)).\nOn Linux, you can also use the `manticore_new_cluster --force`, command, which will start Manticore in `--new-cluster-force` mode via systemd.\n\n### Case 7",
        "translations": {
            "chinese": "# \u96c6\u7fa4\u6062\u590d\n\n\u5f53 Manticore \u641c\u7d22\u5b88\u62a4\u8fdb\u7a0b\u505c\u6b62\u4e14\u96c6\u7fa4\u4e2d\u6ca1\u6709\u5269\u4f59\u8282\u70b9\u53ef\u63d0\u4f9b\u670d\u52a1\u65f6\uff0c\u5fc5\u987b\u8fdb\u884c\u6062\u590d\u3002\u7531\u4e8e\u7528\u4e8e\u590d\u5236\u7684 Galera \u5e93\u5177\u6709\u591a\u4e3b\u7279\u6027\uff0cManticore \u590d\u5236\u96c6\u7fa4\u662f\u4e00\u4e2a\u5355\u4e00\u7684\u903b\u8f91\u5b9e\u4f53\uff0c\u5b83\u7ef4\u62a4\u5176\u8282\u70b9\u548c\u6570\u636e\u7684\u4e00\u81f4\u6027\uff0c\u4ee5\u53ca\u6574\u4e2a\u96c6\u7fa4\u7684\u72b6\u6001\u3002\u8fd9\u5141\u8bb8\u5728\u591a\u4e2a\u8282\u70b9\u4e0a\u540c\u65f6\u5b89\u5168\u5199\u5165\uff0c\u786e\u4fdd\u96c6\u7fa4\u7684\u5b8c\u6574\u6027\u3002\n\n\u7136\u800c\uff0c\u8fd9\u4e5f\u5e26\u6765\u4e86\u6311\u6218\u3002\u8ba9\u6211\u4eec\u4ee5\u7531\u8282\u70b9 A\u3001B \u548c C \u7ec4\u6210\u7684\u96c6\u7fa4\u4e3a\u4f8b\uff0c\u770b\u770b\u5f53\u90e8\u5206\u6216\u5168\u90e8\u8282\u70b9\u4e0d\u53ef\u7528\u65f6\u9700\u8981\u505a\u4e9b\u4ec0\u4e48\u3002\n\n### \u60c5\u51b5 1\n\n\u5f53\u8282\u70b9 A \u505c\u6b62\u65f6\uff0c\u5176\u4ed6\u8282\u70b9\u4f1a\u6536\u5230\u201c\u6b63\u5e38\u5173\u95ed\u201d\u6d88\u606f\u3002\u96c6\u7fa4\u89c4\u6a21\u7f29\u5c0f\uff0c\u5e76\u8fdb\u884c\u4ef2\u88c1\u6570\u91cd\u65b0\u8ba1\u7b97\u3002\n\n\u542f\u52a8\u8282\u70b9 A \u65f6\uff0c\u5b83\u4f1a\u52a0\u5165\u96c6\u7fa4\uff0c\u4f46\u5728\u4e0e\u96c6\u7fa4\u5b8c\u5168\u540c\u6b65\u4e4b\u524d\u4e0d\u4f1a\u5904\u7406\u4efb\u4f55\u5199\u4e8b\u52a1\u3002\u5982\u679c\u6350\u8d60\u8005\u8282\u70b9 B \u6216 C \u4e0a\u7684\u5199\u96c6\u7f13\u5b58\uff08\u53ef\u901a\u8fc7 Galera \u96c6\u7fa4\u7684 [gcache.size](https://galeracluster.com/library/documentation/galera-parameters.html#gcache-size) \u63a7\u5236\uff09\u4ecd\u5305\u542b\u8282\u70b9 A \u9519\u8fc7\u7684\u6240\u6709\u4e8b\u52a1\uff0c\u8282\u70b9 A \u5c06\u63a5\u6536\u4e00\u6b21\u5feb\u901f\u589e\u91cf\u72b6\u6001\u8f6c\u79fb\uff08[IST](https://galeracluster.com/library/documentation/state-transfer.html#state-transfer-ist)\uff09\uff0c\u5373\u4ec5\u4f20\u8f93\u9519\u8fc7\u7684\u4e8b\u52a1\u3002\u5982\u679c\u6ca1\u6709\uff0c\u5c06\u8fdb\u884c\u5feb\u7167\u72b6\u6001\u8f6c\u79fb\uff08[SST](https://galeracluster.com/library/documentation/state-transfer.html#state-transfer-sst)\uff09\uff0c\u6d89\u53ca\u8f6c\u79fb\u8868\u6587\u4ef6\u3002\n\n### \u60c5\u51b5 2\n\n\u5728\u8282\u70b9 A \u548c B \u90fd\u505c\u6b62\u7684\u573a\u666f\u4e0b\uff0c\u96c6\u7fa4\u89c4\u6a21\u51cf\u5c11\u5230 1\uff0c\u7531\u8282\u70b9 C \u5f62\u6210\u4e3b\u8981\u7ec4\u4ef6\u5904\u7406\u5199\u4e8b\u52a1\u3002\n\n\u7136\u540e\uff0c\u8282\u70b9 A \u548c B \u53ef\u4ee5\u7167\u5e38\u542f\u52a8\uff0c\u542f\u52a8\u540e\u5c06\u52a0\u5165\u96c6\u7fa4\u3002\u8282\u70b9 C \u4f5c\u4e3a\u6350\u8d60\u8005\uff0c\u4e3a\u8282\u70b9 A \u548c B \u63d0\u4f9b\u72b6\u6001\u8f6c\u79fb\u3002\n\n### \u60c5\u51b5 3\n\n\u6240\u6709\u8282\u70b9\u90fd\u5df2\u5173\u95ed\uff0c\u96c6\u7fa4\u5904\u4e8e\u5173\u95ed\u72b6\u6001\u3002\n\n\u73b0\u5728\u7684\u95ee\u9898\u662f\u5982\u4f55\u521d\u59cb\u5316\u96c6\u7fa4\u3002\u91cd\u8981\u7684\u662f\uff0c\u5728 searchd \u7684\u5e72\u51c0\u5173\u95ed\u8fc7\u7a0b\u4e2d\uff0c\u8282\u70b9\u4f1a\u5c06\u6700\u540e\u6267\u884c\u7684\u4e8b\u52a1\u7f16\u53f7\u5199\u5165\u96c6\u7fa4\u76ee\u5f55\u4e2d\u7684 [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u6587\u4ef6\uff0c\u5e76\u5e26\u6709 `safe_to_bootstrap` \u6807\u5fd7\u3002\u6700\u540e\u505c\u6b62\u7684\u8282\u70b9\u4f1a\u6709\u9009\u9879 `safe_to_bootstrap: 1` \u548c\u6700\u5148\u8fdb\u7684 `seqno` \u7f16\u53f7\u3002\n\n\u5fc5\u987b\u5148\u542f\u52a8\u8fd9\u4e2a\u8282\u70b9\u4ee5\u5f62\u6210\u96c6\u7fa4\u3002\u8981\u542f\u52a8\u96c6\u7fa4\uff0c\u5e94\u8be5\u4f7f\u7528 [--new-cluster](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u6807\u5fd7\u5728\u8be5\u8282\u70b9\u4e0a\u542f\u52a8\u670d\u52a1\u5668\u3002\u5728 Linux \u4e0a\uff0c\u4e5f\u53ef\u4ee5\u8fd0\u884c `manticore_new_cluster`\uff0c\u5b83\u5c06\u901a\u8fc7 systemd \u4ee5 `--new-cluster` \u6a21\u5f0f\u542f\u52a8 Manticore\u3002\n\n\u5982\u679c\u5176\u4ed6\u8282\u70b9\u5148\u542f\u52a8\u5e76\u81ea\u4e3e\u96c6\u7fa4\uff0c\u90a3\u4e48\u6700\u5148\u8fdb\u7684\u8282\u70b9\u4f1a\u52a0\u5165\u8be5\u96c6\u7fa4\uff0c\u6267\u884c\u5b8c\u5168 SST \u5e76\u63a5\u6536\u4e00\u4e2a\u7f3a\u5931\u90e8\u5206\u4e8b\u52a1\u7684\u8868\u6587\u4ef6\uff0c\u8fd9\u4e0e\u4e4b\u524d\u5b83\u6240\u62e5\u6709\u7684\u8868\u6587\u4ef6\u4e0d\u540c\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5fc5\u987b\u5148\u542f\u52a8\u6700\u540e\u5173\u95ed\u7684\u8282\u70b9\uff0c\u5b83\u5728 [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u4e2d\u5e94\u6709 `safe_to_bootstrap: 1` \u6807\u5fd7\u3002\n\n### \u60c5\u51b5 4\n\n\u53d1\u751f\u5d29\u6e83\u6216\u7f51\u7edc\u6545\u969c\u5bfc\u81f4\u8282\u70b9 A \u4ece\u96c6\u7fa4\u6d88\u5931\u65f6\uff0c\u8282\u70b9 B \u548c C \u4f1a\u5c1d\u8bd5\u91cd\u65b0\u8fde\u63a5\u8282\u70b9 A\u3002\u5931\u8d25\u540e\uff0c\u5b83\u4eec\u4f1a\u5c06\u8282\u70b9 A \u4ece\u96c6\u7fa4\u4e2d\u79fb\u9664\u3002\u7531\u4e8e\u4e09\u8282\u70b9\u4e2d\u7684\u4e24\u4e2a\u4ecd\u5728\u8fd0\u884c\uff0c\u96c6\u7fa4\u4fdd\u6301\u4ef2\u88c1\u6570\uff0c\u7ee7\u7eed\u6b63\u5e38\u8fd0\u884c\u3002\n\n\u5f53\u8282\u70b9 A \u91cd\u542f\u65f6\uff0c\u5b83\u5c06\u81ea\u52a8\u52a0\u5165\u96c6\u7fa4\uff0c\u5982[\u60c5\u51b5 1](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-1)\u6240\u8ff0\u3002\n\n### \u60c5\u51b5 5\n\n\u8282\u70b9 A \u548c B \u79bb\u7ebf\u3002\u8282\u70b9 C \u65e0\u6cd5\u81ea\u884c\u5f62\u6210\u4ef2\u88c1\u6570\uff0c\u56e0\u4e3a 1 \u4e2a\u8282\u70b9\u5c0f\u4e8e\u5168\u90e8 3 \u4e2a\u8282\u70b9\u7684\u4e00\u534a\u3002\u56e0\u6b64\uff0c\u8282\u70b9 C \u4e0a\u7684\u96c6\u7fa4\u72b6\u6001\u53d8\u4e3a\u975e\u4e3b\u8981\u72b6\u6001\uff0c\u62d2\u7edd\u4efb\u4f55\u5199\u4e8b\u52a1\u5e76\u663e\u793a\u9519\u8bef\u6d88\u606f\u3002\n\n\u540c\u65f6\uff0c\u8282\u70b9 C \u7b49\u5f85\u5176\u4ed6\u8282\u70b9\u8fde\u63a5\u5e76\u5c1d\u8bd5\u8fde\u63a5\u5b83\u4eec\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u7f51\u7edc\u6062\u590d\uff0c\u8282\u70b9 A \u548c B \u91cd\u65b0\u4e0a\u7ebf\uff0c\u96c6\u7fa4\u5c06\u81ea\u52a8\u91cd\u7ec4\u3002\u5982\u679c\u8282\u70b9 A \u548c B \u53ea\u662f\u4e34\u65f6\u65ad\u5f00\u4e0e\u8282\u70b9 C \u7684\u8fde\u63a5\uff0c\u4f46\u5b83\u4eec\u4ecd\u80fd\u76f8\u4e92\u901a\u4fe1\uff0c\u5219\u5b83\u4eec\u5c06\u7ee7\u7eed\u6b63\u5e38\u8fd0\u884c\uff0c\u56e0\u4e3a\u5b83\u4eec\u4ecd\u7136\u5f62\u6210\u4e86\u4ef2\u88c1\u6570\u3002\n\n<!-- example case 5 -->\n\u4f46\u5982\u679c\u8282\u70b9 A \u548c B \u90fd\u56e0\u65ad\u7535\u800c\u5d29\u6e83\u6216\u91cd\u542f\uff0c\u5219\u5fc5\u987b\u6709\u4eba\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5728\u8282\u70b9 C \u4e0a\u6fc0\u6d3b\u4e3b\u7ec4\u4ef6\uff1a\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_0\n<!-- request JSON -->\n\nCODE_BLOCK_1\n<!-- end -->\n\n\u91cd\u8981\u7684\u662f\uff0c\u5728\u6267\u884c\u8be5\u547d\u4ee4\u4e4b\u524d\uff0c\u5fc5\u987b\u786e\u8ba4\u5176\u4ed6\u8282\u70b9\u786e\u5b9e\u65e0\u6cd5\u8bbf\u95ee\u3002\u5426\u5219\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u8111\u88c2\uff0c\u5f62\u6210\u5206\u79bb\u7684\u96c6\u7fa4\u3002\n\n### \u60c5\u51b5 6\n\n\u6240\u6709\u8282\u70b9\u5d29\u6e83\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u96c6\u7fa4\u76ee\u5f55\u4e2d\u7684 [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u6587\u4ef6\u672a\u66f4\u65b0\uff0c\u4e14\u4e0d\u5305\u542b\u6709\u6548\u7684 `seqno` \u5e8f\u5217\u53f7\u3002\n\n\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u6709\u4eba\u627e\u5230\u6570\u636e\u6700\u65b0\u7684\u8282\u70b9\uff0c\u5e76\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570 [--new-cluster-force](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u542f\u52a8\u8be5\u8282\u70b9\u4e0a\u7684\u670d\u52a1\u5668\u3002\u6240\u6709\u5176\u4ed6\u8282\u70b9\u5c06\u6309\u6b63\u5e38\u65b9\u5f0f\u542f\u52a8\uff0c\u5982[\u60c5\u51b5 3](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-3)\u6240\u8ff0\u3002\n\u5728 Linux \u4e0a\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 `manticore_new_cluster --force` \u547d\u4ee4\uff0c\u901a\u8fc7 systemd \u4ee5 `--new-cluster-force` \u6a21\u5f0f\u542f\u52a8 Manticore\u3002\n\n### \u60c5\u51b5 7",
            "russian": "# \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\n\n\u0412 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0434\u0435\u043c\u043e\u043d \u043f\u043e\u0438\u0441\u043a\u0430 Manticore \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435 \u043d\u0435 \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0443\u0437\u043b\u043e\u0432 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435. \u0418\u0437-\u0437\u0430 \u043c\u0443\u043b\u044c\u0442\u0438-\u043c\u0430\u0441\u0442\u0435\u0440\u043d\u043e\u0439 \u043f\u0440\u0438\u0440\u043e\u0434\u044b \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 Galera, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0439 \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438, \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 Manticore \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u043e\u0439 \u0435\u0434\u0438\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043e\u0431\u044a\u0435\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0441\u0432\u043e\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 \u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0432\u0441\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0443\u0437\u043b\u0430\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430.\n\n\u041e\u0434\u043d\u0430\u043a\u043e \u044d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438. \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0438\u0437 \u0443\u0437\u043b\u043e\u0432 A, B \u0438 C, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043d\u044f\u0442\u044c, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043b\u0438 \u0432\u0441\u0435 \u0443\u0437\u043b\u044b \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c\u0438.\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 1\n\n\u041a\u043e\u0433\u0434\u0430 \u0443\u0437\u0435\u043b A \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f, \u0434\u0440\u0443\u0433\u0438\u0435 \u0443\u0437\u043b\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e \u00ab\u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b\u00bb. \u0420\u0430\u0437\u043c\u0435\u0440 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442\u0441\u044f, \u0438 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0435\u0442 \u043a\u0432\u043e\u0440\u0443\u043c\u0430.\n\n\u041f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0443\u0437\u0435\u043b A \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0441\u044f \u043a \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0443 \u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438, \u043f\u043e\u043a\u0430 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u043c. \u0415\u0441\u043b\u0438 \u043a\u044d\u0448 \u043d\u0430\u0431\u043e\u0440\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u043d\u0430 \u0443\u0437\u043b\u0430\u0445-\u0434\u043e\u043d\u043e\u0440\u043e\u0432 B \u0438\u043b\u0438 C (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c Galera \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 [gcache.size](https://galeracluster.com/library/documentation/galera-parameters.html#gcache-size)) \u043f\u043e-\u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0432\u0441\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u0443\u0437\u043b\u043e\u043c A, \u0443\u0437\u0435\u043b A \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u0438\u043d\u043a\u0440\u0435\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f ([IST](https://galeracluster.com/library/documentation/state-transfer.html#state-transfer-ist)), \u0442\u043e \u0435\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0441\u043d\u0438\u043c\u043a\u0430 ([SST](https://galeracluster.com/library/documentation/state-transfer.html#state-transfer-sst)), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0444\u0430\u0439\u043b\u043e\u0432 \u0442\u0430\u0431\u043b\u0438\u0446.\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 2\n\n\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0443\u0437\u043b\u043e\u0432 A \u0438 B \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0434\u043e \u043e\u0434\u043d\u043e\u0433\u043e, \u0443\u0437\u0435\u043b C \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443 \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n\u0417\u0430\u0442\u0435\u043c \u0443\u0437\u043b\u044b A \u0438 B \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u044b \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u043e \u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u0441\u044f \u043a \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0443 \u043f\u043e\u0441\u043b\u0435 \u0441\u0442\u0430\u0440\u0442\u0430. \u0423\u0437\u0435\u043b C \u0432\u044b\u0441\u0442\u0443\u043f\u0430\u0435\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0434\u043e\u043d\u043e\u0440\u0430, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044f \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0443\u0437\u043b\u0430\u043c A \u0438 B.\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 3\n\n\u0412\u0441\u0435 \u0443\u0437\u043b\u044b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b, \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d.\n\n\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0442\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u043a\u0430\u043a \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440. \u0412\u0430\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b searchd \u0443\u0437\u043b\u044b \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0439 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432 \u0444\u0430\u0439\u043b [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0444\u043b\u0430\u0433\u043e\u043c `safe_to_bootstrap`. \u0423\u0437\u0435\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u043c, \u0431\u0443\u0434\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u043f\u0446\u0438\u044e `safe_to_bootstrap: 1` \u0438 \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 `seqno`.\n\n\u0412\u0430\u0436\u043d\u044b\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u044d\u0442\u043e\u0442 \u0443\u0437\u0435\u043b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u043b\u0441\u044f \u043f\u0435\u0440\u0432\u044b\u043c \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430. \u0414\u043b\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u044d\u0442\u043e\u043c \u0443\u0437\u043b\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0441 \u0444\u043b\u0430\u0433\u043e\u043c [--new-cluster](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md). \u0412 Linux \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c `manticore_new_cluster`, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442\u0443\u0435\u0442 Manticore \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 `--new-cluster` \u0447\u0435\u0440\u0435\u0437 systemd.\n\n\u0415\u0441\u043b\u0438 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u043e\u0439 \u0443\u0437\u0435\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u043a\u043b\u0430\u0441\u0442\u0435\u0440, \u0442\u043e \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 \u0443\u0437\u0435\u043b \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f \u043a \u044d\u0442\u043e\u043c\u0443 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0443, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442 \u043f\u043e\u043b\u043d\u0443\u044e SST \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0444\u0430\u0439\u043b\u044b \u0442\u0430\u0431\u043b\u0438\u0446, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 \u0442\u0435\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u043d \u0438\u043c\u0435\u043b \u0440\u0430\u043d\u0435\u0435. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u0430\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0443\u0437\u0435\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u043c, \u0438 \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432 \u0444\u0430\u0439\u043b\u0435 [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0444\u043b\u0430\u0433 `safe_to_bootstrap: 1`.\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 4\n\n\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0431\u043e\u044f \u0438\u043b\u0438 \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u043e\u0442\u043a\u0430\u0437\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0443\u0437\u0435\u043b A \u0438\u0441\u0447\u0435\u0437\u0430\u0435\u0442 \u0438\u0437 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430, \u0443\u0437\u043b\u044b B \u0438 C \u043f\u043e\u043f\u044b\u0442\u0430\u044e\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0443\u0437\u043b\u0443 A. \u041f\u0440\u0438 \u043d\u0435\u0443\u0434\u0430\u0447\u0435 \u043e\u043d\u0438 \u0443\u0434\u0430\u043b\u044f\u0442 \u0443\u0437\u0435\u043b A \u0438\u0437 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430. \u0421 \u0434\u0432\u0443\u043c\u044f \u0438\u0437 \u0442\u0440\u0435\u0445 \u0443\u0437\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e\u0442 \u0440\u0430\u0431\u043e\u0442\u0443, \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043a\u0432\u043e\u0440\u0443\u043c \u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e.\n\n\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0443\u0437\u0435\u043b A \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u0441\u044f \u043a \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0443, \u043a\u0430\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0432 [\u0421\u043b\u0443\u0447\u0430\u0435 1](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-1).\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 5\n\n\u0423\u0437\u043b\u044b A \u0438 B \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0442\u0440\u043e\u044f. \u0423\u0437\u0435\u043b C \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0432\u043e\u0440\u0443\u043c, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 1 \u0443\u0437\u0435\u043b \u043c\u0435\u043d\u044c\u0448\u0435 \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u044b \u043e\u0442 \u043e\u0431\u0449\u0435\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0443\u0437\u043b\u043e\u0432 (3). \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u043d\u0430 \u0443\u0437\u043b\u0435 C \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 non-primary \u0438 \u043e\u0442\u043a\u043b\u043e\u043d\u044f\u0435\u0442 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435.\n\n\u0422\u0435\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u0443\u0437\u0435\u043b C \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 \u0438 \u0442\u0430\u043a\u0436\u0435 \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u043a \u043d\u0438\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f. \u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442, \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0442\u044c, \u0438 \u0443\u0437\u043b\u044b A \u0438 B \u0441\u043d\u043e\u0432\u0430 \u0432 \u0441\u0435\u0442\u0438, \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u0443\u0437\u043b\u044b A \u0438 B \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u043e\u0442 \u0443\u0437\u043b\u0430 C, \u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c, \u043e\u043d\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0432 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e\u0442 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u043a\u0432\u043e\u0440\u0443\u043c.\n\n<!-- example case 5 -->\n\u041e\u0434\u043d\u0430\u043a\u043e \u0435\u0441\u043b\u0438 \u043e\u0431\u0430 \u0443\u0437\u043b\u0430 A \u0438 B \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0442\u0440\u043e\u044f \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0438\u0441\u044c \u0438\u0437-\u0437\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0438\u0442\u0430\u043d\u0438\u044f, \u043a\u043e\u043c\u0443-\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443 \u043d\u0430 \u0443\u0437\u043b\u0435 C \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_0\n<!-- request JSON -->\n\nCODE_BLOCK_1\n<!-- end -->\n\n\u0412\u0430\u0436\u043d\u044b\u043c \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e, \u0447\u0442\u043e \u043f\u0435\u0440\u0435\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0434\u0440\u0443\u0433\u0438\u0435 \u0443\u0437\u043b\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b. \u0418\u043d\u0430\u0447\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0442\u0438 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043c\u043e\u0437\u0433\u0430 (split-brain), \u0438 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u044b.\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 6\n\n\u0412\u0441\u0435 \u0443\u0437\u043b\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0442\u0440\u043e\u044f. \u0412 \u044d\u0442\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0444\u0430\u0439\u043b [grastate.dat](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u043d\u0435 \u0431\u044b\u043b \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d \u0438 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 `seqno`.\n\n\u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u0441\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u0439\u0442\u0438 \u0443\u0437\u0435\u043b \u0441 \u0441\u0430\u043c\u044b\u043c\u0438 \u0441\u0432\u0435\u0436\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u043d\u0435\u043c \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043a\u043b\u044e\u0447\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 [--new-cluster-force](../../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md). \u0412\u0441\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0443\u0437\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u044b \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u043e, \u043a\u0430\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0432 [\u0421\u043b\u0443\u0447\u0430\u0435 3](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-3)).\n\u0412 Linux \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 `manticore_new_cluster --force`, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442 Manticore \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 `--new-cluster-force` \u0447\u0435\u0440\u0435\u0437 systemd.\n\n### \u0421\u043b\u0443\u0447\u0430\u0439 7"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339807
    },
    "b47dae90bfa6b1244882b14cfec349dbc7785ba6ea7cc48a2c9c67bd029b7235": {
        "original": "Split-brain can cause the cluster to transition into a non-primary state. For example, consider a cluster comprised of an even number of nodes (four), such as two pairs of nodes located in different data centers. If a network failure interrupts the connection between the data centers, split-brain occurs as each group of nodes holds exactly half of the quorum. As a result, both groups stop handling write transactions, since the Galera replication model prioritizes data consistency, and the cluster cannot accept write transactions without a quorum. However, nodes in both groups attempt to reconnect with the nodes from the other group in an effort to restore the cluster.\n\n<!-- example case 7 -->\nIf someone wants to restore the cluster before the network is restored, the same steps outlined in [Case 5](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-5) hould be taken, but only at one group of nodes.\n\nAfter the statement is executed, the group with the node that it was run on will be able to handle write transactions once again.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_2\n<!-- request JSON -->\n\nCODE_BLOCK_3\n<!-- end -->\n\nHowever, it's important to note that if the statement is issued at both groups, it will result in the formation of two separate clusters, and the subsequent network recovery will not result in the groups rejoining.\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "\u8111\u88c2\u53ef\u80fd\u5bfc\u81f4\u96c6\u7fa4\u8f6c\u53d8\u4e3a\u975e\u4e3b\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u8003\u8651\u4e00\u4e2a\u7531\u5076\u6570\u4e2a\u8282\u70b9\uff08\u56db\u4e2a\uff09\u7ec4\u6210\u7684\u96c6\u7fa4\uff0c\u6bd4\u5982\u4f4d\u4e8e\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u7684\u4e24\u5bf9\u8282\u70b9\u3002\u5982\u679c\u7f51\u7edc\u6545\u969c\u4e2d\u65ad\u4e86\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u8111\u88c2\u5c31\u4f1a\u53d1\u751f\uff0c\u56e0\u4e3a\u6bcf\u7ec4\u8282\u70b9\u6070\u597d\u6301\u6709\u534a\u6570\u4ef2\u88c1\u3002\u7ed3\u679c\uff0c\u4e24\u7ec4\u8282\u70b9\u90fd\u505c\u6b62\u5904\u7406\u5199\u4e8b\u52a1\uff0c\u56e0\u4e3aGalera\u590d\u5236\u6a21\u578b\u4f18\u5148\u8003\u8651\u6570\u636e\u4e00\u81f4\u6027\uff0c\u6ca1\u6709\u4ef2\u88c1\u7684\u96c6\u7fa4\u65e0\u6cd5\u63a5\u53d7\u5199\u4e8b\u52a1\u3002\u7136\u800c\uff0c\u4e24\u7ec4\u4e2d\u7684\u8282\u70b9\u90fd\u4f1a\u5c1d\u8bd5\u4e0e\u53e6\u4e00\u7ec4\u7684\u8282\u70b9\u91cd\u65b0\u8fde\u63a5\uff0c\u4ee5\u52aa\u529b\u6062\u590d\u96c6\u7fa4\u3002\n\n<!-- example case 7 -->\n\u5982\u679c\u6709\u4eba\u5728\u7f51\u7edc\u6062\u590d\u4e4b\u524d\u60f3\u8981\u6062\u590d\u96c6\u7fa4\uff0c\u5e94\u91c7\u53d6[\u6848\u4f8b5](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-5)\u4e2d\u6982\u8ff0\u7684\u76f8\u540c\u6b65\u9aa4\uff0c\u4f46\u4ec5\u5728\u5176\u4e2d\u4e00\u7ec4\u8282\u70b9\u4e0a\u6267\u884c\u3002\n\n\u6267\u884c\u8be5\u8bed\u53e5\u540e\uff0c\u8fd0\u884c\u8be5\u8bed\u53e5\u7684\u8282\u70b9\u6240\u5728\u7ec4\u5c06\u80fd\u591f\u518d\u6b21\u5904\u7406\u5199\u4e8b\u52a1\u3002\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_2\n<!-- request JSON -->\n\nCODE_BLOCK_3\n<!-- end -->\n\n\u7136\u800c\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u5728\u4e24\u7ec4\u8282\u70b9\u4e0a\u90fd\u6267\u884c\u8be5\u8bed\u53e5\uff0c\u5c06\u5bfc\u81f4\u5f62\u6210\u4e24\u4e2a\u72ec\u7acb\u7684\u96c6\u7fa4\uff0c\u968f\u540e\u7684\u7f51\u7edc\u6062\u590d\u4e5f\u4e0d\u4f1a\u4f7f\u4e24\u7ec4\u91cd\u65b0\u5408\u5e76\u3002\n<!-- proofread -->",
            "russian": "\u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u0437\u0433\u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0443 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0431\u0435\u0437 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440, \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u0438\u0437 \u0447\u0435\u0442\u043d\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0443\u0437\u043b\u043e\u0432 (\u0447\u0435\u0442\u044b\u0440\u0435), \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0434\u0432\u0435 \u043f\u0430\u0440\u044b \u0443\u0437\u043b\u043e\u0432, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0446\u0435\u043d\u0442\u0440\u0430\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445. \u0415\u0441\u043b\u0438 \u0441\u0431\u043e\u0439 \u0441\u0435\u0442\u0438 \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u0446\u0435\u043d\u0442\u0440\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u0437\u0433\u0430, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043a\u0430\u0436\u0434\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430 \u0443\u0437\u043b\u043e\u0432 \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0440\u043e\u0432\u043d\u043e \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0443 \u043a\u0432\u043e\u0440\u0443\u043c\u0430. \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043e\u0431\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u044e\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043c\u043e\u0434\u0435\u043b\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 Galera \u043e\u0442\u0434\u0430\u0435\u0442 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u0435\u0437 \u043a\u0432\u043e\u0440\u0443\u043c\u0430. \u041e\u0434\u043d\u0430\u043a\u043e \u0443\u0437\u043b\u044b \u0432 \u043e\u0431\u0435\u0438\u0445 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u043f\u044b\u0442\u0430\u044e\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0443\u0437\u043b\u0430\u043c \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440.\n\n<!-- example case 7 -->\n\u0415\u0441\u043b\u0438 \u043a\u0442\u043e-\u0442\u043e \u0445\u043e\u0447\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0442\u0435\u0440 \u0434\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0442\u0438, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0442\u0435 \u0436\u0435 \u0448\u0430\u0433\u0438, \u0447\u0442\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u0432 [\u0421\u043b\u0443\u0447\u0430\u0435 5](../../Creating_a_cluster/Setting_up_replication/Cluster_recovery.md#Case-5), \u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043e\u0434\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443\u0437\u043b\u043e\u0432.\n\n\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0433\u0440\u0443\u043f\u043f\u0430 \u0441 \u0443\u0437\u043b\u043e\u043c, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043e\u043d \u0431\u044b\u043b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d, \u0441\u043d\u043e\u0432\u0430 \u0441\u043c\u043e\u0436\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_2\n<!-- request JSON -->\n\nCODE_BLOCK_3\n<!-- end -->\n\n\u041e\u0434\u043d\u0430\u043a\u043e \u0432\u0430\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432 \u043e\u0431\u0435\u0438\u0445 \u0433\u0440\u0443\u043f\u043f\u0430\u0445, \u044d\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0434\u0432\u0443\u0445 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432, \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0442\u0438 \u043d\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u043c\u0443 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044e \u0433\u0440\u0443\u043f\u043f.\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1766374177
    }
}