{
  "cde45d09c95f0fc132856da50405831c29dc09c818803ad6afb531464d0306dd": {
    "original": "# Restarting a cluster\n\nIn a multi-master replication cluster, a reference point must be established before other nodes can join and form the cluster. This is called cluster bootstrapping and involves starting a single node as the `primary component`. Restarting a single node or reconnecting after a shutdown can be done normally.\n\nIn case of a full cluster shutdown, the server that was stopped last should be started first with the `--new-cluster` command line option or by running `manticore_new_cluster`   through systemd. To ensure that the server is capable of being the reference point, the `grastate.dat` file located at the cluster [path](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster) should be updated with a value of 1 for the `safe_to_bootstrap` option. Both conditions, `--new-cluster` and `safe_to_bootstrap=1`, must be met. If any other node is started without these options set, an error will occur. The `--new-cluster-force` command line option can be used to override this protection and start the cluster from another server forcibly. Alternatively, you can run `manticore_new_cluster --force` to use systemd.\n\nIn the event of a hard crash or an unclean shutdown of all servers in the cluster, the most advanced node with the largest `seqno` in the `grastate.dat` file located at the cluster [path](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster) must be identified and started with the `--new-cluster-force` command line key.\n\n<!-- proofread -->",
    "translations": {
      "chinese": "# 重启集群\n\n在多主复制集群中，必须建立一个参考点，其他节点才能加入并形成集群。这称为集群引导，涉及将单个节点作为`primary component`启动。单个节点的重启或关机后的重新连接可以正常进行。\n\n在完全关闭集群的情况下，应首先启动最后停止的服务器，并使用`--new-cluster`命令行选项或通过systemd运行`manticore_new_cluster`。为了确保服务器能够作为参考点，位于集群[路径](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster)的`grastate.dat`文件中的`safe_to_bootstrap`选项应更新为1。必须满足两个条件，`--new-cluster`和`safe_to_bootstrap=1`。如果启动其他节点时未设置这些选项，将会发生错误。可以使用`--new-cluster-force`命令行选项来覆盖此保护，强制从另一台服务器启动集群。或者，可以运行`manticore_new_cluster --force`来使用systemd。\n\n在集群中所有服务器发生硬崩溃或非正常关闭的情况下，必须识别并启动位于集群[路径](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster)的`grastate.dat`文件中具有最大`seqno`的最先进节点，并使用`--new-cluster-force`命令行参数启动。 \n\n<!-- proofread -->",
      "russian": "# Перезапуск кластера\n\nВ кластере с мульти-мастер репликацией необходимо установить опорную точку, прежде чем другие узлы смогут присоединиться и сформировать кластер. Это называется инициализацией кластера и включает запуск одного узла как `primary component`. Перезапуск одного узла или повторное подключение после выключения можно выполнять в обычном режиме.\n\nВ случае полного выключения кластера сервер, который был остановлен последним, должен быть запущен первым с опцией командной строки `--new-cluster` или путем запуска `manticore_new_cluster` через systemd. Чтобы убедиться, что сервер может быть опорной точкой, файл `grastate.dat`, расположенный в [пути](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster) кластера, должен быть обновлен значением 1 для опции `safe_to_bootstrap`. Должны быть выполнены оба условия: `--new-cluster` и `safe_to_bootstrap=1`. Если любой другой узел будет запущен без этих установленных опций, возникнет ошибка. Опция командной строки `--new-cluster-force` может быть использована для принудительного обхода этой защиты и запуска кластера с другого сервера. Альтернативно, можно запустить `manticore_new_cluster --force` для использования systemd.\n\nВ случае жесткого сбоя или некорректного выключения всех серверов в кластере необходимо определить наиболее продвинутый узел с наибольшим `seqno` в файле `grastate.dat`, расположенном в [пути](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster) кластера, и запустить его с ключом командной строки `--new-cluster-force`.\n\n<!-- proofread -->"
    },
    "is_code_or_comment": false
  }
}
