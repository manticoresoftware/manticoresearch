{
  "2f59f1544da35f0524cd5dc9861f2682d3b74fdc9fa646cfa7369cf392aa2afc": {
    "original": "# Merging tables\n\nMerging two existing **plain** tables can be more efficient than indexing the data from scratch and might be desired in some cases (such as merging 'main' and 'delta' tables instead of simply rebuilding 'main' in the 'main+delta' partitioning scheme). Thus,`indexer` provides an option to do that. Merging tables is typically faster than rebuilding, but still **not** instant for huge tables. Essentially, it needs to read the contents of both tables once and write the result once. Merging a 100 GB and 1 GB table, for example, will result in 202 GB of I/O (but that's still likely less than indexing from scratch requires).\n\nThe basic command syntax is as follows:\n\nCODE_BLOCK_0\n\nUnless `--drop-src` is specified, only the DSTINDEX table will be affected: the contents of SRCINDEX will be merged into it.\n\nThe `--rotate` switch is required if DSTINDEX is already being served by `searchd`.\n\nThe typical usage pattern is to merge a smaller update from SRCINDEX into DSTINDEX. Thus, when merging attributes, the values from SRCINDEX will take precedence if duplicate document IDs are encountered. However, note that the \"old\" keywords will **not** be automatically removed in such cases. For example, if there's a keyword \"old\" associated with document 123 in DSTINDEX, and a keyword \"new\" associated with it in SRCINDEX, document 123 will be found by both keywords after the merge. You can supply an explicit condition to remove documents from DSTINDEX to mitigate this; the relevant switch is `--merge-dst-range`:\n\nCODE_BLOCK_1\n\nThis switch allows you to apply filters to the destination table along with merging. There can be several filters; all of their conditions must be met in order to include the document in the resulting merged table. In the example above, the filter passes only those records where 'deleted' is 0, eliminating all records that were flagged as deleted.\n\n`--drop-src` enables dropping SRCINDEX after the merge and before rotating the tables, which is important if you specify DSTINDEX in `killlist_target` of DSTINDEX. Otherwise, when rotating the tables, the documents that have been merged into DSTINDEX may be suppressed by SRCINDEX.\n\n<!-- proofread -->",
    "translations": {
      "chinese": "# 合并表格\n\n合并两个现有的**普通**表格可能比从头开始索引数据更高效，并且在某些情况下可能是需要的（例如在“main+delta”分区方案中合并“main”和“delta”表，而不是简单地重建“main”表）。因此，`indexer` 提供了一个选项来实现这一点。合并表格通常比重建更快，但对于巨大的表格来说仍然**不是**瞬间完成的。基本上，它需要读取两个表的内容一次，并写入结果一次。例如，合并一个100 GB和一个1 GB的表，将导致202 GB的I/O（但这仍然可能少于从头索引所需的量）。\n\n基本命令语法如下：\n\nCODE_BLOCK_0\n\n除非指定了 `--drop-src`，否则只有 DSTINDEX 表会受到影响：SRCINDEX 的内容将被合并到 DSTINDEX 中。\n\n如果 DSTINDEX 已经被 `searchd` 服务，则需要使用 `--rotate` 选项。\n\n典型的使用模式是将较小的更新从 SRCINDEX 合并到 DSTINDEX 中。因此，在合并属性时，如果遇到重复的文档ID，SRCINDEX 中的值将优先使用。但是，请注意，在这种情况下，“旧”的关键字**不会**被自动删除。例如，如果 DSTINDEX 中文档123关联了关键字“old”，而 SRCINDEX 中关联了关键字“new”，合并后文档123将同时被这两个关键字找到。你可以提供一个显式条件来从 DSTINDEX 中删除文档以缓解此问题；相关的选项是 `--merge-dst-range`：\n\nCODE_BLOCK_1\n\n此选项允许你在合并的同时对目标表应用过滤器。可以有多个过滤器；所有条件都必须满足，文档才会被包含在合并后的结果表中。在上面的示例中，过滤器只通过那些 'deleted' 为0的记录，排除了所有被标记为已删除的记录。\n\n`--drop-src` 选项允许在合并后且旋转表之前删除 SRCINDEX，这在你将 DSTINDEX 指定为 DSTINDEX 的 `killlist_target` 时非常重要。否则，在旋转表时，已合并到 DSTINDEX 的文档可能会被 SRCINDEX 抑制。\n\n<!-- proofread -->",
      "russian": "# Объединение таблиц\n\nОбъединение двух существующих **простых** таблиц может быть более эффективным, чем индексация данных с нуля, и может быть желательным в некоторых случаях (например, при объединении таблиц 'main' и 'delta' вместо простого перестроения 'main' в схеме разбиения 'main+delta'). Таким образом, `indexer` предоставляет опцию для этого. Объединение таблиц обычно происходит быстрее, чем перестроение, но всё же **не** мгновенно для огромных таблиц. По сути, необходимо один раз прочитать содержимое обеих таблиц и один раз записать результат. Например, объединение таблиц размером 100 ГБ и 1 ГБ приведёт к 202 ГБ операций ввода-вывода (но это всё равно, вероятно, меньше, чем требуется для индексации с нуля).\n\nОсновной синтаксис команды следующий:\n\nCODE_BLOCK_0\n\nЕсли не указать `--drop-src`, будет затронута только таблица DSTINDEX: содержимое SRCINDEX будет объединено с ней.\n\nПереключатель `--rotate` обязателен, если DSTINDEX уже обслуживается `searchd`.\n\nТипичный сценарий использования — объединение меньшего обновления из SRCINDEX в DSTINDEX. При объединении атрибутов значения из SRCINDEX будут иметь приоритет, если встречаются дублирующиеся идентификаторы документов. Однако обратите внимание, что \"старые\" ключевые слова **не** будут автоматически удалены в таких случаях. Например, если в DSTINDEX для документа 123 есть ключевое слово \"old\", а в SRCINDEX для него же — ключевое слово \"new\", после объединения документ 123 будет найден по обоим ключевым словам. Чтобы смягчить это, можно задать явное условие для удаления документов из DSTINDEX; соответствующий переключатель — `--merge-dst-range`:\n\nCODE_BLOCK_1\n\nЭтот переключатель позволяет применять фильтры к целевой таблице вместе с объединением. Фильтров может быть несколько; все их условия должны быть выполнены, чтобы включить документ в результирующую объединённую таблицу. В приведённом выше примере фильтр пропускает только те записи, где 'deleted' равен 0, исключая все записи, помеченные как удалённые.\n\n`--drop-src` позволяет удалить SRCINDEX после объединения и перед ротацией таблиц, что важно, если вы указываете DSTINDEX в `killlist_target` DSTINDEX. В противном случае при ротации таблиц документы, объединённые в DSTINDEX, могут быть подавлены SRCINDEX.\n\n<!-- proofread -->"
    },
    "is_code_or_comment": false
  }
}
