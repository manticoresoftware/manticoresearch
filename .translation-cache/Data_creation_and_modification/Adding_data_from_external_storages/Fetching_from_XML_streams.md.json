{
    "5cfdee1b401a14980cb92459c311fa2c8b3e2df20abd132932b222e5430b79a4": {
        "original": "Under certain occasions it might be hard or even impossible to guarantee that the incoming XMLpipe2 document bodies are in perfectly valid and conforming UTF-8 encoding. For instance, documents with national single-byte encodings could sneak into the stream. libexpat XML parser is fragile, meaning that it will stop processing in such cases. UTF8 fixup feature lets you avoid that. When fixup is enabled, Manticore will preprocess the incoming stream before passing it to the XML parser and replace invalid UTF-8 sequences with spaces.\n\nCODE_BLOCK_1\n\nExample of XML source without schema in configuration:\n\nCODE_BLOCK_2\n\nExample of XML source with schema in configuration:\n\nCODE_BLOCK_3\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u5f88\u96be\u751a\u81f3\u4e0d\u53ef\u80fd\u4fdd\u8bc1\u4f20\u5165\u7684 XMLpipe2 \u6587\u6863\u4e3b\u4f53\u662f\u5b8c\u5168\u6709\u6548\u4e14\u7b26\u5408\u89c4\u8303\u7684 UTF-8 \u7f16\u7801\u3002\u4f8b\u5982\uff0c\u5e26\u6709\u56fd\u5bb6\u5355\u5b57\u8282\u7f16\u7801\u7684\u6587\u6863\u53ef\u80fd\u4f1a\u6df7\u5165\u6570\u636e\u6d41\u4e2d\u3002libexpat XML \u89e3\u6790\u5668\u6bd4\u8f83\u8106\u5f31\uff0c\u610f\u5473\u7740\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b83\u4f1a\u505c\u6b62\u5904\u7406\u3002UTF8 \u4fee\u6b63\u529f\u80fd\u53ef\u4ee5\u8ba9\u4f60\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002\u5f53\u542f\u7528\u4fee\u6b63\u65f6\uff0cManticore \u4f1a\u5728\u5c06\u4f20\u5165\u6d41\u4f20\u9012\u7ed9 XML \u89e3\u6790\u5668\u4e4b\u524d\u5bf9\u5176\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5e76\u5c06\u65e0\u6548\u7684 UTF-8 \u5e8f\u5217\u66ff\u6362\u4e3a\u7a7a\u683c\u3002\n\nCODE_BLOCK_1\n\n\u672a\u5728\u914d\u7f6e\u4e2d\u5b9a\u4e49\u6a21\u5f0f\u7684 XML \u6e90\u793a\u4f8b\uff1a\n\nCODE_BLOCK_2\n\n\u5728\u914d\u7f6e\u4e2d\u5b9a\u4e49\u4e86\u6a21\u5f0f\u7684 XML \u6e90\u793a\u4f8b\uff1a\n\nCODE_BLOCK_3\n<!-- proofread -->",
            "russian": "\u0412 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0442\u0440\u0443\u0434\u043d\u043e \u0438\u043b\u0438 \u0434\u0430\u0436\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0442\u043e \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0442\u0435\u043b\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 XMLpipe2 \u0438\u043c\u0435\u044e\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 UTF-8 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u043f\u043e\u0442\u043e\u043a \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u043d\u0438\u043a\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0441 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u0434\u043d\u043e-\u0431\u0430\u0439\u0442\u043e\u0432\u044b\u043c\u0438 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430\u043c\u0438. XML-\u043f\u0430\u0440\u0441\u0435\u0440 libexpat \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0445\u0440\u0443\u043f\u043a\u0438\u043c, \u0447\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u043e\u043d \u043f\u0440\u0435\u043a\u0440\u0430\u0442\u0438\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0432 \u0442\u0430\u043a\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445. \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f UTF8 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b. \u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e, Manticore \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u043f\u0435\u0440\u0435\u0434 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435\u0439 \u0435\u0433\u043e XML-\u043f\u0430\u0440\u0441\u0435\u0440\u0443 \u0438 \u0437\u0430\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 UTF-8 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u0430\u043c\u0438.\n\nCODE_BLOCK_1\n\n\u041f\u0440\u0438\u043c\u0435\u0440 XML-\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0431\u0435\u0437 \u0441\u0445\u0435\u043c\u044b \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\n\nCODE_BLOCK_2\n\n\u041f\u0440\u0438\u043c\u0435\u0440 XML-\u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0441\u043e \u0441\u0445\u0435\u043c\u043e\u0439 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:\n\nCODE_BLOCK_3\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339880
    },
    "bf13c878de2eeeabc7995b1eae62589c35ff577db0cecd9550a3d73381f5e852": {
        "original": "# Fetching from XML streams\n\nThe `xmlpipe2` source type allows for passing custom full-text and attribute data to Manticore in a custom XML format, with the schema (i.e., set of fields and attributes) specified in either the XML stream itself or in the source settings.\n\n## Declaration of XML stream\nTo declare the XML stream, the `xmlpipe_command` directive is mandatory and contains the shell command that produces the XML stream to be indexed. This can be a file, but it can also be a program that generates XML content on-the-fly.\n\n## XML file format\n\nWhen indexing an xmlpipe2 source, the indexer runs the specified command, opens a pipe to its stdout, and expects a well-formed XML stream.\n\nHere's an example of what the XML stream data might look like:\n\nCODE_BLOCK_0\n\nArbitrary fields and attributes are allowed. They can also occur in the stream in arbitrary order within each document; the order is ignored. There is a restriction on the maximum field length; fields longer than 2 MB will be truncated to 2 MB (this limit can be changed in the source).\n\nThe schema, i.e., complete fields and attributes list, must be declared before any document can be parsed. This can be done either in the configuration file by using `xmlpipe_field` and `xmlpipe_attr_XXX` settings, or right in the stream using `<sphinx:schema>` element. `<sphinx:schema>` is optional. It is only allowed to occur as the very first sub-element in `<sphinx:docset>`. If there is no in-stream schema definition, settings from the configuration file will be used. Otherwise, stream settings take precedence. Note that the document id should be specified as a property  `id` of tag `<sphinx:document>` (e.g. `<sphinx:document id=\"1235\">`) and is supposed to be a unique-signed positive non-zero 64-bit integer.\n\nUnknown tags (which were not declared neither as fields nor as attributes) will be ignored with a warning. In the example above, `<misc>` will be ignored. All embedded tags and their attributes (such as `<strong>` in `<subject>` in the example above) will be silently ignored.\n\nSupport for incoming stream encodings depends on whether `iconv` is installed on the system. xmlpipe2 is parsed using the `libexpat` parser, which understands US-ASCII, ISO-8859-1, UTF-8, and a few UTF-16 variants natively. Manticore's `configure` script will also check for `libiconv` presence and utilize it to handle other encodings. `libexpat` also enforces the requirement to use the UTF-8 charset on the Manticore side because the parsed data it returns is always in UTF-8.\n\nXML elements (tags) recognized by xmlpipe2 (and their attributes where applicable) are:\n\n* `sphinx:docset` - Mandatory top-level element, denotes and contains the xmlpipe2 document set.\n* `sphinx:schema` -  Optional element, must either occur as the very first child of sphinx:docset or never occur at all. Declares the document schema and contains field and attribute declarations. If present, it overrides per-source settings from the configuration file.\n* `sphinx:field` - Optional element, child of sphinx:schema. Declares a full-text field. Known attributes are:\n    *   \"name\", specifies the XML element name that will be treated as a full-text field in the subsequent documents.\n    *   attr\", specifies whether to also index this field as a string. Possible value is \"string\".\n* `sphinx:attr` - Optional element, child of sphinx:schema. Declares an attribute. Known attributes are:\n    *   \"name\", specifies the element name that should be treated as an attribute in the subsequent documents.\n    *   \"type\", specifies the attribute type. Possible values are \"int\", \"bigint\", \"timestamp\", \"bool\", \"float\", \"multi\" and \"json\".\n    *   \"bits\", specifies the bit size for the \"int\" attribute type. Valid values are 1 to 32.\n    *   \"default\", specifies the default value for this attribute that should be used if the attribute's element is not present in the document.\n* `sphinx:document` - Mandatory element, must be a child of sphinx:docset. Contains arbitrary other elements with field and attribute values to be indexed, as declared either using sphinx:field and sphinx:attr elements or in the configuration file. The only known attribute is \"id\" that must contain the unique integer document ID.\n* `sphinx:killlist` - Optional element, child of sphinx:docset. Contains a number of \"id\" elements whose contents are document IDs to be put into a kill-list of the table. The kill-list is used in multi-table searches to suppress documents found in other tables of the search.\n\n## Data definition in source configuration\n\nIf the XML doesn't define a schema, the data types of tables elements must be defined in the source configuration.\n\n* `xmlpipe_field` -  declares a `text` field.\n* `xmlpipe_field_string` - declares a text field/string attribute. The column will be both indexed as a text field but also stored as a string attribute.\n* `xmlpipe_attr_uint` - declares an integer attribute\n* `xmlpipe_attr_timestamp` - declares a timestamp attribute\n* `xmlpipe_attr_bool` -  declares a boolean attribute\n* `xmlpipe_attr_float` - declares a float attribute\n* `xmlpipe_attr_bigint` - declares a big integer attribute\n* `xmlpipe_attr_multi` - declares a multi-value attribute with integers\n* `xmlpipe_attr_multi_64` - declares a multi-value attribute with 64-bit integers\n* `xmlpipe_attr_string` - declares a string attribute\n* `xmlpipe_attr_json` - declares a JSON attribute\n\n### Specific XML source settings\n\nIf `xmlpipe_fixup_utf8` is set it will enable Manticore-side UTF-8 validation and filtering to prevent XML parser from choking on non-UTF-8 documents. By default, this option is disabled.",
        "translations": {
            "chinese": "# \u4ece XML \u6d41\u83b7\u53d6\u6570\u636e\n\n`xmlpipe2` \u6e90\u7c7b\u578b\u5141\u8bb8\u7528\u81ea\u5b9a\u4e49\u7684 XML \u683c\u5f0f\u5c06\u81ea\u5b9a\u4e49\u5168\u6587\u548c\u5c5e\u6027\u6570\u636e\u4f20\u9012\u7ed9 Manticore\uff0c\u6a21\u5f0f\uff08\u5373\u5b57\u6bb5\u548c\u5c5e\u6027\u96c6\uff09\u53ef\u4ee5\u5728 XML \u6d41\u672c\u8eab\u6216\u6e90\u8bbe\u7f6e\u4e2d\u6307\u5b9a\u3002\n\n## XML \u6d41\u58f0\u660e\n\u8981\u58f0\u660e XML \u6d41\uff0c`xmlpipe_command` \u6307\u4ee4\u662f\u5fc5\u987b\u7684\uff0c\u5b83\u5305\u542b\u751f\u6210\u8981\u7d22\u5f15\u7684 XML \u6d41\u7684 shell \u547d\u4ee4\u3002\u8be5\u547d\u4ee4\u53ef\u4ee5\u662f\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u5b9e\u65f6\u751f\u6210 XML \u5185\u5bb9\u7684\u7a0b\u5e8f\u3002\n\n## XML \u6587\u4ef6\u683c\u5f0f\n\n\u5f53\u7d22\u5f15 xmlpipe2 \u6e90\u65f6\uff0c\u7d22\u5f15\u5668\u8fd0\u884c\u6307\u5b9a\u7684\u547d\u4ee4\uff0c\u6253\u5f00\u5230\u5176 stdout \u7684\u7ba1\u9053\uff0c\u5e76\u671f\u671b\u83b7\u5f97\u683c\u5f0f\u826f\u597d\u7684 XML \u6d41\u3002\n\n\u4e0b\u9762\u662f XML \u6d41\u6570\u636e\u7684\u793a\u4f8b\uff1a\n\nCODE_BLOCK_0\n\n\u5141\u8bb8\u4efb\u610f\u5b57\u6bb5\u548c\u5c5e\u6027\u3002\u5b83\u4eec\u5728\u6d41\u4e2d\u6bcf\u4e2a\u6587\u6863\u5185\u7684\u987a\u5e8f\u4e5f\u53ef\u4ee5\u662f\u4efb\u610f\u7684\uff1b\u987a\u5e8f\u4f1a\u88ab\u5ffd\u7565\u3002\u5b57\u6bb5\u957f\u5ea6\u6709\u9650\u5236\uff1b\u8d85\u8fc7 2 MB \u7684\u5b57\u6bb5\u5c06\u88ab\u622a\u65ad\u5230 2 MB\uff08\u6b64\u9650\u5236\u53ef\u5728\u6e90\u4e2d\u66f4\u6539\uff09\u3002\n\n\u6a21\u5f0f\uff0c\u5373\u5b8c\u6574\u7684\u5b57\u6bb5\u548c\u5c5e\u6027\u5217\u8868\uff0c\u5fc5\u987b\u5728\u4efb\u4f55\u6587\u6863\u89e3\u6790\u4e4b\u524d\u58f0\u660e\u3002\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 `xmlpipe_field` \u548c `xmlpipe_attr_XXX` \u8bbe\u7f6e\u58f0\u660e\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u6d41\u4e2d\u4f7f\u7528 `<sphinx:schema>` \u5143\u7d20\u58f0\u660e\u3002`<sphinx:schema>` \u662f\u53ef\u9009\u7684\u3002\u5b83\u53ea\u80fd\u4f5c\u4e3a `<sphinx:docset>` \u4e2d\u7684\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\u51fa\u73b0\u3002\u5982\u679c\u6d41\u4e2d\u6ca1\u6709\u6a21\u5f0f\u5b9a\u4e49\uff0c\u5219\u4f7f\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u8bbe\u7f6e\u3002\u5426\u5219\uff0c\u6d41\u4e2d\u7684\u8bbe\u7f6e\u4f18\u5148\u3002\u6ce8\u610f\u6587\u6863 ID \u5e94\u4f5c\u4e3a `<sphinx:document>` \u6807\u7b7e\u7684\u5c5e\u6027 `id` \u6307\u5b9a\uff08\u4f8b\u5982 `<sphinx:document id=\"1235\">`\uff09\uff0c\u5e76\u4e14\u5e94\u662f\u552f\u4e00\u7684\u6b63\u7684\u975e\u96f6 64 \u4f4d\u6574\u6570\u3002\n\n\u672a\u77e5\u6807\u7b7e\uff08\u65e2\u672a\u58f0\u660e\u4e3a\u5b57\u6bb5\u4e5f\u672a\u58f0\u660e\u4e3a\u5c5e\u6027\uff09\u5c06\u88ab\u5ffd\u7565\u5e76\u53d1\u51fa\u8b66\u544a\u3002\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684 `<misc>` \u5c06\u88ab\u5ffd\u7565\u3002\u6240\u6709\u5d4c\u5957\u7684\u6807\u7b7e\u53ca\u5176\u5c5e\u6027\uff08\u5982\u4e0a\u4f8b\u4e2d `<subject>` \u4e2d\u7684 `<strong>`\uff09\u5c06\u88ab\u9759\u9ed8\u5ffd\u7565\u3002\n\n\u5bf9\u8f93\u5165\u6d41\u7f16\u7801\u7684\u652f\u6301\u53d6\u51b3\u4e8e\u7cfb\u7edf\u4e0a\u662f\u5426\u5b89\u88c5\u4e86 `iconv`\u3002xmlpipe2 \u4f7f\u7528 `libexpat` \u89e3\u6790\u5668\u89e3\u6790\uff0c\u5b83\u539f\u751f\u652f\u6301 US-ASCII\u3001ISO-8859-1\u3001UTF-8 \u548c\u51e0\u79cd UTF-16 \u53d8\u4f53\u3002Manticore \u7684 `configure` \u811a\u672c\u8fd8\u4f1a\u68c0\u6d4b `libiconv` \u7684\u5b58\u5728\uff0c\u5e76\u5229\u7528\u5176\u5904\u7406\u5176\u4ed6\u7f16\u7801\u3002`libexpat` \u8fd8\u5f3a\u5236\u8981\u6c42 Manticore \u4fa7\u4f7f\u7528 UTF-8 \u5b57\u7b26\u96c6\uff0c\u56e0\u4e3a\u5b83\u8fd4\u56de\u7684\u89e3\u6790\u6570\u636e\u603b\u662f UTF-8\u3002\n\nxmlpipe2 \u8bc6\u522b\u7684 XML \u5143\u7d20\uff08\u6807\u7b7e\uff09\u53ca\u5176\u9002\u7528\u7684\u5c5e\u6027\u6709\uff1a\n\n* `sphinx:docset` - \u5fc5\u987b\u7684\u9876\u5c42\u5143\u7d20\uff0c\u8868\u793a\u5e76\u5305\u542b xmlpipe2 \u6587\u6863\u96c6\u3002\n* `sphinx:schema` - \u53ef\u9009\u5143\u7d20\uff0c\u5fc5\u987b\u662f sphinx:docset \u7684\u7b2c\u4e00\u4e2a\u5b50\u5143\u7d20\u6216\u6839\u672c\u4e0d\u51fa\u73b0\u3002\u58f0\u660e\u6587\u6863\u6a21\u5f0f\uff0c\u5305\u542b\u5b57\u6bb5\u548c\u5c5e\u6027\u58f0\u660e\u3002\u5982\u679c\u5b58\u5728\uff0c\u5b83\u5c06\u8986\u76d6\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e2a\u6e90\u8bbe\u7f6e\u3002\n* `sphinx:field` - \u53ef\u9009\u5143\u7d20\uff0csphinx:schema \u7684\u5b50\u5143\u7d20\u3002\u58f0\u660e\u5168\u6587\u5b57\u6bb5\u3002\u5df2\u77e5\u5c5e\u6027\uff1a\n    * \"name\"\uff0c\u6307\u5b9a\u5c06\u88ab\u89c6\u4e3a\u5168\u6587\u5b57\u6bb5\u7684 XML \u5143\u7d20\u540d\u3002\n    * \"attr\"\uff0c\u6307\u5b9a\u662f\u5426\u8fd8\u5c06\u6b64\u5b57\u6bb5\u7d22\u5f15\u4e3a\u5b57\u7b26\u4e32\u3002\u53ef\u80fd\u7684\u503c\u4e3a \"string\"\u3002\n* `sphinx:attr` - \u53ef\u9009\u5143\u7d20\uff0csphinx:schema \u7684\u5b50\u5143\u7d20\u3002\u58f0\u660e\u5c5e\u6027\u3002\u5df2\u77e5\u5c5e\u6027\uff1a\n    * \"name\"\uff0c\u6307\u5b9a\u5e94\u88ab\u89c6\u4e3a\u6587\u6863\u5c5e\u6027\u7684\u5143\u7d20\u540d\u3002\n    * \"type\"\uff0c\u6307\u5b9a\u5c5e\u6027\u7c7b\u578b\u3002\u53ef\u80fd\u7684\u503c\u6709 \"int\"\u3001\"bigint\"\u3001\"timestamp\"\u3001\"bool\"\u3001\"float\"\u3001\"multi\" \u548c \"json\"\u3002\n    * \"bits\"\uff0c\u6307\u5b9a \"int\" \u7c7b\u578b\u5c5e\u6027\u7684\u4f4d\u6570\u3002\u6709\u6548\u503c\u4e3a 1 \u5230 32\u3002\n    * \"default\"\uff0c\u6307\u5b9a\u5982\u679c\u6587\u6863\u4e2d\u4e0d\u5b58\u5728\u8be5\u5c5e\u6027\u5143\u7d20\u65f6\u5e94\u4f7f\u7528\u7684\u9ed8\u8ba4\u503c\u3002\n* `sphinx:document` - \u5fc5\u987b\u5143\u7d20\uff0c\u5fc5\u987b\u662f sphinx:docset \u7684\u5b50\u5143\u7d20\u3002\u5305\u542b\u58f0\u660e\u7684\u5b57\u6bb5\u548c\u5c5e\u6027\u503c\u7684\u4efb\u610f\u5176\u4ed6\u5143\u7d20\uff0c\u7528\u4e8e\u7d22\u5f15\u3002\u58f0\u660e\u65b9\u5f0f\u8981\u4e48\u4f7f\u7528 sphinx:field \u548c sphinx:attr \u5143\u7d20\uff0c\u8981\u4e48\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u58f0\u660e\u3002\u552f\u4e00\u5df2\u77e5\u7684\u5c5e\u6027\u662f \"id\"\uff0c\u5fc5\u987b\u5305\u542b\u552f\u4e00\u7684\u6574\u6570\u6587\u6863 ID\u3002\n* `sphinx:killlist` - \u53ef\u9009\u5143\u7d20\uff0csphinx:docset \u7684\u5b50\u5143\u7d20\u3002\u5305\u542b\u82e5\u5e72 \"id\" \u5143\u7d20\uff0c\u5176\u5185\u5bb9\u662f\u5c5e\u4e8e\u5f85\u4ece\u8868\u4e2d\u5220\u9664\u7684\u6587\u6863 ID\u3002\u6740\u6b7b\u5217\u8868\u7528\u4e8e\u591a\u8868\u641c\u7d22\u4e2d\u6291\u5236\u641c\u7d22\u7ed3\u679c\u4e2d\u5176\u4ed6\u8868\u4e2d\u7684\u6587\u6863\u3002\n\n## \u6e90\u914d\u7f6e\u7684\u6570\u636e\u5b9a\u4e49\n\n\u5982\u679c XML \u6ca1\u6709\u5b9a\u4e49\u6a21\u5f0f\uff0c\u8868\u5143\u7d20\u7684\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u5728\u6e90\u914d\u7f6e\u4e2d\u5b9a\u4e49\u3002\n\n* `xmlpipe_field` - \u58f0\u660e\u4e00\u4e2a `text` \u5b57\u6bb5\u3002\n* `xmlpipe_field_string` - \u58f0\u660e\u4e00\u4e2a\u6587\u672c\u5b57\u6bb5/\u5b57\u7b26\u4e32\u5c5e\u6027\u3002\u8be5\u5217\u65e2\u88ab\u7d22\u5f15\u4e3a\u6587\u672c\u5b57\u6bb5\uff0c\u4e5f\u88ab\u5b58\u50a8\u4e3a\u5b57\u7b26\u4e32\u5c5e\u6027\u3002\n* `xmlpipe_attr_uint` - \u58f0\u660e\u4e00\u4e2a\u6574\u6570\u5c5e\u6027\u3002\n* `xmlpipe_attr_timestamp` - \u58f0\u660e\u4e00\u4e2a\u65f6\u95f4\u6233\u5c5e\u6027\u3002\n* `xmlpipe_attr_bool` - \u58f0\u660e\u4e00\u4e2a\u5e03\u5c14\u5c5e\u6027\u3002\n* `xmlpipe_attr_float` - \u58f0\u660e\u4e00\u4e2a\u6d6e\u70b9\u5c5e\u6027\u3002\n* `xmlpipe_attr_bigint` - \u58f0\u660e\u4e00\u4e2a\u5927\u6574\u6570\u5c5e\u6027\u3002\n* `xmlpipe_attr_multi` - \u58f0\u660e\u4e00\u4e2a\u591a\u503c\u6574\u6570\u5c5e\u6027\u3002\n* `xmlpipe_attr_multi_64` - \u58f0\u660e\u4e00\u4e2a 64 \u4f4d\u6574\u6570\u7684\u591a\u503c\u5c5e\u6027\u3002\n* `xmlpipe_attr_string` - \u58f0\u660e\u4e00\u4e2a\u5b57\u7b26\u4e32\u5c5e\u6027\u3002\n* `xmlpipe_attr_json` - \u58f0\u660e\u4e00\u4e2a JSON \u5c5e\u6027\u3002\n\n### \u7279\u5b9a XML \u6e90\u8bbe\u7f6e\n\n\u5982\u679c\u8bbe\u7f6e\u4e86 `xmlpipe_fixup_utf8`\uff0c\u5c06\u542f\u7528 Manticore \u7aef\u7684 UTF-8 \u9a8c\u8bc1\u548c\u8fc7\u6ee4\uff0c\u4ee5\u9632\u6b62 XML \u89e3\u6790\u5668\u56e0\u975e UTF-8 \u6587\u6863\u800c\u51fa\u9519\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u9009\u9879\u7981\u7528\u3002",
            "russian": "# \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 XML-\u043f\u043e\u0442\u043e\u043a\u043e\u0432\n\n\u0422\u0438\u043f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 `xmlpipe2` \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 Manticore \u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c XML-\u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0441\u0445\u0435\u043c\u0430 (\u0442.\u0435. \u043d\u0430\u0431\u043e\u0440 \u043f\u043e\u043b\u0435\u0439 \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432) \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f \u043b\u0438\u0431\u043e \u0432 \u0441\u0430\u043c\u043e\u043c XML-\u043f\u043e\u0442\u043e\u043a\u0435, \u043b\u0438\u0431\u043e \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430.\n\n## \u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 XML-\u043f\u043e\u0442\u043e\u043a\u0430\n\u0414\u043b\u044f \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f XML-\u043f\u043e\u0442\u043e\u043a\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430 `xmlpipe_command`, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 shell-\u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u044f\u0449\u0443\u044e \u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u0443\u0435\u043c\u044b\u0439 XML-\u043f\u043e\u0442\u043e\u043a. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0444\u0430\u0439\u043b, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 XML-\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043d\u0430 \u043b\u0435\u0442\u0443.\n\n## \u0424\u043e\u0440\u043c\u0430\u0442 XML-\u0444\u0430\u0439\u043b\u0430\n\n\u041f\u0440\u0438 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0446\u0438\u0438 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 xmlpipe2 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0442\u043e\u0440 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043f\u0430\u0439\u043f \u043a \u0435\u0451 stdout \u0438 \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 XML-\u043f\u043e\u0442\u043e\u043a.\n\n\u0412\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c XML-\u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445:\n\nCODE_BLOCK_0\n\n\u0420\u0430\u0437\u0440\u0435\u0448\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b. \u041e\u043d\u0438 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u043e\u0442\u043e\u043a\u0435 \u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430; \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f. \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0434\u043b\u0438\u043d\u0443 \u043f\u043e\u043b\u044f; \u043f\u043e\u043b\u044f \u0434\u043b\u0438\u043d\u043e\u0439 \u0431\u043e\u043b\u0435\u0435 2 \u041c\u0411 \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0440\u0435\u0437\u0430\u043d\u044b \u0434\u043e 2 \u041c\u0411 (\u044d\u0442\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435).\n\n\u0421\u0445\u0435\u043c\u0430, \u0442.\u0435. \u043f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u0435\u0439 \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432, \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0430 \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0437\u0431\u043e\u0440\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u042d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a `xmlpipe_field` \u0438 `xmlpipe_attr_XXX`, \u043b\u0438\u0431\u043e \u043f\u0440\u044f\u043c\u043e \u0432 \u043f\u043e\u0442\u043e\u043a\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 `<sphinx:schema>`. \u042d\u043b\u0435\u043c\u0435\u043d\u0442 `<sphinx:schema>` \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c. \u0415\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0440\u0430\u0437\u043c\u0435\u0449\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043f\u043e\u0434\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 `<sphinx:docset>`. \u0415\u0441\u043b\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c\u044b \u0432 \u043f\u043e\u0442\u043e\u043a\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437 \u043f\u043e\u0442\u043e\u043a\u0430 \u0438\u043c\u0435\u044e\u0442 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u043a\u0430\u043a \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e `id` \u0442\u0435\u0433\u0430 `<sphinx:document>` (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, `<sphinx:document id=\"1235\">`) \u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c 64-\u0431\u0438\u0442\u043d\u044b\u043c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c, \u043d\u0435 \u0440\u0430\u0432\u043d\u044b\u043c \u043d\u0443\u043b\u044e.\n\n\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435 \u0442\u0435\u0433\u0438 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u044b \u043d\u0438 \u043a\u0430\u043a \u043f\u043e\u043b\u044f, \u043d\u0438 \u043a\u0430\u043a \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b) \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0441 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435\u043c. \u0412 \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u044b\u0448\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 `<misc>` \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d. \u0412\u0441\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0433\u0438 \u0438 \u0438\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, `<strong>` \u0432\u043d\u0443\u0442\u0440\u0438 `<subject>`) \u0431\u0443\u0434\u0443\u0442 \u0442\u0438\u0445\u043e \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b.\n\n\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043e\u043a \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 `iconv`. xmlpipe2 \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0430\u0440\u0441\u0435\u0440\u0430 `libexpat`, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442 US-ASCII, ISO-8859-1, UTF-8 \u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 UTF-16. \u0421\u043a\u0440\u0438\u043f\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Manticore \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 `libiconv` \u0438 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043e\u043a. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, `libexpat` \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0438 UTF-8 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 Manticore, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0435 \u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 UTF-8.\n\nXML-\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b (\u0442\u0435\u0433\u0438), \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0432\u0430\u0435\u043c\u044b\u0435 xmlpipe2 (\u0438 \u0438\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b, \u0433\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e):\n\n* `sphinx:docset` \u2014 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0430\u0431\u043e\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 xmlpipe2.\n* `sphinx:schema` \u2014 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u0434\u043e\u043b\u0436\u0435\u043d \u043b\u0438\u0431\u043e \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u0441\u0430\u043c\u044b\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 sphinx:docset, \u043b\u0438\u0431\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0432\u0441\u0435\u043c. \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0441\u0445\u0435\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432. \u0415\u0441\u043b\u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442, \u043e\u043d \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.\n* `sphinx:field` \u2014 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u0434\u043b\u044f sphinx:schema. \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435. \u0418\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b:\n    * \"name\" \u2014 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0438\u043c\u044f XML-\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445.\n    * \"attr\" \u2014 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u043b\u0435 \u0442\u0430\u043a\u0436\u0435 \u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u2014 \"string\".\n* `sphinx:attr` \u2014 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u0434\u043b\u044f sphinx:schema. \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442. \u0418\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b:\n    * \"name\" \u2014 \u0438\u043c\u044f \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0442\u0440\u0430\u043a\u0442\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445.\n    * \"type\" \u2014 \u0442\u0438\u043f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: \"int\", \"bigint\", \"timestamp\", \"bool\", \"float\", \"multi\" \u0438 \"json\".\n    * \"bits\" \u2014 \u0440\u0430\u0437\u043c\u0435\u0440 \u0432 \u0431\u0438\u0442\u0430\u0445 \u0434\u043b\u044f \u0442\u0438\u043f\u0430 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \"int\". \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0442 1 \u0434\u043e 32.\n    * \"default\" \u2014 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f, \u0435\u0441\u043b\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435.\n* `sphinx:document` \u2014 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u043c \u0434\u043b\u044f sphinx:docset. \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0441 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u043f\u043e\u043b\u0435\u0439 \u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u0434\u043b\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u043b\u0438\u0431\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e sphinx:field \u0438 sphinx:attr, \u043b\u0438\u0431\u043e \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435. \u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u2014 \"id\", \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430.\n* `sphinx:killlist` \u2014 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u0434\u043e\u0447\u0435\u0440\u043d\u0438\u0439 \u0434\u043b\u044f sphinx:docset. \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \"id\", \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u2014 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c\u044b\u0435 \u0432 \"kill-list\" \u0442\u0430\u0431\u043b\u0438\u0446\u044b. Kill-list \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u043f\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c \u0434\u043b\u044f \u043f\u043e\u0434\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u043f\u043e\u0438\u0441\u043a\u0430.\n\n## \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\n\n\u0415\u0441\u043b\u0438 XML \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0445\u0435\u043c\u044b, \u0442\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0430\u0431\u043b\u0438\u0446 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u044b \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430.\n\n* `xmlpipe_field` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0435 \u0442\u0438\u043f\u0430 `text`.\n* `xmlpipe_field_string` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435/\u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442. \u041a\u043e\u043b\u043e\u043d\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u043d\u0434\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442.\n* `xmlpipe_attr_uint` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\n* `xmlpipe_attr_timestamp` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0442\u0438\u043f\u0430 timestamp\n* `xmlpipe_attr_bool` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0431\u0443\u043b\u0435\u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\n* `xmlpipe_attr_float` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0441 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0435\u0439 \u0442\u043e\u0447\u043a\u043e\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\n* `xmlpipe_attr_bigint` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0442\u0438\u043f\u0430 big integer\n* `xmlpipe_attr_multi` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u043c\u043d\u043e\u0433\u043e\u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0441 \u0446\u0435\u043b\u044b\u043c\u0438 \u0447\u0438\u0441\u043b\u0430\u043c\u0438\n* `xmlpipe_attr_multi_64` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u043c\u043d\u043e\u0433\u043e\u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0441 64-\u0431\u0438\u0442\u043d\u044b\u043c\u0438 \u0446\u0435\u043b\u044b\u043c\u0438 \u0447\u0438\u0441\u043b\u0430\u043c\u0438\n* `xmlpipe_attr_string` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\n* `xmlpipe_attr_json` \u2014 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 JSON\n\n### \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 XML \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\n\n\u0415\u0441\u043b\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 `xmlpipe_fixup_utf8`, \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e UTF-8 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 Manticore \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0435\u0432 XML-\u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445, \u043d\u0435 \u044f\u0432\u043b\u044f\u044e\u0449\u0438\u0445\u0441\u044f UTF-8. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044d\u0442\u0430 \u043e\u043f\u0446\u0438\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430."
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339898
    },
    "__meta": {
        "source_text": "# Fetching from XML streams\n\nThe `xmlpipe2` source type allows for passing custom full-text and attribute data to Manticore in a custom XML format, with the schema (i.e., set of fields and attributes) specified in either the XML stream itself or in the source settings.\n\n## Declaration of XML stream\nTo declare the XML stream, the `xmlpipe_command` directive is mandatory and contains the shell command that produces the XML stream to be indexed. This can be a file, but it can also be a program that generates XML content on-the-fly.\n\n## XML file format\n\nWhen indexing an xmlpipe2 source, the indexer runs the specified command, opens a pipe to its stdout, and expects a well-formed XML stream.\n\nHere's an example of what the XML stream data might look like:\n\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<sphinx:docset>\n\n<sphinx:schema>\n<sphinx:field name=\"subject\"/>\n<sphinx:field name=\"content\"/>\n<sphinx:attr name=\"published\" type=\"timestamp\"/>\n<sphinx:attr name=\"author_id\" type=\"int\" bits=\"16\" default=\"1\"/>\n</sphinx:schema>\n\n<sphinx:document id=\"1234\">\n<content>this is the main content <![CDATA[and this <cdata> entry\nmust be handled properly by xml parser lib]]></content>\n<published>1012325463</published>\n<subject>note how field/attr tags can be\nin <b> class=\"red\">randomized</b> order</subject>\n<misc>some undeclared element</misc>\n</sphinx:document>\n\n<sphinx:document id=\"1235\">\n<subject>another subject</subject>\n<content>here comes another document, and i am given to understand,\nthat in-document field order must not matter, sir</content>\n<published>1012325467</published>\n</sphinx:document>\n\n<!-- ... even more sphinx:document entries here ... -->\n\n<sphinx:killlist>\n<id>1234</id>\n<id>4567</id>\n</sphinx:killlist>\n\n</sphinx:docset>\n```\n\nArbitrary fields and attributes are allowed. They can also occur in the stream in arbitrary order within each document; the order is ignored. There is a restriction on the maximum field length; fields longer than 2 MB will be truncated to 2 MB (this limit can be changed in the source).\n\nThe schema, i.e., complete fields and attributes list, must be declared before any document can be parsed. This can be done either in the configuration file by using `xmlpipe_field` and `xmlpipe_attr_XXX` settings, or right in the stream using `<sphinx:schema>` element. `<sphinx:schema>` is optional. It is only allowed to occur as the very first sub-element in `<sphinx:docset>`. If there is no in-stream schema definition, settings from the configuration file will be used. Otherwise, stream settings take precedence. Note that the document id should be specified as a property  `id` of tag `<sphinx:document>` (e.g. `<sphinx:document id=\"1235\">`) and is supposed to be a unique-signed positive non-zero 64-bit integer.\n\nUnknown tags (which were not declared neither as fields nor as attributes) will be ignored with a warning. In the example above, `<misc>` will be ignored. All embedded tags and their attributes (such as `<strong>` in `<subject>` in the example above) will be silently ignored.\n\nSupport for incoming stream encodings depends on whether `iconv` is installed on the system. xmlpipe2 is parsed using the `libexpat` parser, which understands US-ASCII, ISO-8859-1, UTF-8, and a few UTF-16 variants natively. Manticore's `configure` script will also check for `libiconv` presence and utilize it to handle other encodings. `libexpat` also enforces the requirement to use the UTF-8 charset on the Manticore side because the parsed data it returns is always in UTF-8.\n\nXML elements (tags) recognized by xmlpipe2 (and their attributes where applicable) are:\n\n* `sphinx:docset` - Mandatory top-level element, denotes and contains the xmlpipe2 document set.\n* `sphinx:schema` -  Optional element, must either occur as the very first child of sphinx:docset or never occur at all. Declares the document schema and contains field and attribute declarations. If present, it overrides per-source settings from the configuration file.\n* `sphinx:field` - Optional element, child of sphinx:schema. Declares a full-text field. Known attributes are:\n    *   \"name\", specifies the XML element name that will be treated as a full-text field in the subsequent documents.\n    *   attr\", specifies whether to also index this field as a string. Possible value is \"string\".\n* `sphinx:attr` - Optional element, child of sphinx:schema. Declares an attribute. Known attributes are:\n    *   \"name\", specifies the element name that should be treated as an attribute in the subsequent documents.\n    *   \"type\", specifies the attribute type. Possible values are \"int\", \"bigint\", \"timestamp\", \"bool\", \"float\", \"multi\" and \"json\".\n    *   \"bits\", specifies the bit size for the \"int\" attribute type. Valid values are 1 to 32.\n    *   \"default\", specifies the default value for this attribute that should be used if the attribute's element is not present in the document.\n* `sphinx:document` - Mandatory element, must be a child of sphinx:docset. Contains arbitrary other elements with field and attribute values to be indexed, as declared either using sphinx:field and sphinx:attr elements or in the configuration file. The only known attribute is \"id\" that must contain the unique integer document ID.\n* `sphinx:killlist` - Optional element, child of sphinx:docset. Contains a number of \"id\" elements whose contents are document IDs to be put into a kill-list of the table. The kill-list is used in multi-table searches to suppress documents found in other tables of the search.\n\n## Data definition in source configuration\n\nIf the XML doesn't define a schema, the data types of tables elements must be defined in the source configuration.\n\n* `xmlpipe_field` -  declares a `text` field.\n* `xmlpipe_field_string` - declares a text field/string attribute. The column will be both indexed as a text field but also stored as a string attribute.\n* `xmlpipe_attr_uint` - declares an integer attribute\n* `xmlpipe_attr_timestamp` - declares a timestamp attribute\n* `xmlpipe_attr_bool` -  declares a boolean attribute\n* `xmlpipe_attr_float` - declares a float attribute\n* `xmlpipe_attr_bigint` - declares a big integer attribute\n* `xmlpipe_attr_multi` - declares a multi-value attribute with integers\n* `xmlpipe_attr_multi_64` - declares a multi-value attribute with 64-bit integers\n* `xmlpipe_attr_string` - declares a string attribute\n* `xmlpipe_attr_json` - declares a JSON attribute\n\n### Specific XML source settings\n\nIf `xmlpipe_fixup_utf8` is set it will enable Manticore-side UTF-8 validation and filtering to prevent XML parser from choking on non-UTF-8 documents. By default, this option is disabled.\n\nUnder certain occasions it might be hard or even impossible to guarantee that the incoming XMLpipe2 document bodies are in perfectly valid and conforming UTF-8 encoding. For instance, documents with national single-byte encodings could sneak into the stream. libexpat XML parser is fragile, meaning that it will stop processing in such cases. UTF8 fixup feature lets you avoid that. When fixup is enabled, Manticore will preprocess the incoming stream before passing it to the XML parser and replace invalid UTF-8 sequences with spaces.\n\n```ini\nxmlpipe_fixup_utf8 = 1\n```\n\nExample of XML source without schema in configuration:\n\n```ini\nsource xml_test_1\n{\n    type = xmlpipe2\n    xmlpipe_command = cat /tmp/products_today.xml\n}\n```\n\nExample of XML source with schema in configuration:\n\n```ini\nsource xml_test_2\n{\n    type = xmlpipe2\n    xmlpipe_command = cat /tmp/products_today.xml\n    xmlpipe_field = subject\n    xmlpipe_field = content\n    xmlpipe_attr_timestamp = published\n    xmlpipe_attr_uint = author_id:16\n}\n```\n<!-- proofread -->\n\n",
        "updated_at": 1768530797,
        "source_md5": "e1da2b2b5963cf4c80c389eaee6e3e6c"
    }
}