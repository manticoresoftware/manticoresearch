{
    "982d9916e1f91d91c7e9f89c251c479519322e01b09d7d327d088398d463ab4b": {
        "original": "# Ranged queries\n\n\nMain query, which needs to fetch all the documents, can impose a read lock on the whole table and stall the concurrent queries (e.g. INSERTs to MyISAM table), waste a lot of memory for result set, etc. To avoid this, Manticore supports so-called *ranged queries*. With ranged queries, Manticore first fetches min and max document IDs from the table, and then substitutes different ID intervals into main query text and runs the modified query to fetch another chunk of documents. Here's an example.\n\nRanged query usage example:\n\nCODE_BLOCK_0\n\nIf the table contains document IDs from 1 to, say, 2345, then sql_query would be run three times:\n\n1.  with `$start` replaced with 1 and `$end` replaced with 1000;\n2.  with `$start` replaced with 1001 and `$end` replaced with 2000;\n3.  with `$start` replaced with 2001 and `$end` replaced with 2345.\n\nObviously, that's not much of a difference for 2000-row table, but when it comes to indexing 10-million-row table, ranged queries might be of some help.\n\n### sql_query_range\n\nDefines the range query. The query specified in this option must fetch min and max document IDs that will be used as range boundaries. It must return exactly two integer fields, min ID first and max ID second; the field names are ignored. When enabled, `sql_query` will be required to contain $start and $end macros. Note that the intervals specified by $start..$end will not overlap, so you should not remove document IDs that are exactly equal to $start or $end from your query.\n\n### sql_range_step\n\nThis directive defines the range query step. The default value is 1024.\n\n### sql_ranged_throttle\n\nThis directive can be used to throttle the ranged query. By default, there is no throttling. Values for sql_ranged_throttle should be specified in milliseconds.\n\nThrottling can be useful when the indexer imposes too much load on the database server. It causes the indexer to sleep for a given amount of time once per each ranged query step. This sleep is unconditional and is performed before the fetch query.\n\nCODE_BLOCK_1\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# \u8303\u56f4\u67e5\u8be2\n\n\n\u4e3b\u67e5\u8be2\u9700\u8981\u83b7\u53d6\u6240\u6709\u6587\u6863\uff0c\u53ef\u80fd\u4f1a\u5bf9\u6574\u4e2a\u8868\u52a0\u8bfb\u9501\u5e76\u963b\u585e\u5e76\u53d1\u67e5\u8be2\uff08\u4f8b\u5982\u5bf9 MyISAM \u8868\u7684 INSERT\uff09\uff0c\u6d6a\u8d39\u5927\u91cf\u5185\u5b58\u7528\u4e8e\u7ed3\u679c\u96c6\u7b49\u3002\u4e3a\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0cManticore \u652f\u6301\u6240\u8c13\u7684*\u8303\u56f4\u67e5\u8be2*\u3002\u4f7f\u7528\u8303\u56f4\u67e5\u8be2\u65f6\uff0cManticore \u9996\u5148\u4ece\u8868\u4e2d\u83b7\u53d6\u6700\u5c0f\u548c\u6700\u5927\u6587\u6863 ID\uff0c\u7136\u540e\u5c06\u4e0d\u540c\u7684 ID \u533a\u95f4\u66ff\u6362\u8fdb\u4e3b\u67e5\u8be2\u6587\u672c\uff0c\u8fd0\u884c\u4fee\u6539\u540e\u7684\u67e5\u8be2\u4ee5\u83b7\u53d6\u53e6\u4e00\u5757\u6587\u6863\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\u3002\n\n\u8303\u56f4\u67e5\u8be2\u4f7f\u7528\u793a\u4f8b\uff1a\n\nCODE_BLOCK_0\n\n\u5982\u679c\u8868\u4e2d\u5305\u542b\u4ece 1 \u5230\u6bd4\u5982 2345 \u7684\u6587\u6863 ID\uff0c\u5219 sql_query \u4f1a\u8fd0\u884c\u4e09\u6b21\uff1a\n\n1.  \u7528 `$start` \u66ff\u6362\u4e3a 1\uff0c`$end` \u66ff\u6362\u4e3a 1000\uff1b\n2.  \u7528 `$start` \u66ff\u6362\u4e3a 1001\uff0c`$end` \u66ff\u6362\u4e3a 2000\uff1b\n3.  \u7528 `$start` \u66ff\u6362\u4e3a 2001\uff0c`$end` \u66ff\u6362\u4e3a 2345\u3002\n\n\u663e\u7136\uff0c\u5bf9\u4e8e 2000 \u884c\u7684\u8868\u6765\u8bf4\uff0c\u8fd9\u5dee\u522b\u4e0d\u5927\uff0c\u4f46\u5bf9\u4e8e\u7d22\u5f15 1000 \u4e07\u884c\u7684\u8868\uff0c\u8303\u56f4\u67e5\u8be2\u53ef\u80fd\u4f1a\u6709\u6240\u5e2e\u52a9\u3002\n\n### sql_query_range\n\n\u5b9a\u4e49\u8303\u56f4\u67e5\u8be2\u3002\u6b64\u9009\u9879\u4e2d\u6307\u5b9a\u7684\u67e5\u8be2\u5fc5\u987b\u83b7\u53d6\u5c06\u7528\u4f5c\u8303\u56f4\u8fb9\u754c\u7684\u6700\u5c0f\u548c\u6700\u5927\u6587\u6863 ID\u3002\u5b83\u5fc5\u987b\u8fd4\u56de\u6070\u597d\u4e24\u4e2a\u6574\u6570\u5b57\u6bb5\uff0c\u5148\u8fd4\u56de\u6700\u5c0f ID\uff0c\u518d\u8fd4\u56de\u6700\u5927 ID\uff1b\u5b57\u6bb5\u540d\u4f1a\u88ab\u5ffd\u7565\u3002\u542f\u7528\u540e\uff0c`sql_query` \u5fc5\u987b\u5305\u542b $start \u548c $end \u5b8f\u3002\u8bf7\u6ce8\u610f\uff0c$start..$end \u6307\u5b9a\u7684\u533a\u95f4\u4e0d\u4f1a\u91cd\u53e0\uff0c\u56e0\u6b64\u60a8\u4e0d\u5e94\u4ece\u67e5\u8be2\u4e2d\u53bb\u9664\u6070\u597d\u7b49\u4e8e $start \u6216 $end \u7684\u6587\u6863 ID\u3002\n\n### sql_range_step\n\n\u6b64\u6307\u4ee4\u5b9a\u4e49\u8303\u56f4\u67e5\u8be2\u6b65\u957f\u3002\u9ed8\u8ba4\u503c\u4e3a 1024\u3002\n\n### sql_ranged_throttle\n\n\u6b64\u6307\u4ee4\u53ef\u7528\u4e8e\u9650\u5236\u8303\u56f4\u67e5\u8be2\u901f\u7387\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u65e0\u9650\u5236\u3002sql_ranged_throttle \u7684\u503c\u5e94\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u6307\u5b9a\u3002\n\n\u5f53\u7d22\u5f15\u5668\u5bf9\u6570\u636e\u5e93\u670d\u52a1\u5668\u9020\u6210\u8fc7\u5927\u8d1f\u8f7d\u65f6\uff0c\u8282\u6d41\u4f1a\u5f88\u6709\u7528\u3002\u5b83\u4f1a\u4f7f\u7d22\u5f15\u5668\u5728\u6bcf\u4e2a\u8303\u56f4\u67e5\u8be2\u6b65\u9aa4\u6267\u884c\u524d\u65e0\u6761\u4ef6\u4f11\u7720\u6307\u5b9a\u65f6\u95f4\u3002\n\nCODE_BLOCK_1\n<!-- proofread -->",
            "russian": "# \u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b\n\n\n\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043b\u043e\u0436\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u043d\u0430 \u0432\u0441\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0437\u0430\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, INSERT \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 MyISAM), \u0437\u0430\u043d\u044f\u0442\u044c \u043c\u043d\u043e\u0433\u043e \u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u043b\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0438 \u0442.\u0434. \u0427\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u044d\u0442\u043e\u0433\u043e, Manticore \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 *\u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b*. \u0421 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u043c\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 Manticore \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 ID \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0430 \u0437\u0430\u0442\u0435\u043c \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b ID \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0433\u043e \u0431\u043b\u043e\u043a\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u0412\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440.\n\n\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430:\n\nCODE_BLOCK_0\n\n\u0415\u0441\u043b\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u0441\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043d\u044b\u0435 ID \u043e\u0442 1 \u0434\u043e, \u0441\u043a\u0430\u0436\u0435\u043c, 2345, \u0442\u043e sql_query \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0442\u0440\u0438 \u0440\u0430\u0437\u0430:\n\n1.  \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 `$start` \u043d\u0430 1 \u0438 `$end` \u043d\u0430 1000;\n2.  \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 `$start` \u043d\u0430 1001 \u0438 `$end` \u043d\u0430 2000;\n3.  \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 `$start` \u043d\u0430 2001 \u0438 `$end` \u043d\u0430 2345.\n\n\u041e\u0447\u0435\u0432\u0438\u0434\u043d\u043e, \u0447\u0442\u043e \u044d\u0442\u043e \u043d\u0435 \u0441\u0438\u043b\u044c\u043d\u043e \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430 2000 \u0441\u0442\u0440\u043e\u043a, \u043d\u043e \u043f\u0440\u0438 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430 10 \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u043e\u0432 \u0441\u0442\u0440\u043e\u043a \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u044b.\n\n### sql_query_range\n\n\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u0417\u0430\u043f\u0440\u043e\u0441, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 \u044d\u0442\u043e\u0439 \u043e\u043f\u0446\u0438\u0438, \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 ID \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0433\u0440\u0430\u043d\u0438\u0446 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430. \u041e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0440\u043e\u0432\u043d\u043e \u0434\u0432\u0430 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044f, \u0441\u043d\u0430\u0447\u0430\u043b\u0430 min ID, \u0437\u0430\u0442\u0435\u043c max ID; \u0438\u043c\u0435\u043d\u0430 \u043f\u043e\u043b\u0435\u0439 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f. \u041f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u044d\u0442\u043e\u0439 \u043e\u043f\u0446\u0438\u0438 `sql_query` \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0440\u043e\u0441\u044b $start \u0438 $end. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 $start..$end, \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0442\u044c\u0441\u044f, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0438\u0437 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0441 ID, \u0442\u043e\u0447\u043d\u043e \u0440\u0430\u0432\u043d\u044b\u043c\u0438 $start \u0438\u043b\u0438 $end.\n\n### sql_range_step\n\n\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0448\u0430\u0433 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u2014 1024.\n\n### sql_ranged_throttle\n\n\u042d\u0442\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f sql_ranged_throttle \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445.\n\n\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u043e, \u0435\u0441\u043b\u0438 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0442\u043e\u0440 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445. \u042d\u0442\u043e \u0437\u0430\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0442\u043e\u0440 \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0430\u0443\u0437\u0443 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0439 \u0434\u043b\u0438\u043d\u044b \u043f\u043e\u0441\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0414\u0430\u043d\u043d\u0430\u044f \u043f\u0430\u0443\u0437\u0430 \u0431\u0435\u0437\u0443\u0441\u043b\u043e\u0432\u043d\u0430 \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445.\n\nCODE_BLOCK_1\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339879
    },
    "f8b83732d7c15745ab95f0714330f6725f337e3fd909bd10598a8ae5c07da9e7": {
        "original": "# Ranged queries\n\nMain query, which needs to fetch all the documents, can impose a read lock on the whole table and stall the concurrent queries (e.g. INSERTs to MyISAM table), waste a lot of memory for result set, etc. To avoid this, Manticore supports so-called *ranged queries*. With ranged queries, Manticore first fetches min and max document IDs from the table, and then substitutes different ID intervals into main query text and runs the modified query to fetch another chunk of documents. Here's an example.\n\nRanged query usage example:\n\nCODE_BLOCK_0\n\nIf the table contains document IDs from 1 to, say, 2345, then sql_query would be run three times:\n\n1.  with `$start` replaced with 1 and `$end` replaced with 1000;\n2.  with `$start` replaced with 1001 and `$end` replaced with 2000;\n3.  with `$start` replaced with 2001 and `$end` replaced with 2345.\n\nObviously, that's not much of a difference for 2000-row table, but when it comes to indexing 10-million-row table, ranged queries might be of some help.\n\n### sql_query_range\n\nDefines the range query. The query specified in this option must fetch min and max document IDs that will be used as range boundaries. It must return exactly two integer fields, min ID first and max ID second; the field names are ignored. When enabled, `sql_query` will be required to contain $start and $end macros. Note that the intervals specified by $start..$end will not overlap, so you should not remove document IDs that are exactly equal to $start or $end from your query.\n\n### sql_range_step\n\nThis directive defines the range query step. The default value is 1024.\n\n### sql_ranged_throttle\n\nThis directive can be used to throttle the ranged query. By default, there is no throttling. Values for sql_ranged_throttle should be specified in milliseconds.\n\nThrottling can be useful when the indexer imposes too much load on the database server. It causes the indexer to sleep for a given amount of time once per each ranged query step. This sleep is unconditional and is performed before the fetch query.\n\nCODE_BLOCK_1\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# \u8303\u56f4\u67e5\u8be2\n\n\u4e3b\u8981\u67e5\u8be2\uff0c\u9700\u8981\u83b7\u53d6\u6240\u6709\u6587\u6863\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bf9\u6574\u4e2a\u8868\u65bd\u52a0\u8bfb\u9501\u5e76\u963b\u585e\u5e76\u53d1\u67e5\u8be2\uff08\u4f8b\u5982\uff0cMyISAM \u8868\u7684 INSERT \u64cd\u4f5c\uff09\uff0c\u6d6a\u8d39\u5927\u91cf\u5185\u5b58\u7528\u4e8e\u7ed3\u679c\u96c6\u7b49\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0cManticore \u652f\u6301\u6240\u8c13\u7684 *\u8303\u56f4\u67e5\u8be2*\u3002\u4f7f\u7528\u8303\u56f4\u67e5\u8be2\u65f6\uff0cManticore \u9996\u5148\u4ece\u8868\u4e2d\u83b7\u53d6\u6700\u5c0f\u548c\u6700\u5927\u6587\u6863 ID\uff0c\u7136\u540e\u5c06\u4e0d\u540c\u7684 ID \u533a\u95f4\u63d2\u5165\u5230\u4e3b\u67e5\u8be2\u6587\u672c\u4e2d\uff0c\u5e76\u8fd0\u884c\u4fee\u6539\u540e\u7684\u67e5\u8be2\u4ee5\u83b7\u53d6\u53e6\u4e00\u6279\u6587\u6863\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u4f8b\u5b50\u3002\n\n\u8303\u56f4\u67e5\u8be2\u4f7f\u7528\u793a\u4f8b\uff1a\n\nCODE_BLOCK_0\n\n\u5982\u679c\u8868\u5305\u542b\u4ece 1 \u5230\uff0c\u6bd4\u5982\u8bf4\uff0c2345 \u7684\u6587\u6863 ID\uff0c\u90a3\u4e48 sql_query \u5c06\u4f1a\u8fd0\u884c\u4e09\u6b21\uff1a\n\n1. \u7528 `$start` \u66ff\u6362\u4e3a 1 \u5e76\u7528 `$end` \u66ff\u6362\u4e3a 1000\uff1b\n2. \u7528 `$start` \u66ff\u6362\u4e3a 1001 \u5e76\u7528 `$end` \u66ff\u6362\u4e3a 2000\uff1b\n3. \u7528 `$start` \u66ff\u6362\u4e3a 2001 \u5e76\u7528 `$end` \u66ff\u6362\u4e3a 2345\u3002\n\n\u663e\u7136\uff0c\u5bf9\u4e8e 2000 \u884c\u7684\u8868\u6765\u8bf4\u8fd9\u4e0d\u662f\u5f88\u5927\u7684\u533a\u522b\uff0c\u4f46\u5f53\u6d89\u53ca\u5230\u7d22\u5f15 10 \u767e\u4e07\u884c\u7684\u8868\u65f6\uff0c\u8303\u56f4\u67e5\u8be2\u53ef\u80fd\u4f1a\u6709\u6240\u5e2e\u52a9\u3002\n\n### sql_query_range\n\n\u5b9a\u4e49\u8303\u56f4\u67e5\u8be2\u3002\u6b64\u9009\u9879\u6307\u5b9a\u7684\u67e5\u8be2\u5fc5\u987b\u83b7\u53d6\u5c06\u7528\u4f5c\u8303\u56f4\u8fb9\u754c\u7684\u6700\u5c0f\u548c\u6700\u5927\u6587\u6863 ID\u3002\u5b83\u5fc5\u987b\u8fd4\u56de\u6070\u597d\u4e24\u4e2a\u6574\u6570\u5b57\u6bb5\uff0c\u6700\u5c0f ID \u5148\uff0c\u6700\u5927 ID \u540e\uff1b\u5b57\u6bb5\u540d\u88ab\u5ffd\u7565\u3002\u542f\u7528\u65f6\uff0c`sql_query` \u5fc5\u987b\u5305\u542b $start \u548c $end \u5b8f\u3002\u8bf7\u6ce8\u610f\uff0c\u7531 $start..$end \u6307\u5b9a\u7684\u533a\u95f4\u4e0d\u4f1a\u91cd\u53e0\uff0c\u56e0\u6b64\u5728\u60a8\u7684\u67e5\u8be2\u4e2d\u4e0d\u5e94\u5220\u9664\u7b49\u4e8e $start \u6216 $end \u7684\u6587\u6863 ID\u3002\n\n### sql_range_step\n\n\u6b64\u6307\u4ee4\u5b9a\u4e49\u4e86\u8303\u56f4\u67e5\u8be2\u6b65\u957f\u3002\u9ed8\u8ba4\u503c\u662f 1024\u3002\n\n### sql_ranged_throttle\n\n\u6b64\u6307\u4ee4\u53ef\u4ee5\u7528\u6765\u9650\u5236\u8303\u56f4\u67e5\u8be2\u7684\u901f\u5ea6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6ca1\u6709\u9650\u5236\u3002sql_ranged_throttle \u7684\u503c\u5e94\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u6307\u5b9a\u3002\n\n\u9650\u5236\u8303\u56f4\u67e5\u8be2\u901f\u5ea6\u53ef\u80fd\u5728\u7d22\u5f15\u5668\u5bf9\u6570\u636e\u5e93\u670d\u52a1\u5668\u65bd\u52a0\u8fc7\u591a\u8d1f\u8f7d\u65f6\u5f88\u6709\u7528\u3002\u8fd9\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5668\u5728\u6bcf\u4e2a\u8303\u56f4\u67e5\u8be2\u6b65\u9aa4\u540e\u7761\u7720\u4e00\u6bb5\u65f6\u95f4\u3002\u8fd9\u79cd\u7761\u7720\u662f\u65e0\u6761\u4ef6\u7684\uff0c\u5728\u6267\u884c\u83b7\u53d6\u67e5\u8be2\u4e4b\u524d\u8fdb\u884c\u3002\n\nCODE_BLOCK_1\n<!-- \u6821\u5bf9 -->",
            "russian": "# \u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b\n\n\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u0437\u0432\u043b\u0435\u0447\u044c \u0432\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043b\u043e\u0436\u0438\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u0447\u0442\u0435\u043d\u0438\u044f \u043d\u0430 \u0432\u0441\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0437\u0430\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, INSERT\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 MyISAM), \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e \u043f\u0430\u043c\u044f\u0442\u0438 \u043d\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u0438 \u0442.\u0434. \u0427\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u044d\u0442\u043e\u0433\u043e, Manticore \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 *\u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b*. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 Manticore \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 ID \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0430 \u0437\u0430\u0442\u0435\u043c \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b ID \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432. \u0412\u043e\u0442 \u043f\u0440\u0438\u043c\u0435\u0440.\n\n\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430:\n\nCODE_BLOCK_0\n\n\u0415\u0441\u043b\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 ID \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043e\u0442 1 \u0434\u043e, \u0441\u043a\u0430\u0436\u0435\u043c, 2345, \u0442\u043e sql_query \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0442\u0440\u0438 \u0440\u0430\u0437\u0430:\n\n1.  \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 `$start` \u043d\u0430 1 \u0438 `$end` \u043d\u0430 1000;\n2.  \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 `$start` \u043d\u0430 1001 \u0438 `$end` \u043d\u0430 2000;\n3.  \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 `$start` \u043d\u0430 2001 \u0438 `$end` \u043d\u0430 2345.\n\n\u041e\u0447\u0435\u0432\u0438\u0434\u043d\u043e, \u0447\u0442\u043e \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438\u0437 2000 \u0441\u0442\u0440\u043e\u043a \u044d\u0442\u043e \u043d\u0435 \u043e\u0441\u043e\u0431\u043e \u0431\u043e\u043b\u044c\u0448\u0430\u044f \u0440\u0430\u0437\u043d\u0438\u0446\u0430, \u043d\u043e \u043f\u0440\u0438 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441 10 \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u0430\u043c\u0438 \u0441\u0442\u0440\u043e\u043a \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043c\u043e\u0433\u0443\u0442 \u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u043c\u0438.\n\n### sql_query_range\n\n\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u0417\u0430\u043f\u0440\u043e\u0441, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 \u044d\u0442\u043e\u0439 \u043e\u043f\u0446\u0438\u0438, \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 ID \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0433\u0440\u0430\u043d\u0438\u0446 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430. \u041e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0440\u043e\u0432\u043d\u043e \u0434\u0432\u0430 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044f: \u0441\u043d\u0430\u0447\u0430\u043b\u0430 min ID, \u043f\u043e\u0442\u043e\u043c max ID; \u0438\u043c\u0435\u043d\u0430 \u043f\u043e\u043b\u0435\u0439 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f. \u041f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u043f\u0446\u0438\u0438 `sql_query` \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0440\u043e\u0441\u044b $start \u0438 $end. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u043a $start..$end, \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0442\u044c\u0441\u044f, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0438\u0437 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b, ID \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u043e\u0447\u043d\u043e \u0440\u0430\u0432\u0435\u043d $start \u0438\u043b\u0438 $end.\n\n### sql_range_step\n\n\u042d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0437\u0430\u0434\u0430\u0435\u0442 \u0448\u0430\u0433 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u2014 1024.\n\n### sql_ranged_throttle\n\n\u042d\u0442\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u043d\u0435\u0442. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f sql_ranged_throttle \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445.\n\n\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u043e, \u043a\u043e\u0433\u0434\u0430 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0442\u043e\u0440 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445. \u041e\u043d\u043e \u0437\u0430\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0442\u043e\u0440 \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0437\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0448\u0430\u0433 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u042d\u0442\u0430 \u043f\u0430\u0443\u0437\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0431\u0435\u0437\u0443\u0441\u043b\u043e\u0432\u043d\u043e \u0438 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0434\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u0432\u044b\u0431\u043e\u0440\u043a\u0443.\n\nCODE_BLOCK_1\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766374288
    }
}