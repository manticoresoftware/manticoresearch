{
    "e8de0b6e4164bd47ceaa53d01d86b230200fc316443b1a2d42cdbdbee5dab774": {
        "original": "# Ranker plugins\n\nRanker plugins let you implement a custom ranker that receives all the occurrences of the keywords matched in the document, and computes a  `WEIGHT()` value. They can be called as follows:\n\nCODE_BLOCK_0\nThe call workflow proceeds as follows:\n\n1. `XXX_init()` is invoked once per query per table, at the very beginning. Several query-wide options are passed to it via a `SPH_RANKER_INIT` structure, including the user options strings (for instance, \"option1=1\" in the example above).\n2. `XXX_update()` is called multiple times for each matched document, with every matched keyword occurrence provided as its parameter, a `SPH_RANKER_HIT` structure. The occurrences within each document are guaranteed to be passed in ascending order of `hit->hit_pos` values.\n3. `XXX_finalize()` is called once for each matched document when there are no more keyword occurrences. It must return the `WEIGHT()` value. This function is the only mandatory one.\n4. `XXX_deinit()` is invoked once per query, at the very end.\n\n\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# Ranker plugins\n\nRanker \u63d2\u4ef6\u5141\u8bb8\u60a8\u5b9e\u73b0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u6392\u5e8f\u5668\uff0c\u8be5\u6392\u5e8f\u5668\u63a5\u6536\u6587\u6863\u4e2d\u5339\u914d\u5173\u952e\u8bcd\u7684\u6240\u6709\u51fa\u73b0\u4f4d\u7f6e\uff0c\u5e76\u8ba1\u7b97\u4e00\u4e2a `WEIGHT()` \u503c\u3002\u5b83\u4eec\u53ef\u4ee5\u5982\u4e0b\u8c03\u7528\uff1a\n\nCODE_BLOCK_0\n\u8c03\u7528\u6d41\u7a0b\u5982\u4e0b\uff1a\n\n1. `XXX_init()` \u5728\u6bcf\u4e2a\u67e5\u8be2\u7684\u6bcf\u4e2a\u8868\u5f00\u59cb\u65f6\u8c03\u7528\u4e00\u6b21\u3002\u82e5\u5e72\u67e5\u8be2\u8303\u56f4\u7684\u9009\u9879\u901a\u8fc7\u4e00\u4e2a `SPH_RANKER_INIT` \u7ed3\u6784\u4f20\u9012\u7ed9\u5b83\uff0c\u5305\u62ec\u7528\u6237\u9009\u9879\u5b57\u7b26\u4e32\uff08\u4f8b\u5982\uff0c\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684 \"option1=1\"\uff09\u3002\n2. `XXX_update()` \u5bf9\u6bcf\u4e2a\u5339\u914d\u7684\u6587\u6863\u8c03\u7528\u591a\u6b21\uff0c\u6bcf\u6b21\u63d0\u4f9b\u4e00\u4e2a\u5339\u914d\u5173\u952e\u8bcd\u51fa\u73b0\u4f4d\u7f6e\u4f5c\u4e3a\u53c2\u6570\uff0c\u5373\u4e00\u4e2a `SPH_RANKER_HIT` \u7ed3\u6784\u3002\u786e\u4fdd\u6bcf\u4e2a\u6587\u6863\u5185\u51fa\u73b0\u7684\u4f4d\u7f6e\u6309\u7167 `hit->hit_pos` \u503c\u5347\u5e8f\u4f20\u9012\u3002\n3. \u5f53\u6ca1\u6709\u66f4\u591a\u5173\u952e\u8bcd\u51fa\u73b0\u65f6\uff0c`XXX_finalize()` \u4f1a\u5bf9\u6bcf\u4e2a\u5339\u914d\u7684\u6587\u6863\u8c03\u7528\u4e00\u6b21\u3002\u5b83\u5fc5\u987b\u8fd4\u56de `WEIGHT()` \u503c\u3002\u8be5\u51fd\u6570\u662f\u552f\u4e00\u5fc5\u987b\u5b9e\u73b0\u7684\u3002\n4. `XXX_deinit()` \u5728\u6bcf\u4e2a\u67e5\u8be2\u7684\u6700\u540e\u8c03\u7528\u4e00\u6b21\u3002",
            "russian": "# \u041f\u043b\u0430\u0433\u0438\u043d\u044b \u0440\u0430\u043d\u0436\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\n\n\u041f\u043b\u0430\u0433\u0438\u043d\u044b \u0440\u0430\u043d\u0436\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0440\u0430\u043d\u0436\u0438\u0440\u043e\u0432\u0449\u0438\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0432\u0441\u0435 \u0432\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0441\u043b\u043e\u0432, \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435, \u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `WEIGHT()`. \u041e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:\n\nCODE_BLOCK_0\n\u041f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0437\u043e\u0432\u043e\u0432 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:\n\n1. `XXX_init()` \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u0432 \u0441\u0430\u043c\u043e\u043c \u043d\u0430\u0447\u0430\u043b\u0435. \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043e\u043f\u0446\u0438\u0439 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 `SPH_RANKER_INIT`, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043e\u043f\u0446\u0438\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"option1=1\" \u0432 \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u044b\u0448\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0435).\n2. `XXX_update()` \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043c\u043d\u043e\u0433\u043e\u043a\u0440\u0430\u0442\u043d\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0432\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044e \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442\u0441\u044f \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 `SPH_RANKER_HIT`. \u0412\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 `hit->hit_pos`.\n3. `XXX_finalize()` \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442 \u0432\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0441\u043b\u043e\u0432. \u0414\u043e\u043b\u0436\u043d\u0430 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `WEIGHT()`. \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u2014 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f.\n4. `XXX_deinit()` \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0437\u0430 \u0437\u0430\u043f\u0440\u043e\u0441, \u0432 \u0441\u0430\u043c\u043e\u043c \u043a\u043e\u043d\u0446\u0435.\n\n\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339815
    },
    "f02a640f2defe65607d23491a0b6c5fde2e748679acdca864fb13ae8c25f2cf3": {
        "original": "# Ranker plugins\n\nRanker plugins let you implement a custom ranker that receives all the occurrences of the keywords matched in the document, and computes a  `WEIGHT()` value. They can be called as follows:\n\nCODE_BLOCK_0\nThe call workflow proceeds as follows:\n\n1. `XXX_init()` is invoked once per query per table, at the very beginning. Several query-wide options are passed to it via a `SPH_RANKER_INIT` structure, including the user options strings (for instance, \"option1=1\" in the example above).\n2. `XXX_update()` is called multiple times for each matched document, with every matched keyword occurrence provided as its parameter, a `SPH_RANKER_HIT` structure. The occurrences within each document are guaranteed to be passed in ascending order of `hit->hit_pos` values.\n3. `XXX_finalize()` is called once for each matched document when there are no more keyword occurrences. It must return the `WEIGHT()` value. This function is the only mandatory one.\n4. `XXX_deinit()` is invoked once per query, at the very end.\n\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# \u6392\u5e8f\u63d2\u4ef6\n\n\u6392\u5e8f\u63d2\u4ef6\u5141\u8bb8\u60a8\u5b9e\u73b0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6392\u5e8f\u5668\uff0c\u8be5\u6392\u5e8f\u5668\u63a5\u6536\u6587\u6863\u4e2d\u5339\u914d\u7684\u6240\u6709\u5173\u952e\u8bcd\u7684\u51fa\u73b0\u60c5\u51b5\uff0c\u5e76\u8ba1\u7b97\u4e00\u4e2a `WEIGHT()` \u503c\u3002\u5b83\u4eec\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u65b9\u5f0f\u8c03\u7528\uff1a\n\nCODE_BLOCK_0\n\u8c03\u7528\u6d41\u7a0b\u5982\u4e0b\uff1a\n\n1. `XXX_init()` \u5728\u6bcf\u6b21\u67e5\u8be2\u6bcf\u6b21\u8868\u65f6\u4ec5\u8c03\u7528\u4e00\u6b21\uff0c\u5728\u6700\u5f00\u59cb\u65f6\u88ab\u8c03\u7528\u3002\u901a\u8fc7\u4e00\u4e2a `SPH_RANKER_INIT` \u7ed3\u6784\u4f20\u9012\u4e00\u4e9b\u67e5\u8be2\u8303\u56f4\u5185\u7684\u9009\u9879\uff0c\u5305\u62ec\u7528\u6237\u9009\u9879\u5b57\u7b26\u4e32\uff08\u4f8b\u5982\uff0c\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684 \"option1=1\"\uff09\u3002\n2. `XXX_update()` \u5bf9\u4e8e\u6bcf\u4e2a\u5339\u914d\u7684\u6587\u6863\uff0c\u88ab\u591a\u6b21\u8c03\u7528\uff0c\u6bcf\u6b21\u8c03\u7528\u90fd\u63d0\u4f9b\u4e00\u4e2a\u5339\u914d\u5173\u952e\u8bcd\u7684\u51fa\u73b0\u60c5\u51b5\uff0c\u4e00\u4e2a `SPH_RANKER_HIT` \u7ed3\u6784\u3002\u6bcf\u4e2a\u6587\u6863\u5185\u7684\u51fa\u73b0\u60c5\u51b5\u4fdd\u8bc1\u6309\u7167 `hit->hit_pos` \u503c\u7684\u5347\u5e8f\u4f20\u9012\u3002\n3. `XXX_finalize()` \u5728\u6ca1\u6709\u66f4\u591a\u5173\u952e\u8bcd\u51fa\u73b0\u60c5\u51b5\u65f6\uff0c\u5bf9\u6bcf\u4e2a\u5339\u914d\u7684\u6587\u6863\u8c03\u7528\u4e00\u6b21\uff0c\u5fc5\u987b\u8fd4\u56de `WEIGHT()` \u503c\u3002\u8fd9\u662f\u552f\u4e00\u5fc5\u987b\u5b9e\u73b0\u7684\u51fd\u6570\u3002\n4. `XXX_deinit()` \u5728\u6bcf\u6b21\u67e5\u8be2\u7ed3\u675f\u65f6\u8c03\u7528\u4e00\u6b21\u3002\n\n<!-- \u8bf7\u6821\u5bf9 -->",
            "russian": "# \u0420\u0430\u043d\u043a\u0435\u0440 \u043f\u043b\u0430\u0433\u0438\u043d\u044b\n\n\u0420\u0430\u043d\u043a\u0435\u0440 \u043f\u043b\u0430\u0433\u0438\u043d\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u044f \u0432\u0430\u043c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043c \u043a\u0430\u0441\u0442\u043e\u043c \u0440\u0430\u043d\u043a\u0435\u0440 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0430 \u0432\u0441\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u043d\u0441 \u043a\u043b\u044e\uc6cc\u0434 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0438 \u0432\u044b\u0447\u0438\u0441 `WEIGHT()` value. \u041e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u0437\u043b\u0434 \u043a\u0430\u043a \u0444\u043e\u043b\u043bws:\n\nCODE_BLOCK_0\nThe call workflow proceeds as follows:\n\n1. `XXX_init()` is invoked once per query per table, at the very beginning. Several query-wide options are passed to it via a `SPH_RANKER_INIT` structure, including the user options strings (for instance, \"option1=1\" in the example above).\n2. `XXX_update()` is called multiple times for each matched document, with every matched keyword occurrence provided as its parameter, a `SPH_RANKER_HIT` structure. The occurrences within each document are guaranteed to be passed in ascending order of `hit->hit_pos` values.\n3. `XXX_finalize()` is called once for each matched document when there are no more keyword occurrences. It must return the `WEIGHT()` value. This function is the only mandatory one.\n4. `XXX_deinit()` is invoked once per query, at the very end.\n\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1766374238
    },
    "__meta": {
        "source_text": "# Ranker plugins\n\nRanker plugins let you implement a custom ranker that receives all the occurrences of the keywords matched in the document, and computes a  `WEIGHT()` value. They can be called as follows:\n\n```sql\nSELECT id, attr1 FROM test WHERE match('hello') OPTION ranker=myranker('option1=1');\n```\nThe call workflow proceeds as follows:\n\n1. `XXX_init()` is invoked once per query per table, at the very beginning. Several query-wide options are passed to it via a `SPH_RANKER_INIT` structure, including the user options strings (for instance, \"option1=1\" in the example above).\n2. `XXX_update()` is called multiple times for each matched document, with every matched keyword occurrence provided as its parameter, a `SPH_RANKER_HIT` structure. The occurrences within each document are guaranteed to be passed in ascending order of `hit->hit_pos` values.\n3. `XXX_finalize()` is called once for each matched document when there are no more keyword occurrences. It must return the `WEIGHT()` value. This function is the only mandatory one.\n4. `XXX_deinit()` is invoked once per query, at the very end.\n\n\n<!-- proofread -->\n\n",
        "updated_at": 1768530797,
        "source_md5": "2c25ff16f692c93c30342544c65051cc"
    }
}