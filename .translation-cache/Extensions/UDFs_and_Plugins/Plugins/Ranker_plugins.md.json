{
  "7209227fa8586842c609c581abbcc23454656204aa5b57e1943df637e28439bf": {
    "original": "# Ranker plugins\n\nRanker plugins let you implement a custom ranker that receives all the occurrences of the keywords matched in the document, and computes a  `WEIGHT()` value. They can be called as follows:\n\nCODE_BLOCK_0\n\nThe call workflow proceeds as follows:\n\n1. `XXX_init()` is invoked once per query per table, at the very beginning. Several query-wide options are passed to it via a `SPH_RANKER_INIT` structure, including the user options strings (for instance, \"option1=1\" in the example above).\n\n2. `XXX_update()` is called multiple times for each matched document, with every matched keyword occurrence provided as its parameter, a `SPH_RANKER_HIT` structure. The occurrences within each document are guaranteed to be passed in ascending order of `hit->hit_pos` values.\n\n3. `XXX_finalize()` is called once for each matched document when there are no more keyword occurrences. It must return the `WEIGHT()` value. This function is the only mandatory one.\n\n4. `XXX_deinit()` is invoked once per query, at the very end.\n\n<!-- proofread -->",
    "translations": {
      "chinese": "# Ranker 插件\n\nRanker 插件允许您实现一个自定义的 ranker，该 ranker 接收文档中匹配的所有关键词出现，并计算一个 `WEIGHT()` 值。它们可以按如下方式调用：\n\nCODE_BLOCK_0\n\n调用流程如下：\n\n1. `XXX_init()` 在每个查询每个表开始时调用一次。通过 `SPH_RANKER_INIT` 结构传递多个查询范围的选项，包括用户选项字符串（例如，上面示例中的 \"option1=1\"）。\n\n2. `XXX_update()` 对每个匹配的文档调用多次，每次传入一个匹配的关键词出现，作为其参数，即 `SPH_RANKER_HIT` 结构。保证每个文档内的出现按 `hit->hit_pos` 值升序传递。\n\n3. `XXX_finalize()` 在没有更多关键词出现时，对每个匹配的文档调用一次。它必须返回 `WEIGHT()` 值。此函数是唯一必需的。\n\n4. `XXX_deinit()` 在每个查询结束时调用一次。\n\n<!-- proofread -->",
      "russian": "# Плагины ранжирования\n\nПлагины ранжирования позволяют реализовать пользовательский ранжировщик, который получает все вхождения совпавших ключевых слов в документе и вычисляет значение `WEIGHT()`. Они могут вызываться следующим образом:\n\nCODE_BLOCK_0\n\nПоследовательность вызовов происходит следующим образом:\n\n1. `XXX_init()` вызывается один раз на запрос для каждой таблицы, в самом начале. Ему передаются несколько опций, действующих на весь запрос, через структуру `SPH_RANKER_INIT`, включая строки пользовательских опций (например, \"option1=1\" в приведённом выше примере).\n\n2. `XXX_update()` вызывается несколько раз для каждого совпавшего документа, при этом каждый раз передаётся в качестве параметра вхождение ключевого слова — структура `SPH_RANKER_HIT`. Вхождения внутри каждого документа гарантированно передаются в порядке возрастания значений `hit->hit_pos`.\n\n3. `XXX_finalize()` вызывается один раз для каждого совпавшего документа, когда больше нет вхождений ключевых слов. Она должна вернуть значение `WEIGHT()`. Эта функция является единственной обязательной.\n\n4. `XXX_deinit()` вызывается один раз на запрос, в самом конце.\n\n<!-- proofread -->"
    },
    "is_code_or_comment": false
  }
}
