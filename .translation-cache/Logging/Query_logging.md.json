{
    "285a2a6b38f28f3dae3f9d6112f041d932f5361261e4f41f9219ed72b64a2f26": {
        "original": "# Query logging\n\n<!-- example query_logging -->\nQuery logging can be enabled by setting the [query_log](../Server_settings/Searchd.md#query_log) directive in the searchd section of the configuration file.\n\nQueries can also be sent to syslog by setting `syslog` instead of a file path. In this case, all search queries will be sent to the syslog daemon with `LOG_INFO` priority, prefixed with `[query]` instead of a timestamp. Only the `plain` log format is supported for syslog.\n\n<!-- intro -->\n`query_log` example:\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n\n## Logging format\n\nTwo query log formats are supported:\n* `sphinxql` (default): Logs in SQL format. It also provides an easy way to replay logged queries.\n* `plain`: Logs full-text queries in a simple text format. This format is recommended if most of your queries are primarily full-text or if you do not need to log non-full-text components, such as filtering by attributes, sorting, or grouping. Queries logged in the `plain` format cannot be replayed. Note that queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged in this mode.\n\nTo switch between the formats, you can use the searchd setting [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### SQL log format\n\n<!-- example sphixql_log -->\nThe SQL log format is the default setting. In this mode, Manticore logs all successful and unsuccessful select queries. Requests sent as SQL or via the binary API are logged in the SQL format, but JSON queries are logged as is. This type of logging only works with plain log files and does not support the 'syslog' service for logging.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\nThe features of the Manticore SQL log format compared to the [plain format](../Logging/Query_logging.md#Plain-log-format) include:\n* Full statement data is logged where possible.\n* Errors and warnings are logged.\n* The query log can be replayed.\n* Additional performance counters (currently, per-agent distributed query times) are logged.\n* Each log entry is a valid Manticore SQL/JSON statement that reconstructs the full request, except if the logged request is too large and needs to be shortened for performance reasons.\n* JSON requests are logged as comments, skipping extra whitespaces between elements. \n* Additional messages, counters, etc., are logged as comments.\n\n<!-- intro -->\n`sphinxql` log entries example:\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n### Plain log format\n\n<!-- example plain_log -->\nWith the `plain` log format, Manticore logs all successfully executed search queries in a simple text format. Non-full-text parts of the queries are not logged. JSON queries are recorded as single-line entries. Queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\nThe log format is as follows:\n\nCODE_BLOCK_4\n\nwhere:\n* `real-time` is the time from the start to the finish of the query.\n* `wall-time` is similar to real-time, but excludes time spent waiting for agents and merging result sets from them.\n* `perf-stats` includes CPU/IO stats when Manticore is started with `--cpustats` (or it was enabled via `SET GLOBAL cpustats=1`) and/or `--iostats` (or it was enabled via `SET GLOBAL iostats=1`):\n  - `ios` is the number of file I/O operations carried out;\n  - `kb` is the amount of data in kilobytes read from the table files;\n  - `ms` is the time spent on I/O operations.\n  - `cpums` is the time in milliseconds spent on CPU processing the query.\n* `match-mode` can have one of the following values:\n  - \"all\" for `SPH_MATCH_ALL` mode;\n  - \"any\" for `SPH_MATCH_ANY` mode;\n  - \"phr\" for `SPH_MATCH_PHRASE` mode;\n  - \"bool\" for `SPH_MATCH_BOOLEAN` mode;\n  - \"ext\" for `SPH_MATCH_EXTENDED` mode;\n  - \"ext2\" for `SPH_MATCH_EXTENDED2` mode;\n  - \"scan\" if the full scan mode was used, either by being specified with `SPH_MATCH_FULLSCAN` or if the query was empty.\n* `sort-mode` can have one of the following values:\n  - \"rel\" for `SPH_SORT_RELEVANCE` mode;\n  - \"attr-\" for `SPH_SORT_ATTR_DESC` mode;\n  - \"attr+\" for `SPH_SORT_ATTR_ASC` mode;\n  - \"tsegs\" for `SPH_SORT_TIME_SEGMENTS` mode;\n  - \"ext\" for `SPH_SORT_EXTENDED` mode.\n\nNote: the `SPH*` modes are specific to the `sphinx` legacy interface. SQL and JSON interfaces will log, in most cases, `ext2` as `match-mode` and `ext` and `rel` as `sort-mode`.\n\n<!-- intro -->\nQuery log example:\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## Logging only slow queries\n\n<!-- example query_log_min_msec -->\nBy default, all queries are logged. If you want to log only queries with execution times exceeding a specified limit, the `query_log_min_msec` directive can be used.\n\nThe expected unit of measurement is milliseconds, but time suffix expressions can also be used.\n\n<!-- intro -->\n`query_log_min_msec` example:\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## Log file permission mode\n\n<!-- Example query_log_mode -->\nBy default, the searchd and query log files are created with permission `600`, so only the user under which Manticore is running and `root` can read the log files. The `query_log_mode` option allows setting a different permission. This can be helpful for allowing other users to read the log files (for example, monitoring solutions running on non-root users).\n\n<!-- intro -->\n`query_log_mode` example:\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# \u67e5\u8be2\u65e5\u5fd7\n\n<!-- example query_logging -->\n\u67e5\u8be2\u65e5\u5fd7\u53ef\u4ee5\u901a\u8fc7\u5728\u914d\u7f6e\u6587\u4ef6\u7684 searchd \u90e8\u5206\u8bbe\u7f6e [query_log](../Server_settings/Searchd.md#query_log) \u6307\u4ee4\u6765\u542f\u7528\u3002\n\n\u67e5\u8be2\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e `syslog`\uff08\u800c\u4e0d\u662f\u6587\u4ef6\u8def\u5f84\uff09\u53d1\u9001\u5230 syslog\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u641c\u7d22\u67e5\u8be2\u5c06\u4ee5 `LOG_INFO` \u4f18\u5148\u7ea7\u53d1\u9001\u7ed9 syslog \u5b88\u62a4\u8fdb\u7a0b\uff0c\u524d\u7f00\u4e3a `[query]`\uff0c\u800c\u975e\u65f6\u95f4\u6233\u3002syslog \u53ea\u652f\u6301 `plain` \u65e5\u5fd7\u683c\u5f0f\u3002\n\n<!-- intro -->\n`query_log` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n\n## \u65e5\u5fd7\u683c\u5f0f\n\n\u652f\u6301\u4e24\u79cd\u67e5\u8be2\u65e5\u5fd7\u683c\u5f0f\uff1a\n* `sphinxql`\uff08\u9ed8\u8ba4\uff09\uff1a\u4ee5 SQL \u683c\u5f0f\u8bb0\u5f55\u3002\u5b83\u8fd8\u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u91cd\u653e\u8bb0\u5f55\u7684\u67e5\u8be2\u3002\n* `plain`\uff1a\u4ee5\u7b80\u5355\u6587\u672c\u683c\u5f0f\u8bb0\u5f55\u5168\u6587\u672c\u67e5\u8be2\u3002\u63a8\u8350\u6b64\u683c\u5f0f\uff0c\u5f53\u60a8\u7684\u5927\u591a\u6570\u67e5\u8be2\u4e3b\u8981\u662f\u5168\u6587\u672c\u67e5\u8be2\u6216\u8005\u60a8\u4e0d\u9700\u8981\u8bb0\u5f55\u975e\u5168\u6587\u672c\u7ec4\u4ef6\uff08\u5982\u57fa\u4e8e\u5c5e\u6027\u7684\u8fc7\u6ee4\u3001\u6392\u5e8f\u6216\u5206\u7ec4\uff09\u65f6\u3002\u4ee5 `plain` \u683c\u5f0f\u8bb0\u5f55\u7684\u67e5\u8be2\u65e0\u6cd5\u91cd\u653e\u3002\u6ce8\u610f\uff0c\u901a\u8fc7 [Buddy](../Installation/Manticore_Buddy.md) \u5904\u7406\u7684\u67e5\u8be2\u4e0d\u4f1a\u5728\u6b64\u6a21\u5f0f\u4e0b\u88ab\u8bb0\u5f55\u3002\n\n\u5207\u6362\u683c\u5f0f\u53ef\u4ee5\u4f7f\u7528 searchd \u8bbe\u7f6e [query_log_format](../Server_settings/Searchd.md#query_log_format)\u3002\n\n### SQL \u65e5\u5fd7\u683c\u5f0f\n\n<!-- example sphixql_log -->\nSQL \u65e5\u5fd7\u683c\u5f0f\u662f\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cManticore \u8bb0\u5f55\u6240\u6709\u6210\u529f\u548c\u5931\u8d25\u7684 select \u67e5\u8be2\u3002\u4ee5 SQL \u6216\u4e8c\u8fdb\u5236 API \u53d1\u9001\u7684\u8bf7\u6c42\u4ee5 SQL \u683c\u5f0f\u8bb0\u5f55\uff0c\u4f46 JSON \u67e5\u8be2\u6309\u539f\u6837\u8bb0\u5f55\u3002\u6b64\u65e5\u5fd7\u7c7b\u578b\u4ec5\u9002\u7528\u4e8e\u666e\u901a\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e0d\u652f\u6301 'syslog' \u670d\u52a1\u65e5\u5fd7\u3002\n\n<!-- intro -->\n`query_log_format` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\n\u76f8\u6bd4\u4e8e[plain\u683c\u5f0f](../Logging/Query_logging.md#Plain-log-format)\uff0cManticore SQL \u65e5\u5fd7\u683c\u5f0f\u7684\u7279\u70b9\u5305\u62ec\uff1a\n* \u5c3d\u53ef\u80fd\u8bb0\u5f55\u5b8c\u6574\u7684\u8bed\u53e5\u6570\u636e\u3002\n* \u8bb0\u5f55\u9519\u8bef\u548c\u8b66\u544a\u3002\n* \u67e5\u8be2\u65e5\u5fd7\u53ef\u91cd\u653e\u3002\n* \u8bb0\u5f55\u989d\u5916\u7684\u6027\u80fd\u8ba1\u6570\u5668\uff08\u5f53\u524d\u4e3a\u6bcf\u4e2a\u4ee3\u7406\u7684\u5206\u5e03\u5f0f\u67e5\u8be2\u65f6\u95f4\uff09\u3002\n* \u6bcf\u6761\u65e5\u5fd7\u6761\u76ee\u662f\u6709\u6548\u7684 Manticore SQL/JSON \u8bed\u53e5\uff0c\u53ef\u91cd\u6784\u5b8c\u6574\u8bf7\u6c42\uff0c\u9664\u975e\u8bb0\u5f55\u7684\u8bf7\u6c42\u8fc7\u5927\u4e3a\u6027\u80fd\u8003\u8651\u88ab\u7f29\u77ed\u3002\n* JSON \u8bf7\u6c42\u4ee5\u6ce8\u91ca\u5f62\u5f0f\u8bb0\u5f55\uff0c\u8df3\u8fc7\u5143\u7d20\u95f4\u591a\u4f59\u7684\u7a7a\u767d\u3002\n* \u989d\u5916\u7684\u6d88\u606f\u3001\u8ba1\u6570\u5668\u7b49\u4ee5\u6ce8\u91ca\u5f62\u5f0f\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`sphinxql` \u65e5\u5fd7\u6761\u76ee\u793a\u4f8b\uff1a\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n### Plain \u65e5\u5fd7\u683c\u5f0f\n\n<!-- example plain_log -->\n\u4f7f\u7528 `plain` \u65e5\u5fd7\u683c\u5f0f\u65f6\uff0cManticore \u4ee5\u7b80\u5355\u6587\u672c\u683c\u5f0f\u8bb0\u5f55\u6240\u6709\u6210\u529f\u6267\u884c\u7684\u641c\u7d22\u67e5\u8be2\u3002\u67e5\u8be2\u4e2d\u975e\u5168\u6587\u672c\u90e8\u5206\u4e0d\u88ab\u8bb0\u5f55\u3002JSON \u67e5\u8be2\u4ee5\u5355\u884c\u6761\u76ee\u8bb0\u5f55\u3002\u901a\u8fc7 [Buddy](../Installation/Manticore_Buddy.md) \u5904\u7406\u7684\u67e5\u8be2\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`query_log_format` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\n\u65e5\u5fd7\u683c\u5f0f\u5982\u4e0b\uff1a\n\nCODE_BLOCK_4\n\n\u5176\u4e2d\uff1a\n* `real-time` \u662f\u67e5\u8be2\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\u7684\u65f6\u95f4\u3002\n* `wall-time` \u4e0e real-time \u7c7b\u4f3c\uff0c\u4f46\u4e0d\u5305\u62ec\u7b49\u5f85\u4ee3\u7406\u548c\u5408\u5e76\u5176\u7ed3\u679c\u96c6\u7684\u65f6\u95f4\u3002\n* `perf-stats` \u5305\u542b CPU/IO \u7edf\u8ba1\u4fe1\u606f\uff0c\u524d\u63d0\u662f Manticore \u4ee5 `--cpustats` \u542f\u52a8\uff08\u6216\u901a\u8fc7 `SET GLOBAL cpustats=1` \u542f\u7528\uff09\u548c/\u6216 `--iostats` \u542f\u52a8\uff08\u6216\u901a\u8fc7 `SET GLOBAL iostats=1` \u542f\u7528\uff09\uff1a\n  - `ios` \u662f\u6587\u4ef6 I/O \u64cd\u4f5c\u6b21\u6570\uff1b\n  - `kb` \u662f\u4ece\u8868\u6587\u4ef6\u8bfb\u53d6\u7684\u6570\u636e\u91cf\uff08\u5343\u5b57\u8282\uff09\uff1b\n  - `ms` \u662f\u8fdb\u884c I/O \u64cd\u4f5c\u6240\u82b1\u8d39\u7684\u65f6\u95f4\uff1b\n  - `cpums` \u662f CPU \u5904\u7406\u67e5\u8be2\u6240\u82b1\u8d39\u7684\u6beb\u79d2\u6570\u3002\n* `match-mode` \u53ef\u9009\u503c\u5305\u62ec\uff1a\n  - \"all\" \u8868\u793a `SPH_MATCH_ALL` \u6a21\u5f0f\uff1b\n  - \"any\" \u8868\u793a `SPH_MATCH_ANY` \u6a21\u5f0f\uff1b\n  - \"phr\" \u8868\u793a `SPH_MATCH_PHRASE` \u6a21\u5f0f\uff1b\n  - \"bool\" \u8868\u793a `SPH_MATCH_BOOLEAN` \u6a21\u5f0f\uff1b\n  - \"ext\" \u8868\u793a `SPH_MATCH_EXTENDED` \u6a21\u5f0f\uff1b\n  - \"ext2\" \u8868\u793a `SPH_MATCH_EXTENDED2` \u6a21\u5f0f\uff1b\n  - \"scan\" \u8868\u793a\u4f7f\u7528\u4e86\u5168\u8868\u626b\u63cf\u6a21\u5f0f\uff0c\u6216\u901a\u8fc7 `SPH_MATCH_FULLSCAN` \u6307\u5b9a\uff0c\u6216\u67e5\u8be2\u4e3a\u7a7a\u3002\n* `sort-mode` \u53ef\u9009\u503c\u5305\u62ec\uff1a\n  - \"rel\" \u8868\u793a `SPH_SORT_RELEVANCE` \u6a21\u5f0f\uff1b\n  - \"attr-\" \u8868\u793a `SPH_SORT_ATTR_DESC` \u6a21\u5f0f\uff1b\n  - \"attr+\" \u8868\u793a `SPH_SORT_ATTR_ASC` \u6a21\u5f0f\uff1b\n  - \"tsegs\" \u8868\u793a `SPH_SORT_TIME_SEGMENTS` \u6a21\u5f0f\uff1b\n  - \"ext\" \u8868\u793a `SPH_SORT_EXTENDED` \u6a21\u5f0f\u3002\n\n\u6ce8\u610f\uff1a`SPH*` \u6a21\u5f0f\u7279\u6307 `sphinx` \u65e7\u63a5\u53e3\u3002SQL \u548c JSON \u63a5\u53e3\u5927\u591a\u60c5\u51b5\u4e0b\u4f1a\u8bb0\u5f55 `ext2` \u4f5c\u4e3a `match-mode`\uff0c`ext` \u548c `rel` \u4f5c\u4e3a `sort-mode`\u3002\n\n<!-- intro -->\n\u67e5\u8be2\u65e5\u5fd7\u793a\u4f8b\uff1a\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## \u53ea\u8bb0\u5f55\u6162\u67e5\u8be2\n\n<!-- example query_log_min_msec -->\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u67e5\u8be2\u90fd\u4f1a\u88ab\u8bb0\u5f55\u3002\u5982\u679c\u60a8\u53ea\u60f3\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9650\u5236\u7684\u67e5\u8be2\uff0c\u53ef\u4ee5\u4f7f\u7528 `query_log_min_msec` \u6307\u4ee4\u3002\n\n\u5176\u671f\u671b\u5355\u4f4d\u662f\u6beb\u79d2\uff0c\u4f46\u662f\u4e5f\u652f\u6301\u65f6\u95f4\u540e\u7f00\u8868\u8fbe\u5f0f\u3002\n\n<!-- intro -->\n`query_log_min_msec` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## \u65e5\u5fd7\u6587\u4ef6\u6743\u9650\u6a21\u5f0f\n\n<!-- Example query_log_mode -->\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0csearchd \u548c\u67e5\u8be2\u65e5\u5fd7\u6587\u4ef6\u6743\u9650\u4e3a `600`\uff0c\u6240\u4ee5\u53ea\u6709\u8fd0\u884c Manticore \u7684\u7528\u6237\u548c `root` \u80fd\u8bfb\u53d6\u65e5\u5fd7\u6587\u4ef6\u3002`query_log_mode` \u9009\u9879\u5141\u8bb8\u8bbe\u7f6e\u4e0d\u540c\u6743\u9650\u3002\u8fd9\u5bf9\u4e8e\u5141\u8bb8\u5176\u4ed6\u7528\u6237\u8bfb\u53d6\u65e5\u5fd7\u6587\u4ef6\uff08\u4f8b\u5982\u8fd0\u884c\u5728\u975e root \u7528\u6237\u4e0b\u7684\u76d1\u63a7\u89e3\u51b3\u65b9\u6848\uff09\u5f88\u6709\u7528\u3002\n\n<!-- intro -->\n`query_log_mode` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->",
            "russian": "# \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n\n<!-- example query_logging -->\n\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 [query_log](../Server_settings/Searchd.md#query_log) \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 searchd \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.\n\n\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 syslog, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432 `syslog` \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u0443\u0442\u0438 \u043a \u0444\u0430\u0439\u043b\u0443. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0441\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u0435\u043c\u043e\u043d\u0443 syslog \u0441 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c `LOG_INFO`, \u0441 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u043c `[query]` \u0432\u043c\u0435\u0441\u0442\u043e \u043c\u0435\u0442\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438. \u0414\u043b\u044f syslog \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0444\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 `plain`.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log`:\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n\n## \u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\n\n\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0434\u0432\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0436\u0443\u0440\u043d\u0430\u043b\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:\n* `sphinxql` (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e): \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 SQL. \u0422\u0430\u043a\u0436\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.\n* `plain`: \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435. \u042d\u0442\u043e\u0442 \u0444\u043e\u0440\u043c\u0430\u0442 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0432\u0430\u0448\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0444\u0443\u043b\u043b\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 `plain`, \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 [Buddy](../Installation/Manticore_Buddy.md), \u0432 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\n\n\u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 searchd [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### \u0424\u043e\u0440\u043c\u0430\u0442 SQL \u043b\u043e\u0433\u0430\n\n<!-- example sphixql_log -->\n\u0424\u043e\u0440\u043c\u0430\u0442 SQL \u043b\u043e\u0433\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 Manticore \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 \u0438 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 select-\u0437\u0430\u043f\u0440\u043e\u0441\u044b. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0432 SQL \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 API, \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 SQL-\u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u043d\u043e JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u0435\u0441\u0442\u044c. \u0422\u0430\u043a\u043e\u0439 \u0442\u0438\u043f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u0431\u044b\u0447\u043d\u044b\u043c\u0438 \u043b\u043e\u0433-\u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u0438 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0438\u0441 'syslog' \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_format`:\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\n\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 SQL \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043b\u043e\u0433\u043e\u0432 Manticore \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 [plain \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c](../Logging/Query_logging.md#Plain-log-format) \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\n* \u041f\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n* \u041b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f.\n* \u041b\u043e\u0433\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u044b.\n* \u041b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 (\u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u043e \u0430\u0433\u0435\u043d\u0442\u0430\u043c).\n* \u041a\u0430\u0436\u0434\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u043b\u043e\u0433\u0430 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c SQL/JSON-\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c Manticore, \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u044e\u0449\u0438\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u043a\u0440\u043e\u043c\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0438 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0435\u0433\u043e \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c.\n* JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0441 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043e\u043c \u043b\u0438\u0448\u043d\u0438\u0445 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438.\n* \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u0438 \u043f\u0440\u043e\u0447\u0435\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 `sphinxql` \u043b\u043e\u0433\u0435:\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n### \u0424\u043e\u0440\u043c\u0430\u0442 plain \u043b\u043e\u0433\u0430\n\n<!-- example plain_log -->\n\u0412 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043b\u043e\u0433\u0430 `plain` Manticore \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435. \u041d\u0435\u0444\u0443\u043b\u043b\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f. JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u043c\u0438 \u0437\u0430\u043f\u0438\u0441\u044f\u043c\u0438. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 [Buddy](../Installation/Manticore_Buddy.md), \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_format`:\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\n\u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:\n\nCODE_BLOCK_4\n\n\u0433\u0434\u0435:\n* `real-time` \u2014 \u0432\u0440\u0435\u043c\u044f \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n* `wall-time` \u2014 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e real-time, \u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0438\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432.\n* `perf-stats` \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 CPU/IO, \u0435\u0441\u043b\u0438 Manticore \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0441 `--cpustats` (\u0438\u043b\u0438 \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 `SET GLOBAL cpustats=1`) \u0438/\u0438\u043b\u0438 `--iostats` (\u0438\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 `SET GLOBAL iostats=1`):\n  - `ios` \u2014 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0432\u0432\u043e\u0434\u0430-\u0432\u044b\u0432\u043e\u0434\u0430 \u0444\u0430\u0439\u043b\u043e\u0432;\n  - `kb` \u2014 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043a\u0438\u043b\u043e\u0431\u0430\u0439\u0442\u0430\u0445, \u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0444\u0430\u0439\u043b\u043e\u0432 \u0442\u0430\u0431\u043b\u0438\u0446;\n  - `ms` \u2014 \u0432\u0440\u0435\u043c\u044f, \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u0432\u043e\u0434\u0430-\u0432\u044b\u0432\u043e\u0434\u0430;\n  - `cpums` \u2014 \u0432\u0440\u0435\u043c\u044f \u0432 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445, \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 CPU \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n* `match-mode` \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:\n  - \"all\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_ALL`;\n  - \"any\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_ANY`;\n  - \"phr\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_PHRASE`;\n  - \"bool\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_BOOLEAN`;\n  - \"ext\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_EXTENDED`;\n  - \"ext2\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_EXTENDED2`;\n  - \"scan\" \u0435\u0441\u043b\u0438 \u0431\u044b\u043b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0447\u0435\u0440\u0435\u0437 `SPH_MATCH_FULLSCAN` \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u044b\u043b \u043f\u0443\u0441\u0442\u044b\u043c.\n* `sort-mode` \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:\n  - \"rel\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_RELEVANCE`;\n  - \"attr-\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_ATTR_DESC`;\n  - \"attr+\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_ATTR_ASC`;\n  - \"tsegs\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_TIME_SEGMENTS`;\n  - \"ext\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_EXTENDED`.\n\n\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0440\u0435\u0436\u0438\u043c\u044b `SPH*` \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 `sphinx`. \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b SQL \u0438 JSON \u0432 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0431\u0443\u0434\u0443\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c `ext2` \u043a\u0430\u043a `match-mode` \u0438 `ext` \u0438 `rel` \u043a\u0430\u043a `sort-mode`.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 \u043b\u043e\u0433\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n\n<!-- example query_log_min_msec -->\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u044e\u0449\u0438\u043c \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u0435\u0434\u0435\u043b, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 `query_log_min_msec`.\n\n\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u043e\u0439 \u0435\u0434\u0438\u043d\u0438\u0446\u0435\u0439 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u044b, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0443\u0444\u0444\u0438\u043a\u0441\u0430\u043c\u0438.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_min_msec`:\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## \u0420\u0435\u0436\u0438\u043c \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0444\u0430\u0439\u043b\u0443 \u043b\u043e\u0433\u0430\n\n<!-- Example query_log_mode -->\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0444\u0430\u0439\u043b\u044b searchd \u0438 \u043b\u043e\u0433\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 `600`, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0447\u0438\u0442\u0430\u0442\u044c \u0438\u0445 \u043c\u043e\u0433\u0443\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0437\u0430\u043f\u0443\u0449\u0435\u043d Manticore, \u0438 `root`. \u041e\u043f\u0446\u0438\u044f `query_log_mode` \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0434\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043b\u043e\u0433\u043e\u0432 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c \u043f\u043e \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0443, \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u043c \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0431\u0435\u0437 root).\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_mode`:\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339892
    },
    "ce8a4c58e226c2b346ef24e9d776a45f170d8756b9102a8d6dab6dd9c9e0d9ec": {
        "original": "# Query logging\n\n<!-- example query_logging -->\nQuery logging can be enabled by setting the [query_log](../Server_settings/Searchd.md#query_log) directive in the searchd section of the configuration file.\n\nQueries can also be sent to syslog by setting `syslog` instead of a file path. In this case, all search queries will be sent to the syslog daemon with `LOG_INFO` priority, prefixed with `[query]` instead of a timestamp. Only the `plain` log format is supported for syslog.\n\n<!-- intro -->\n`query_log` example:\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n## Logging format\n\nTwo query log formats are supported:\n* `sphinxql` (default): Logs in SQL format. It also provides an easy way to replay logged queries.\n* `plain`: Logs full-text queries in a simple text format. This format is recommended if most of your queries are primarily full-text or if you do not need to log non-full-text components, such as filtering by attributes, sorting, or grouping. Queries logged in the `plain` format cannot be replayed. Note that queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged in this mode.\n\nTo switch between the formats, you can use the searchd setting [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### SQL log format\n\n<!-- example sphixql_log -->\nThe SQL log format is the default setting. In this mode, Manticore logs all successful and unsuccessful select queries. Requests sent as SQL or via the binary API are logged in the SQL format, but JSON queries are logged as is. This type of logging only works with plain log files and does not support the 'syslog' service for logging.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\nThe features of the Manticore SQL log format compared to the [plain format](../Logging/Query_logging.md#Plain-log-format) include:\n* Full statement data is logged where possible.\n* Errors and warnings are logged.\n* The query log can be replayed.\n* Additional performance counters (currently, per-agent distributed query times) are logged.\n* Each log entry is a valid Manticore SQL/JSON statement that reconstructs the full request, except if the logged request is too large and needs to be shortened for performance reasons.\n* JSON requests are logged as comments, skipping extra whitespaces between elements. \n* Additional messages, counters, etc., are logged as comments.\n\n<!-- intro -->\n`sphinxql` log entries example:\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n### Plain log format\n\n<!-- example plain_log -->\nWith the `plain` log format, Manticore logs all successfully executed search queries in a simple text format. Non-full-text parts of the queries are not logged. JSON queries are recorded as single-line entries. Queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\nThe log format is as follows:\n\nCODE_BLOCK_4\n\nwhere:\n* `real-time` is the time from the start to the finish of the query.\n* `wall-time` is similar to real-time, but excludes time spent waiting for agents and merging result sets from them.\n* `perf-stats` includes CPU/IO stats when Manticore is started with `--cpustats` (or it was enabled via `SET GLOBAL cpustats=1`) and/or `--iostats` (or it was enabled via `SET GLOBAL iostats=1`):\n  - `ios` is the number of file I/O operations carried out;\n  - `kb` is the amount of data in kilobytes read from the table files;\n  - `ms` is the time spent on I/O operations.\n  - `cpums` is the time in milliseconds spent on CPU processing the query.\n* `match-mode` can have one of the following values:\n  - \"all\" for `SPH_MATCH_ALL` mode;\n  - \"any\" for `SPH_MATCH_ANY` mode;\n  - \"phr\" for `SPH_MATCH_PHRASE` mode;\n  - \"bool\" for `SPH_MATCH_BOOLEAN` mode;\n  - \"ext\" for `SPH_MATCH_EXTENDED` mode;\n  - \"ext2\" for `SPH_MATCH_EXTENDED2` mode;\n  - \"scan\" if the full scan mode was used, either by being specified with `SPH_MATCH_FULLSCAN` or if the query was empty.\n* `sort-mode` can have one of the following values:\n  - \"rel\" for `SPH_SORT_RELEVANCE` mode;\n  - \"attr-\" for `SPH_SORT_ATTR_DESC` mode;\n  - \"attr+\" for `SPH_SORT_ATTR_ASC` mode;\n  - \"tsegs\" for `SPH_SORT_TIME_SEGMENTS` mode;\n  - \"ext\" for `SPH_SORT_EXTENDED` mode.\n\nNote: the `SPH*` modes are specific to the `sphinx` legacy interface. SQL and JSON interfaces will log, in most cases, `ext2` as `match-mode` and `ext` and `rel` as `sort-mode`.\n\n<!-- intro -->\nQuery log example:\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## Logging only slow queries\n\n<!-- example query_log_min_msec -->\nBy default, all queries are logged. If you want to log only queries with execution times exceeding a specified limit, the `query_log_min_msec` directive can be used.\n\nThe expected unit of measurement is milliseconds, but time suffix expressions can also be used.\n\n<!-- intro -->\n`query_log_min_msec` example:\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## Log file permission mode\n\n<!-- Example query_log_mode -->\nBy default, the searchd and query log files are created with permission `600`, so only the user under which Manticore is running and `root` can read the log files. The `query_log_mode` option allows setting a different permission. This can be helpful for allowing other users to read the log files (for example, monitoring solutions running on non-root users).\n\n<!-- intro -->\n`query_log_mode` example:\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# \u67e5\u8be2\u65e5\u5fd7\n\n<!-- example query_logging -->\n\u67e5\u8be2\u65e5\u5fd7\u53ef\u4ee5\u901a\u8fc7\u5728\u914d\u7f6e\u6587\u4ef6\u7684searchd\u90e8\u5206\u8bbe\u7f6e[query_log](../Server_settings/Searchd.md#query_log)\u6307\u4ee4\u6765\u542f\u7528\u3002\n\n\u67e5\u8be2\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e`syslog`\u800c\u4e0d\u662f\u6587\u4ef6\u8def\u5f84\u53d1\u9001\u5230syslog\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u641c\u7d22\u67e5\u8be2\u5c06\u4f7f\u7528`LOG_INFO`\u4f18\u5148\u7ea7\u53d1\u9001\u5230syslog\u5b88\u62a4\u8fdb\u7a0b\uff0c\u524d\u9762\u5e26\u6709`[query]`\u800c\u4e0d\u662f\u65f6\u95f4\u6233\u3002\u4ec5\u652f\u6301syslog\u7684\u65e5\u5fd7\u683c\u5f0f\u4e3a`plain`\u3002\n\n<!-- intro -->\n`query_log`\u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n## \u65e5\u5fd7\u683c\u5f0f\n\n\u652f\u6301\u4e24\u79cd\u67e5\u8be2\u65e5\u5fd7\u683c\u5f0f\uff1a\n* `sphinxql`\uff08\u9ed8\u8ba4\uff09\uff1a\u4ee5SQL\u683c\u5f0f\u8bb0\u5f55\u3002\u8fd9\u4e5f\u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u91cd\u653e\u8bb0\u5f55\u7684\u67e5\u8be2\u3002\n* `plain`\uff1a\u4ee5\u7b80\u5355\u6587\u672c\u683c\u5f0f\u8bb0\u5f55\u5168\u6587\u67e5\u8be2\u3002\u5982\u679c\u5927\u591a\u6570\u67e5\u8be2\u4e3b\u8981\u662f\u5168\u6587\u67e5\u8be2\uff0c\u6216\u8005\u4e0d\u9700\u8981\u8bb0\u5f55\u975e\u5168\u6587\u90e8\u5206\uff0c\u5982\u5c5e\u6027\u8fc7\u6ee4\u3001\u6392\u5e8f\u6216\u5206\u7ec4\uff0c\u90a3\u4e48\u63a8\u8350\u4f7f\u7528\u6b64\u683c\u5f0f\u3002\u4ee5`plain`\u683c\u5f0f\u8bb0\u5f55\u7684\u67e5\u8be2\u65e0\u6cd5\u91cd\u653e\u3002\u6ce8\u610f\uff0c\u901a\u8fc7[Buddy](../Installation/Manticore_Buddy.md)\u5904\u7406\u7684\u67e5\u8be2\u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002\n\n\u8981\u5207\u6362\u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528searchd\u8bbe\u7f6e[query_log_format](../Server_settings/Searchd.md#query_log_format)\u3002\n\n### SQL\u65e5\u5fd7\u683c\u5f0f\n\n<!-- example sphixql_log -->\nSQL\u65e5\u5fd7\u683c\u5f0f\u662f\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\uff0cManticore\u8bb0\u5f55\u6240\u6709\u6210\u529f\u7684\u548c\u4e0d\u6210\u529f\u7684select\u67e5\u8be2\u3002\u4ee5SQL\u6216\u4e8c\u8fdb\u5236API\u53d1\u9001\u7684\u8bf7\u6c42\u4ee5SQL\u683c\u5f0f\u8bb0\u5f55\uff0c\u4f46JSON\u67e5\u8be2\u6309\u539f\u6837\u8bb0\u5f55\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u8bb0\u5f55\u4ec5\u9002\u7528\u4e8e\u7eaf\u6587\u672c\u65e5\u5fd7\u6587\u4ef6\uff0c\u5e76\u4e0d\u652f\u6301`syslog`\u670d\u52a1\u8fdb\u884c\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`query_log_format`\u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\n\u4e0e[plain\u683c\u5f0f](../Logging/Query_logging.md#Plain-log-format)\u76f8\u6bd4\uff0cManticore SQL\u65e5\u5fd7\u683c\u5f0f\u7684\u7279\u6027\u5305\u62ec\uff1a\n* \u5c3d\u53ef\u80fd\u8bb0\u5f55\u5b8c\u6574\u7684\u8bed\u53e5\u6570\u636e\u3002\n* \u8bb0\u5f55\u9519\u8bef\u548c\u8b66\u544a\u3002\n* \u67e5\u8be2\u65e5\u5fd7\u53ef\u4ee5\u91cd\u653e\u3002\n* \u8bb0\u5f55\u989d\u5916\u7684\u6027\u80fd\u8ba1\u6570\u5668\uff08\u5f53\u524d\u4e3a\u6bcf\u4e2a\u4ee3\u7406\u5206\u5e03\u5f0f\u67e5\u8be2\u65f6\u95f4\uff09\u3002\n* \u6bcf\u6761\u65e5\u5fd7\u6761\u76ee\u90fd\u662f\u4e00\u4e2a\u6709\u6548\u7684Manticore SQL/JSON\u8bed\u53e5\uff0c\u53ef\u4ee5\u91cd\u5efa\u5b8c\u6574\u7684\u8bf7\u6c42\uff0c\u9664\u975e\u8bb0\u5f55\u7684\u8bf7\u6c42\u592a\u5927\uff0c\u9700\u8981\u4e3a\u4e86\u6027\u80fd\u539f\u56e0\u8fdb\u884c\u7f29\u77ed\u3002\n* JSON\u8bf7\u6c42\u4f5c\u4e3a\u6ce8\u91ca\u8bb0\u5f55\uff0c\u8df3\u8fc7\u5143\u7d20\u4e4b\u95f4\u7684\u591a\u4f59\u7a7a\u683c\u3002\n* \u8bb0\u5f55\u989d\u5916\u7684\u6d88\u606f\u3001\u8ba1\u6570\u5668\u7b49\u4f5c\u4e3a\u6ce8\u91ca\u3002\n\n<!-- intro -->\n`sphinxql`\u65e5\u5fd7\u6761\u76ee\u793a\u4f8b\uff1a\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n### Plain\u65e5\u5fd7\u683c\u5f0f\n\n<!-- example plain_log -->\n\u4f7f\u7528`plain`\u65e5\u5fd7\u683c\u5f0f\uff0cManticore\u4ee5\u7b80\u5355\u6587\u672c\u683c\u5f0f\u8bb0\u5f55\u6240\u6709\u6210\u529f\u6267\u884c\u7684\u641c\u7d22\u67e5\u8be2\u3002\u67e5\u8be2\u7684\u975e\u5168\u6587\u90e8\u5206\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002JSON\u67e5\u8be2\u8bb0\u5f55\u4e3a\u5355\u884c\u6761\u76ee\u3002\u901a\u8fc7[Buddy](../Installation/Manticore_Buddy.md)\u5904\u7406\u7684\u67e5\u8be2\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`query_log_format`\u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\n\u65e5\u5fd7\u683c\u5f0f\u5982\u4e0b\uff1a\n\nCODE_BLOCK_4\n\n\u5176\u4e2d\uff1a\n* `real-time`\u662f\u4ece\u67e5\u8be2\u5f00\u59cb\u5230\u7ed3\u675f\u7684\u65f6\u95f4\u3002\n* `wall-time`\u7c7b\u4f3c\u4e8e`real-time`\uff0c\u4f46\u6392\u9664\u4e86\u7b49\u5f85\u4ee3\u7406\u548c\u5408\u5e76\u7ed3\u679c\u96c6\u7684\u65f6\u95f4\u3002\n* `perf-stats`\u5305\u62ec\u5f53Manticore\u4ee5`--cpustats`\uff08\u6216\u901a\u8fc7`SET GLOBAL cpustats=1`\u542f\u7528\uff09\u548c/\u6216`--iostats`\uff08\u6216\u901a\u8fc7`SET GLOBAL iostats=1`\u542f\u7528\uff09\u542f\u52a8\u65f6\u7684CPU/IO\u7edf\u8ba1\u4fe1\u606f\uff1a\n  - `ios`\u662f\u6267\u884c\u7684\u6587\u4ef6I/O\u64cd\u4f5c\u6570\uff1b\n  - `kb`\u662f\u4ece\u8868\u6587\u4ef6\u8bfb\u53d6\u7684\u6570\u636e\u91cf\uff08\u4ee5\u5343\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\uff1b\n  - `ms`\u662fI/O\u64cd\u4f5c\u6240\u82b1\u8d39\u7684\u65f6\u95f4\u3002\n  - `cpums`\u662f\u82b1\u8d39\u5728\u67e5\u8be2CPU\u5904\u7406\u4e0a\u7684\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\n* `match-mode`\u53ef\u4ee5\u6709\u4ee5\u4e0b\u503c\u4e4b\u4e00\uff1a\n  - \"all\"\u5bf9\u5e94`SPH_MATCH_ALL`\u6a21\u5f0f\uff1b\n  - \"any\"\u5bf9\u5e94`SPH_MATCH_ANY`\u6a21\u5f0f\uff1b\n  - \"phr\"\u5bf9\u5e94`SPH_MATCH_PHRASE`\u6a21\u5f0f\uff1b\n  - \"bool\"\u5bf9\u5e94`SPH_MATCH_BOOLEAN`\u6a21\u5f0f\uff1b\n  - \"ext\"\u5bf9\u5e94`SPH_MATCH_EXTENDED`\u6a21\u5f0f\uff1b\n  - \"ext2\"\u5bf9\u5e94`SPH_MATCH_EXTENDED2`\u6a21\u5f0f\uff1b\n  - \"scan\"\u5982\u679c\u4f7f\u7528\u4e86\u5168\u626b\u63cf\u6a21\u5f0f\uff0c\u65e0\u8bba\u662f\u901a\u8fc7`SPH_MATCH_FULLSCAN`\u6307\u5b9a\u7684\uff0c\u8fd8\u662f\u67e5\u8be2\u4e3a\u7a7a\u3002\n* `sort-mode`\u53ef\u4ee5\u6709\u4ee5\u4e0b\u503c\u4e4b\u4e00\uff1a\n  - \"rel\"\u5bf9\u5e94`SPH_SORT_RELEVANCE`\u6a21\u5f0f\uff1b\n  - \"attr-\"\u5bf9\u5e94`SPH_SORT_ATTR_DESC`\u6a21\u5f0f\uff1b\n  - \"attr+\"\u5bf9\u5e94`SPH_SORT_ATTR_ASC`\u6a21\u5f0f\uff1b\n  - \"tsegs\"\u5bf9\u5e94`SPH_SORT_TIME_SEGMENTS`\u6a21\u5f0f\uff1b\n  - \"ext\"\u5bf9\u5e94`SPH_SORT_EXTENDED`\u6a21\u5f0f\u3002\n\n\u6ce8\u610f\uff1a`SPH*`\u6a21\u5f0f\u662f`sphinx`\u9057\u7559\u63a5\u53e3\u7279\u6709\u7684\u3002SQL\u548cJSON\u63a5\u53e3\u901a\u5e38\u4f1a\u8bb0\u5f55`ext2`\u4f5c\u4e3a`match-mode`\uff0c`ext`\u548c`rel`\u4f5c\u4e3a`sort-mode`\u3002\n\n<!-- intro -->\n\u67e5\u8be2\u65e5\u5fd7\u793a\u4f8b\uff1a\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## \u4ec5\u8bb0\u5f55\u6162\u67e5\u8be2\n\n<!-- example query_log_min_msec -->\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u67e5\u8be2\u90fd\u4f1a\u88ab\u8bb0\u5f55\u3002\u5982\u679c\u60a8\u53ea\u60f3\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9650\u5236\u7684\u67e5\u8be2\uff0c\u53ef\u4ee5\u4f7f\u7528`query_log_min_msec`\u6307\u4ee4\u3002\n\n\u9884\u671f\u7684\u5355\u4f4d\u662f\u6beb\u79d2\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4f7f\u7528\u65f6\u95f4\u540e\u7f00\u8868\u8fbe\u5f0f\u3002\n\n<!-- intro -->\n`query_log_min_msec`\u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## \u65e5\u5fd7\u6587\u4ef6\u6743\u9650\u6a21\u5f0f\n\n<!-- Example query_log_mode -->\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0csearchd\u548c\u67e5\u8be2\u65e5\u5fd7\u6587\u4ef6\u7684\u6743\u9650\u4e3a`600`\uff0c\u56e0\u6b64\u53ea\u6709Manticore\u8fd0\u884c\u7684\u7528\u6237\u548c`root`\u624d\u80fd\u8bfb\u53d6\u65e5\u5fd7\u6587\u4ef6\u3002`query_log_mode`\u9009\u9879\u5141\u8bb8\u8bbe\u7f6e\u4e0d\u540c\u7684\u6743\u9650\u3002\u8fd9\u5bf9\u4e8e\u5141\u8bb8\u5176\u4ed6\u7528\u6237\u8bfb\u53d6\u65e5\u5fd7\u6587\u4ef6\uff08\u4f8b\u5982\uff0c\u8fd0\u884c\u5728\u975e`root`\u7528\u6237\u4e0a\u7684\u76d1\u63a7\u89e3\u51b3\u65b9\u6848\uff09\u662f\u6709\u5e2e\u52a9\u7684\u3002\n\n<!-- intro -->\n`query_log_mode`\u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->",
            "russian": "# \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n\n<!-- example query_logging -->\n\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 [query_log](../Server_settings/Searchd.md#query_log) \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 searchd \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.\n\n\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 syslog, \u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c `syslog` \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u0443\u0442\u0438 \u043a \u0444\u0430\u0439\u043b\u0443. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0441\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0434\u0435\u043c\u043e\u043d\u0443 syslog \u0441 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c `LOG_INFO`, \u0441 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u043c `[query]` \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043c\u0435\u0442\u043a\u0438. \u0414\u043b\u044f syslog \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0444\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 `plain`.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log`:\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n## \u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\n\n\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u0432\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043b\u043e\u0433\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:\n* `sphinxql` (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e): \u041b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 SQL. \u0422\u0430\u043a\u0436\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.\n* `plain`: \u041b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435. \u042d\u0442\u043e\u0442 \u0444\u043e\u0440\u043c\u0430\u0442 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0432\u0430\u0448\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435-\u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 `plain`, \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u044b. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 [Buddy](../Installation/Manticore_Buddy.md), \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435.\n\n\u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 searchd [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### \u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 SQL\n\n<!-- example sphixql_log -->\n\u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 SQL \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 Manticore \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 \u0438 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 select-\u0437\u0430\u043f\u0440\u043e\u0441\u044b. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u0430\u043a SQL \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 API, \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 SQL, \u043d\u043e JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u0435\u0441\u0442\u044c. \u042d\u0442\u043e\u0442 \u0442\u0438\u043f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u0431\u044b\u0447\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u043b\u043e\u0433\u043e\u0432 \u0438 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0436\u0431\u0443 'syslog' \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_format`:\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\n\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043b\u043e\u0433\u0430 SQL Manticore \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 [\u043f\u0440\u043e\u0441\u0442\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c](../Logging/Query_logging.md#Plain-log-format) \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\n* \u041f\u043e\u043b\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0442\u0430\u043c, \u0433\u0434\u0435 \u044d\u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.\n* \u041e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\n* \u041b\u043e\u0433 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d.\n* \u041b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 (\u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f - \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0430\u0433\u0435\u043d\u0442\u0430).\n* \u041a\u0430\u0436\u0434\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u043b\u043e\u0433\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c Manticore SQL/JSON, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0432\u0435\u043b\u0438\u043a \u0438 \u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u043f\u043e \u0441\u043e\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.\n* JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438, \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044f \u043b\u0438\u0448\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u0435\u043b\u044b \u043c\u0435\u0436\u0434\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438.\n* \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u0438 \u0442.\u0434. \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043b\u043e\u0433\u0430 `sphinxql`:\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n### \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430\n\n<!-- example plain_log -->\n\u041f\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043b\u043e\u0433\u0430 `plain` Manticore \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435. \u041d\u0435-\u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f. JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 [Buddy](../Installation/Manticore_Buddy.md), \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_format`:\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\n\u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439:\n\nCODE_BLOCK_4\n\n\u0433\u0434\u0435:\n* `real-time` - \u0432\u0440\u0435\u043c\u044f \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n* `wall-time` - \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e real-time, \u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0445 \u043d\u0430\u0431\u043e\u0440\u043e\u0432 \u043e\u0442 \u043d\u0438\u0445.\n* `perf-stats` - \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 CPU/IO, \u043a\u043e\u0433\u0434\u0430 Manticore \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0441 `--cpustats` (\u0438\u043b\u0438 \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 `SET GLOBAL cpustats=1`) \u0438/\u0438\u043b\u0438 `--iostats` (\u0438\u043b\u0438 \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 `SET GLOBAL iostats=1`):\n  - `ios` - \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0432\u0432\u043e\u0434\u0430-\u0432\u044b\u0432\u043e\u0434\u0430 \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438;\n  - `kb` - \u043e\u0431\u044a\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043a\u0438\u043b\u043e\u0431\u0430\u0439\u0442\u0430\u0445, \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0444\u0430\u0439\u043b\u043e\u0432 \u0442\u0430\u0431\u043b\u0438\u0446;\n  - `ms` - \u0432\u0440\u0435\u043c\u044f, \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u0432\u043e\u0434\u0430-\u0432\u044b\u0432\u043e\u0434\u0430.\n  - `cpums` - \u0432\u0440\u0435\u043c\u044f \u0432 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445, \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u043e\u043c.\n* `match-mode` \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:\n  - \"all\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_ALL`;\n  - \"any\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_ANY`;\n  - \"phr\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_PHRASE`;\n  - \"bool\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_BOOLEAN`;\n  - \"ext\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_EXTENDED`;\n  - \"ext2\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_EXTENDED2`;\n  - \"scan\" \u0435\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0441\u044f \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043b\u0438\u0431\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 `SPH_MATCH_FULLSCAN`, \u043b\u0438\u0431\u043e \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u044b\u043b \u043f\u0443\u0441\u0442\u044b\u043c.\n* `sort-mode` \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:\n  - \"rel\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_RELEVANCE`;\n  - \"attr-\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_ATTR_DESC`;\n  - \"attr+\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_ATTR_ASC`;\n  - \"tsegs\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_TIME_SEGMENTS`;\n  - \"ext\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_EXTENDED`.\n\n\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0440\u0435\u0436\u0438\u043c\u044b `SPH*` \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 `sphinx`. \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b SQL \u0438 JSON \u0431\u0443\u0434\u0443\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0432 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, `ext2` \u043a\u0430\u043a `match-mode` \u0438 `ext` \u0438 `rel` \u043a\u0430\u043a `sort-mode`.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 \u043b\u043e\u0433\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n\n<!-- example query_log_min_msec -->\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 `query_log_min_msec`.\n\n\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u0435\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f - \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u044b, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0443\u0444\u0444\u0438\u043a\u0441\u0430\u043c\u0438.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_min_msec`:\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## \u0420\u0435\u0436\u0438\u043c \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0444\u0430\u0439\u043b\u0443 \u043b\u043e\u0433\u0430\n\n<!-- Example query_log_mode -->\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0444\u0430\u0439\u043b\u044b \u043b\u043e\u0433\u043e\u0432 searchd \u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 `600`, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 Manticore, \u0438 `root` \u043c\u043e\u0433\u0443\u0442 \u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043b\u043e\u0433\u043e\u0432. \u041e\u043f\u0446\u0438\u044f `query_log_mode` \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u0430\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u043b\u043e\u0433\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u043c \u043f\u043e\u0434 \u043d\u0435\u043f\u0440\u0438\u0432\u0438\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438).\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_mode`:\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1766374285
    },
    "__meta": {
        "source_text": "# Query logging\n\n<!-- example query_logging -->\nQuery logging can be enabled by setting the [query_log](../Server_settings/Searchd.md#query_log) directive in the searchd section of the configuration file.\n\nQueries can also be sent to syslog by setting `syslog` instead of a file path. In this case, all search queries will be sent to the syslog daemon with `LOG_INFO` priority, prefixed with `[query]` instead of a timestamp. Only the `plain` log format is supported for syslog.\n\n<!-- intro -->\n`query_log` example:\n<!-- request Config -->\n```ini\nsearchd {\n...\n    query_log = /var/log/query.log\n    query_log_format = sphinxql # default\n...\n}\n```\n<!-- end -->\n\n\n## Logging format\n\nTwo query log formats are supported:\n* `sphinxql` (default): Logs in SQL format. It also provides an easy way to replay logged queries.\n* `plain`: Logs full-text queries in a simple text format. This format is recommended if most of your queries are primarily full-text or if you do not need to log non-full-text components, such as filtering by attributes, sorting, or grouping. Queries logged in the `plain` format cannot be replayed. Note that queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged in this mode.\n\nTo switch between the formats, you can use the searchd setting [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### SQL log format\n\n<!-- example sphixql_log -->\nThe SQL log format is the default setting. In this mode, Manticore logs all successful and unsuccessful select queries. Requests sent as SQL or via the binary API are logged in the SQL format, but JSON queries are logged as is. This type of logging only works with plain log files and does not support the 'syslog' service for logging.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\n```ini\nquery_log_format = sphinxql # default\n```\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\nThe features of the Manticore SQL log format compared to the [plain format](../Logging/Query_logging.md#Plain-log-format) include:\n* Full statement data is logged where possible.\n* Errors and warnings are logged.\n* The query log can be replayed.\n* Additional performance counters (currently, per-agent distributed query times) are logged.\n* Each log entry is a valid Manticore SQL/JSON statement that reconstructs the full request, except if the logged request is too large and needs to be shortened for performance reasons.\n* JSON requests are logged as comments, skipping extra whitespaces between elements. \n* Additional messages, counters, etc., are logged as comments.\n\n<!-- intro -->\n`sphinxql` log entries example:\n<!-- request Example -->\n```sql\n/* Sun Apr 28 12:38:02.808 2024 conn 2 (127.0.0.1:53228) real 0.000 wall 0.000 found 0 */ SELECT * FROM test WHERE MATCH('test') OPTION ranker=proximity;\n/* Sun Apr 28 12:38:05.585 2024 conn 2 (127.0.0.1:53228) real 0.001 wall 0.001 found 0 */ SELECT * FROM test WHERE MATCH('test') GROUP BY channel_id OPTION ranker=proximity;\n/* Sun Apr 28 12:40:57.366 2024 conn 4 (127.0.0.1:53256) real 0.000 wall 0.000 found 0 */  /*{ \"index\" : \"test\", \"query\": { \"match\": { \"*\" : \"test\" } }, \"_source\": [\"f\"], \"limit\": 30 } */\n```\n<!-- end -->\n\nIn each entry, **real** is the elapsed time from start to finish of the query (wall-clock). **wall** is the accumulated query time: for a single local table it equals real; for [distributed](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) queries it is the sum of local search time plus each agent's reported query time. Because agents run in parallel, wall can exceed real (e.g. real 10s, wall 50s with 5 agents each taking ~10s). Use real for \"how long the user waited\"; use wall to see total work done across agents.\n\n### Plain log format\n\n<!-- example plain_log -->\nWith the `plain` log format, Manticore logs all successfully executed search queries in a simple text format. Non-full-text parts of the queries are not logged. JSON queries are recorded as single-line entries. Queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\n```ini\nquery_log_format = plain\n```\n<!-- end -->\n\n<!-- example plain_log2 -->\nThe log format is as follows:\n\n```\n[query-date] real-time wall-time [match-mode/filters-count/sort-mode total-matches (offset,limit) @groupby-attr] [table-name] {perf-stats} query\n```\n\nwhere:\n* `real-time` is the elapsed time from the start to the finish of the query (wall-clock).\n* `wall-time` is the accumulated query time: for a single local table it matches real-time; for [distributed](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) queries it is the sum of local search time plus each agent's query time, so it can exceed real-time when agents run in parallel.\n* `perf-stats` includes CPU/IO stats when Manticore is started with `--cpustats` (or it was enabled via `SET GLOBAL cpustats=1`) and/or `--iostats` (or it was enabled via `SET GLOBAL iostats=1`):\n  - `ios` is the number of file I/O operations carried out;\n  - `kb` is the amount of data in kilobytes read from the table files;\n  - `ms` is the time spent on I/O operations.\n  - `cpums` is the time in milliseconds spent on CPU processing the query.\n* `match-mode` can have one of the following values:\n  - \"all\" for `SPH_MATCH_ALL` mode;\n  - \"any\" for `SPH_MATCH_ANY` mode;\n  - \"phr\" for `SPH_MATCH_PHRASE` mode;\n  - \"bool\" for `SPH_MATCH_BOOLEAN` mode;\n  - \"ext\" for `SPH_MATCH_EXTENDED` mode;\n  - \"ext2\" for `SPH_MATCH_EXTENDED2` mode;\n  - \"scan\" if the full scan mode was used, either by being specified with `SPH_MATCH_FULLSCAN` or if the query was empty.\n* `sort-mode` can have one of the following values:\n  - \"rel\" for `SPH_SORT_RELEVANCE` mode;\n  - \"attr-\" for `SPH_SORT_ATTR_DESC` mode;\n  - \"attr+\" for `SPH_SORT_ATTR_ASC` mode;\n  - \"tsegs\" for `SPH_SORT_TIME_SEGMENTS` mode;\n  - \"ext\" for `SPH_SORT_EXTENDED` mode.\n\nNote: the `SPH*` modes are specific to the `sphinx` legacy interface. SQL and JSON interfaces will log, in most cases, `ext2` as `match-mode` and `ext` and `rel` as `sort-mode`.\n\n<!-- intro -->\nQuery log example:\n<!-- request Example -->\n```ini\n[Fri Jun 29 21:17:58 2021] 0.004 sec [all/0/rel 35254 (0,20)] [lj] [ios=6 kb=111.1 ms=0.5] test\n[Fri Jun 29 21:17:58 2021] 0.004 sec [all/0/rel 35254 (0,20)] [lj] [ios=6 kb=111.1 ms=0.5 cpums=0.3] test\n[Sun Apr 28 15:09:38.712 2024] 0.000 sec 0.000 sec [ext2/0/ext 0 (0,20)] [test] test\n[Sun Apr 28 15:09:44.974 2024] 0.000 sec 0.000 sec [ext2/0/ext 0 (0,20) @channel_id] [test] test\n[Sun Apr 28 15:24:32.975 2024] 0.000 sec 0.000 sec [ext2/0/ext 0 (0,30)] [test] {     \"table\" : \"test\",     \"query\":     {         \"match\":         {             \"*\" : \"test\"         }     },     \"_source\": [\"f\"],     \"limit\": 30 }\n```\n\n<!-- end -->\n\n## Logging only slow queries\n\n<!-- example query_log_min_msec -->\nBy default, all queries are logged. If you want to log only queries with execution times exceeding a specified limit, the `query_log_min_msec` directive can be used.\n\nThe expected unit of measurement is milliseconds, but time suffix expressions can also be used.\n\n<!-- intro -->\n`query_log_min_msec` example:\n<!-- request Config -->\n```ini\nsearchd {\n...\n    query_log = /var/log/query.log\n    query_log_min_msec  = 1000\n    # query_log_min_msec  = 1s\n...\n}\n```\n\n<!-- end -->\n\n## Log file permission mode\n\n<!-- Example query_log_mode -->\nBy default, the searchd and query log files are created with permission `600`, so only the user under which Manticore is running and `root` can read the log files. The `query_log_mode` option allows setting a different permission. This can be helpful for allowing other users to read the log files (for example, monitoring solutions running on non-root users).\n\n<!-- intro -->\n`query_log_mode` example:\n<!-- request Config -->\n```ini\nsearchd {\n...\n    query_log = /var/log/query.log\n    query_log_mode = 666\n...\n}\n```\n<!-- end -->\n<!-- proofread -->\n\n",
        "updated_at": 1770634524,
        "source_md5": "93875de569d0db82b9e66d14080ddb01",
        "source_snapshot": "/tmp/translator-source-xIKIyN",
        "target_snapshot": "/tmp/translator-target-s1rzad"
    },
    "a46f616eab03f0f24ce59ed49838d235b81493152933b02a64787bd1faf53808": {
        "original": "<!-- Example query_log_mode -->\nBy default, the searchd and query log files are created with permission `600`, so only the user under which Manticore is running and `root` can read the log files. The `query_log_mode` option allows setting a different permission. This can be helpful for allowing other users to read the log files (for example, monitoring solutions running on non-root users).\n\n<!-- intro -->\n`query_log_mode` example:\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->\n\n",
        "translations": {
            "russian": "<!-- Example query_log_mode -->\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0444\u0430\u0439\u043b\u044b \u043b\u043e\u0433\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u043c\u043e\u043d\u0430 (searchd) \u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0441 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435\u043c `600`, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0437\u0430\u043f\u0443\u0449\u0435\u043d Manticore, \u0438 `root` \u043c\u043e\u0433\u0443\u0442 \u0447\u0438\u0442\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u043b\u043e\u0433\u043e\u0432. \u041e\u043f\u0446\u0438\u044f `query_log_mode` \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0435. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u043b\u043e\u0433\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u043c \u043f\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u0431\u0435\u0437 \u043f\u0440\u0430\u0432 root).\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_mode`:\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->\n\n",
            "chinese": "<!-- Example query_log_mode -->\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0csearchd \u548c\u67e5\u8be2\u65e5\u5fd7\u6587\u4ef6\u4ee5\u6743\u9650 `600` \u521b\u5efa\uff0c\u56e0\u6b64\u53ea\u6709\u8fd0\u884c Manticore \u7684\u7528\u6237\u548c `root` \u53ef\u4ee5\u8bfb\u53d6\u65e5\u5fd7\u6587\u4ef6\u3002`query_log_mode` \u9009\u9879\u5141\u8bb8\u8bbe\u7f6e\u4e0d\u540c\u7684\u6743\u9650\u3002\u8fd9\u5728\u5141\u8bb8\u5176\u4ed6\u7528\u6237\u8bfb\u53d6\u65e5\u5fd7\u6587\u4ef6\u65f6\u53ef\u80fd\u4f1a\u6709\u5e2e\u52a9\uff08\u4f8b\u5982\uff0c\u8fd0\u884c\u5728\u975e root \u7528\u6237\u4e0a\u7684\u76d1\u63a7\u89e3\u51b3\u65b9\u6848\uff09\u3002\n\n<!-- intro -->\n`query_log_mode` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_7\n<!-- end -->\n<!-- proofread -->\n\n"
        },
        "is_code_or_comment": false,
        "model": "qwen/qwen3-14b",
        "updated_at": 1770634427
    },
    "061ed922bed9c4b44b2e06ea435ab6ba12b32d261b0df21bea819be42234fb55": {
        "original": "# Query logging\n\n<!-- example query_logging -->\nQuery logging can be enabled by setting the [query_log](../Server_settings/Searchd.md#query_log) directive in the searchd section of the configuration file.\n\nQueries can also be sent to syslog by setting `syslog` instead of a file path. In this case, all search queries will be sent to the syslog daemon with `LOG_INFO` priority, prefixed with `[query]` instead of a timestamp. Only the `plain` log format is supported for syslog.\n\n<!-- intro -->\n`query_log` example:\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n## Logging format\n\nTwo query log formats are supported:\n* `sphinxql` (default): Logs in SQL format. It also provides an easy way to replay logged queries.\n* `plain`: Logs full-text queries in a simple text format. This format is recommended if most of your queries are primarily full-text or if you do not need to log non-full-text components, such as filtering by attributes, sorting, or grouping. Queries logged in the `plain` format cannot be replayed. Note that queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged in this mode.\n\nTo switch between the formats, you can use the searchd setting [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### SQL log format\n\n<!-- example sphixql_log -->\nThe SQL log format is the default setting. In this mode, Manticore logs all successful and unsuccessful select queries. Requests sent as SQL or via the binary API are logged in the SQL format, but JSON queries are logged as is. This type of logging only works with plain log files and does not support the 'syslog' service for logging.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\nThe features of the Manticore SQL log format compared to the [plain format](../Logging/Query_logging.md#Plain-log-format) include:\n* Full statement data is logged where possible.\n* Errors and warnings are logged.\n* The query log can be replayed.\n* Additional performance counters (currently, per-agent distributed query times) are logged.\n* Each log entry is a valid Manticore SQL/JSON statement that reconstructs the full request, except if the logged request is too large and needs to be shortened for performance reasons.\n* JSON requests are logged as comments, skipping extra whitespaces between elements. \n* Additional messages, counters, etc., are logged as comments.\n\n<!-- intro -->\n`sphinxql` log entries example:\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\nIn each entry, **real** is the elapsed time from start to finish of the query (wall-clock). **wall** is the accumulated query time: for a single local table it equals real; for [distributed](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) queries it is the sum of local search time plus each agent's reported query time. Because agents run in parallel, wall can exceed real (e.g. real 10s, wall 50s with 5 agents each taking ~10s). Use real for \"how long the user waited\"; use wall to see total work done across agents.\n\n### Plain log format\n\n<!-- example plain_log -->\nWith the `plain` log format, Manticore logs all successfully executed search queries in a simple text format. Non-full-text parts of the queries are not logged. JSON queries are recorded as single-line entries. Queries processed through [Buddy](../Installation/Manticore_Buddy.md) are not logged.\n\n<!-- intro -->\n`query_log_format` example:\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\nThe log format is as follows:\n\nCODE_BLOCK_4\n\nwhere:\n* `real-time` is the elapsed time from the start to the finish of the query (wall-clock).\n* `wall-time` is the accumulated query time: for a single local table it matches real-time; for [distributed](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) queries it is the sum of local search time plus each agent's query time, so it can exceed real-time when agents run in parallel.\n* `perf-stats` includes CPU/IO stats when Manticore is started with `--cpustats` (or it was enabled via `SET GLOBAL cpustats=1`) and/or `--iostats` (or it was enabled via `SET GLOBAL iostats=1`):\n  - `ios` is the number of file I/O operations carried out;\n  - `kb` is the amount of data in kilobytes read from the table files;\n  - `ms` is the time spent on I/O operations.\n  - `cpums` is the time in milliseconds spent on CPU processing the query.\n* `match-mode` can have one of the following values:\n  - \"all\" for `SPH_MATCH_ALL` mode;\n  - \"any\" for `SPH_MATCH_ANY` mode;\n  - \"phr\" for `SPH_MATCH_PHRASE` mode;\n  - \"bool\" for `SPH_MATCH_BOOLEAN` mode;\n  - \"ext\" for `SPH_MATCH_EXTENDED` mode;\n  - \"ext2\" for `SPH_MATCH_EXTENDED2` mode;\n  - \"scan\" if the full scan mode was used, either by being specified with `SPH_MATCH_FULLSCAN` or if the query was empty.\n* `sort-mode` can have one of the following values:\n  - \"rel\" for `SPH_SORT_RELEVANCE` mode;\n  - \"attr-\" for `SPH_SORT_ATTR_DESC` mode;\n  - \"attr+\" for `SPH_SORT_ATTR_ASC` mode;\n  - \"tsegs\" for `SPH_SORT_TIME_SEGMENTS` mode;\n  - \"ext\" for `SPH_SORT_EXTENDED` mode.\n\nNote: the `SPH*` modes are specific to the `sphinx` legacy interface. SQL and JSON interfaces will log, in most cases, `ext2` as `match-mode` and `ext` and `rel` as `sort-mode`.\n\n<!-- intro -->\nQuery log example:\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## Logging only slow queries\n\n<!-- example query_log_min_msec -->\nBy default, all queries are logged. If you want to log only queries with execution times exceeding a specified limit, the `query_log_min_msec` directive can be used.\n\nThe expected unit of measurement is milliseconds, but time suffix expressions can also be used.\n\n<!-- intro -->\n`query_log_min_msec` example:\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## Log file permission mode",
        "translations": {
            "chinese": "# \u67e5\u8be2\u65e5\u5fd7\n\n<!-- example query_logging -->\n\u901a\u8fc7\u5728\u914d\u7f6e\u6587\u4ef6\u7684 searchd \u90e8\u5206\u8bbe\u7f6e [query_log](../Server_settings/Searchd.md#query_log) \u6307\u4ee4\u53ef\u4ee5\u542f\u7528\u67e5\u8be2\u65e5\u5fd7\u3002\n\n\u901a\u8fc7\u5c06 `syslog` \u4ee3\u66ff\u6587\u4ef6\u8def\u5f84\u8fdb\u884c\u8bbe\u7f6e\uff0c\u67e5\u8be2\u4e5f\u53ef\u4ee5\u53d1\u9001\u5230\u7cfb\u7edf\u65e5\u5fd7\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u641c\u7d22\u67e5\u8be2\u5c06\u4ee5 `LOG_INFO` \u4f18\u5148\u7ea7\u53d1\u9001\u5230\u7cfb\u7edf\u65e5\u5fd7\u5b88\u62a4\u8fdb\u7a0b\uff0c\u5e76\u4ee5\u524d\u7f00 `[query]` \u4ee3\u66ff\u65f6\u95f4\u6233\u3002\u5bf9\u4e8e\u7cfb\u7edf\u65e5\u5fd7\uff0c\u4ec5\u652f\u6301 `plain` \u65e5\u5fd7\u683c\u5f0f\u3002\n\n<!-- intro -->\n`query_log` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n## \u65e5\u5fd7\u683c\u5f0f\n\n\u652f\u6301\u4e24\u79cd\u67e5\u8be2\u65e5\u5fd7\u683c\u5f0f\uff1a\n* `sphinxql`\uff08\u9ed8\u8ba4\uff09\uff1a\u4ee5 SQL \u683c\u5f0f\u8bb0\u5f55\u65e5\u5fd7\u3002\u5b83\u8fd8\u63d0\u4f9b\u4e86\u4e00\u79cd\u8f7b\u677e\u91cd\u653e\u8bb0\u5f55\u67e5\u8be2\u7684\u65b9\u6cd5\u3002\n* `plain`\uff1a\u4ee5\u7b80\u5355\u7684\u6587\u672c\u683c\u5f0f\u8bb0\u5f55\u5168\u6587\u67e5\u8be2\u3002\u5982\u679c\u60a8\u7684\u5927\u591a\u6570\u67e5\u8be2\u4e3b\u8981\u662f\u5168\u6587\u67e5\u8be2\uff0c\u6216\u8005\u60a8\u4e0d\u9700\u8981\u8bb0\u5f55\u975e\u5168\u6587\u7ec4\u4ef6\uff08\u5982\u6309\u5c5e\u6027\u8fc7\u6ee4\u3001\u6392\u5e8f\u6216\u5206\u7ec4\uff09\uff0c\u5219\u5efa\u8bae\u4f7f\u7528\u6b64\u683c\u5f0f\u3002\u4ee5 `plain` \u683c\u5f0f\u8bb0\u5f55\u7684\u67e5\u8be2\u65e0\u6cd5\u91cd\u653e\u3002\u8bf7\u6ce8\u610f\uff0c\u901a\u8fc7 [Buddy](../Installation/Manticore_Buddy.md) \u5904\u7406\u7684\u67e5\u8be2\u5728\u6b64\u6a21\u5f0f\u4e0b\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002\n\n\u8981\u5207\u6362\u683c\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528 searchd \u8bbe\u7f6e [query_log_format](../Server_settings/Searchd.md#query_log_format)\u3002\n\n### SQL \u65e5\u5fd7\u683c\u5f0f\n\n<!-- example sphixql_log -->\nSQL \u65e5\u5fd7\u683c\u5f0f\u662f\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cManticore \u4f1a\u8bb0\u5f55\u6240\u6709\u6210\u529f\u548c\u4e0d\u6210\u529f\u7684 select \u67e5\u8be2\u3002\u4f5c\u4e3a SQL \u6216\u901a\u8fc7\u4e8c\u8fdb\u5236 API \u53d1\u9001\u7684\u8bf7\u6c42\u4ee5 SQL \u683c\u5f0f\u8bb0\u5f55\uff0c\u4f46 JSON \u67e5\u8be2\u4f1a\u6309\u539f\u6837\u8bb0\u5f55\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u65e5\u5fd7\u8bb0\u5f55\u4ec5\u9002\u7528\u4e8e\u666e\u901a\u65e5\u5fd7\u6587\u4ef6\uff0c\u4e0d\u652f\u6301\u4f7f\u7528 'syslog' \u670d\u52a1\u8fdb\u884c\u65e5\u5fd7\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`query_log_format` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\n\u4e0e [plain \u683c\u5f0f](../Logging/Query_logging.md#Plain-log-format) \u76f8\u6bd4\uff0cManticore SQL \u65e5\u5fd7\u683c\u5f0f\u7684\u7279\u70b9\u5305\u62ec\uff1a\n* \u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\u8bb0\u5f55\u5b8c\u6574\u7684\u8bed\u53e5\u6570\u636e\u3002\n* \u8bb0\u5f55\u9519\u8bef\u548c\u8b66\u544a\u3002\n* \u53ef\u4ee5\u91cd\u653e\u67e5\u8be2\u65e5\u5fd7\u3002\n* \u8bb0\u5f55\u989d\u5916\u7684\u6027\u80fd\u8ba1\u6570\u5668\uff08\u76ee\u524d\u4e3a\u6bcf\u4e2a\u4ee3\u7406\u7684\u5206\u5e03\u5f0f\u67e5\u8be2\u65f6\u95f4\uff09\u3002\n* \u6bcf\u4e2a\u65e5\u5fd7\u6761\u76ee\u90fd\u662f\u4e00\u4e2a\u6709\u6548\u7684 Manticore SQL/JSON \u8bed\u53e5\uff0c\u53ef\u91cd\u5efa\u5b8c\u6574\u8bf7\u6c42\uff0c\u9664\u975e\u8bb0\u5f55\u7684\u8bf7\u6c42\u592a\u5927\uff0c\u9700\u8981\u7f29\u77ed\u4ee5\u63d0\u9ad8\u6027\u80fd\u3002\n* JSON \u8bf7\u6c42\u4ee5\u6ce8\u91ca\u5f62\u5f0f\u8bb0\u5f55\uff0c\u8df3\u8fc7\u5143\u7d20\u4e4b\u95f4\u7684\u591a\u4f59\u7a7a\u683c\u3002\n* \u989d\u5916\u7684\u6d88\u606f\u3001\u8ba1\u6570\u5668\u7b49\u4ee5\u6ce8\u91ca\u5f62\u5f0f\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`sphinxql` \u65e5\u5fd7\u6761\u76ee\u793a\u4f8b\uff1a\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n\u5728\u6bcf\u4e2a\u6761\u76ee\u4e2d\uff0c**real** \u662f\u67e5\u8be2\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\u7ecf\u8fc7\u7684\u65f6\u95f4\uff08\u6302\u949f\u65f6\u95f4\uff09\u3002**wall** \u662f\u7d2f\u8ba1\u67e5\u8be2\u65f6\u95f4\uff1a\u5bf9\u4e8e\u5355\u4e2a\u672c\u5730\u8868\uff0c\u5b83\u7b49\u4e8e real\uff1b\u5bf9\u4e8e [distributed](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) \u67e5\u8be2\uff0c\u5b83\u662f\u672c\u5730\u641c\u7d22\u65f6\u95f4\u52a0\u4e0a\u6bcf\u4e2a\u4ee3\u7406\u62a5\u544a\u7684\u67e5\u8be2\u65f6\u95f4\u7684\u603b\u548c\u3002\u7531\u4e8e\u4ee3\u7406\u5e76\u884c\u8fd0\u884c\uff0cwall \u53ef\u4ee5\u8d85\u8fc7 real\uff08\u4f8b\u5982 real 10s\uff0cwall 50s \u6709 5 \u4e2a\u4ee3\u7406\u6bcf\u4e2a\u5927\u7ea6 10s\uff09\u3002\u4f7f\u7528 real \u8868\u793a\u201c\u7528\u6237\u7b49\u5f85\u7684\u65f6\u95f4\u201d\uff1b\u4f7f\u7528 wall \u67e5\u770b\u4ee3\u7406\u4e4b\u95f4\u7684\u603b\u5de5\u4f5c\u91cf\u3002\n\n### Plain \u65e5\u5fd7\u683c\u5f0f\n\n<!-- example plain_log -->\n\u4f7f\u7528 `plain` \u65e5\u5fd7\u683c\u5f0f\u65f6\uff0cManticore \u4ee5\u7b80\u5355\u6587\u672c\u683c\u5f0f\u8bb0\u5f55\u6240\u6709\u6210\u529f\u6267\u884c\u7684\u641c\u7d22\u67e5\u8be2\u3002\u67e5\u8be2\u7684\u975e\u5168\u6587\u90e8\u5206\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002JSON \u67e5\u8be2\u8bb0\u5f55\u4e3a\u5355\u884c\u6761\u76ee\u3002\u901a\u8fc7 [Buddy](../Installation/Manticore_Buddy.md) \u5904\u7406\u7684\u67e5\u8be2\u4e0d\u4f1a\u88ab\u8bb0\u5f55\u3002\n\n<!-- intro -->\n`query_log_format` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\n\u65e5\u5fd7\u683c\u5f0f\u5982\u4e0b\uff1a\n\nCODE_BLOCK_4\n\n\u5176\u4e2d\uff1a\n* `real-time` \u662f\u67e5\u8be2\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\u7ecf\u8fc7\u7684\u65f6\u95f4\uff08\u6302\u949f\u65f6\u95f4\uff09\u3002\n* `wall-time` \u662f\u7d2f\u8ba1\u67e5\u8be2\u65f6\u95f4\uff1a\u5bf9\u4e8e\u5355\u4e2a\u672c\u5730\u8868\uff0c\u5b83\u4e0e real-time \u76f8\u540c\uff1b\u5bf9\u4e8e [distributed](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) \u67e5\u8be2\uff0c\u5b83\u662f\u672c\u5730\u641c\u7d22\u65f6\u95f4\u52a0\u4e0a\u6bcf\u4e2a\u4ee3\u7406\u7684\u67e5\u8be2\u65f6\u95f4\u7684\u603b\u548c\uff0c\u56e0\u6b64\u5f53\u4ee3\u7406\u5e76\u884c\u8fd0\u884c\u65f6\uff0c\u5b83\u53ef\u80fd\u8d85\u8fc7 real-time\u3002\n* `perf-stats` \u5305\u62ec\u5728 Manticore \u542f\u52a8\u65f6\u4f7f\u7528 `--cpustats`\uff08\u6216\u901a\u8fc7 `SET GLOBAL cpustats=1` \u542f\u7528\uff09\u548c/\u6216 `--iostats`\uff08\u6216\u901a\u8fc7 `SET GLOBAL iostats=1` \u542f\u7528\uff09\u65f6\u7684 CPU/IO \u7edf\u8ba1\u4fe1\u606f\uff1a\n  - `ios` \u662f\u6267\u884c\u7684\u6587\u4ef6 I/O \u64cd\u4f5c\u6b21\u6570\uff1b\n  - `kb` \u662f\u4ece\u8868\u6587\u4ef6\u4e2d\u8bfb\u53d6\u7684\u6570\u636e\u91cf\uff08\u4ee5\u5343\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\uff1b\n  - `ms` \u662f I/O \u64cd\u4f5c\u6240\u82b1\u7684\u65f6\u95f4\u3002\n  - `cpums` \u662f\u5904\u7406\u67e5\u8be2\u6240\u82b1\u7684\u6beb\u79d2\u6570\u3002\n* `match-mode` \u53ef\u4ee5\u6709\u4ee5\u4e0b\u503c\u4e4b\u4e00\uff1a\n  - \"all\" \u8868\u793a `SPH_MATCH_ALL` \u6a21\u5f0f\uff1b\n  - \"any\" \u8868\u793a `SPH_MATCH_ANY` \u6a21\u5f0f\uff1b\n  - \"phr\" \u8868\u793a `SPH_MATCH_PHRASE` \u6a21\u5f0f\uff1b\n  - \"bool\" \u8868\u793a `SPH_MATCH_BOOLEAN` \u6a21\u5f0f\uff1b\n  - \"ext\" \u8868\u793a `SPH_MATCH_EXTENDED` \u6a21\u5f0f\uff1b\n  - \"ext2\" \u8868\u793a `SPH_MATCH_EXTENDED2` \u6a21\u5f0f\uff1b\n  - \"scan\" \u5982\u679c\u4f7f\u7528\u4e86\u5168\u626b\u63cf\u6a21\u5f0f\uff0c\u65e0\u8bba\u662f\u901a\u8fc7\u6307\u5b9a `SPH_MATCH_FULLSCAN` \u8fd8\u662f\u67e5\u8be2\u4e3a\u7a7a\u3002\n* `sort-mode` \u53ef\u4ee5\u6709\u4ee5\u4e0b\u503c\u4e4b\u4e00\uff1a\n  - \"rel\" \u8868\u793a `SPH_SORT_RELEVANCE` \u6a21\u5f0f\uff1b\n  - \"attr-\" \u8868\u793a `SPH_SORT_ATTR_DESC` \u6a21\u5f0f\uff1b\n  - \"attr+\" \u8868\u793a `SPH_SORT_ATTR_ASC` \u6a21\u5f0f\uff1b\n  - \"tsegs\" \u8868\u793a `SPH_SORT_TIME_SEGMENTS` \u6a21\u5f0f\uff1b\n  - \"ext\" \u8868\u793a `SPH_SORT_EXTENDED` \u6a21\u5f0f\u3002\n\n\u6ce8\u610f\uff1a`SPH*` \u6a21\u5f0f\u7279\u5b9a\u4e8e `sphinx` \u65e7\u7248\u63a5\u53e3\u3002SQL \u548c JSON \u63a5\u53e3\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4f1a\u5c06 `ext2` \u8bb0\u5f55\u4e3a `match-mode`\uff0c\u5e76\u5c06 `ext` \u548c `rel` \u8bb0\u5f55\u4e3a `sort-mode`\u3002\n\n<!-- intro -->\n\u67e5\u8be2\u65e5\u5fd7\u793a\u4f8b\uff1a\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## \u4ec5\u8bb0\u5f55\u6162\u67e5\u8be2\n\n<!-- example query_log_min_msec -->\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u67e5\u8be2\u90fd\u4f1a\u88ab\u8bb0\u5f55\u3002\u5982\u679c\u60a8\u53ea\u60f3\u8bb0\u5f55\u6267\u884c\u65f6\u95f4\u8d85\u8fc7\u6307\u5b9a\u9650\u5236\u7684\u67e5\u8be2\uff0c\u53ef\u4ee5\u4f7f\u7528 `query_log_min_msec` \u6307\u4ee4\u3002\n\n\u9884\u671f\u7684\u5355\u4f4d\u662f\u6beb\u79d2\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4f7f\u7528\u65f6\u95f4\u540e\u7f00\u8868\u8fbe\u5f0f\u3002\n\n<!-- intro -->\n`query_log_min_msec` \u793a\u4f8b\uff1a\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## \u65e5\u5fd7\u6587\u4ef6\u6743\u9650\u6a21\u5f0f",
            "russian": "# \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n\n<!-- example query_logging -->\n\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 [query_log](../Server_settings/Searchd.md#query_log) \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 searchd \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.\n\n\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432 syslog, \u0443\u043a\u0430\u0437\u0430\u0432 `syslog` \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u0443\u0442\u0438 \u043a \u0444\u0430\u0439\u043b\u0443. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0441\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0434\u0435\u043c\u043e\u043d\u0443 syslog \u0441 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u043c `LOG_INFO` \u0438 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u043c `[query]` \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043c\u0435\u0442\u043a\u0438. \u0414\u043b\u044f syslog \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0444\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 `plain`.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log`:\n<!-- request Config -->\nCODE_BLOCK_0\n<!-- end -->\n\n## \u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\n\n\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0434\u0432\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u043b\u043e\u0433\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:\n* `sphinxql` (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e): \u041b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 SQL. \u0422\u0430\u043a\u0436\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.\n* `plain`: \u041b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435. \u042d\u0442\u043e\u0442 \u0444\u043e\u0440\u043c\u0430\u0442 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0432\u0430\u0448\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0438\u043b\u0438 \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435-\u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c, \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 `plain`, \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u044b. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 [Buddy](../Installation/Manticore_Buddy.md), \u0432 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\n\n\u0414\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 searchd [query_log_format](../Server_settings/Searchd.md#query_log_format).\n\n### \u0424\u043e\u0440\u043c\u0430\u0442 SQL \u043b\u043e\u0433\u0430\n\n<!-- example sphixql_log -->\n\u0424\u043e\u0440\u043c\u0430\u0442 SQL \u043b\u043e\u0433\u0430 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0412 \u044d\u0442\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 Manticore \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 \u0438 \u043d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 select-\u0437\u0430\u043f\u0440\u043e\u0441\u044b. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u0430\u043a SQL \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 API, \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 SQL, \u043d\u043e JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u0435\u0441\u0442\u044c. \u042d\u0442\u043e\u0442 \u0442\u0438\u043f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u0431\u044b\u0447\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u043b\u043e\u0433\u043e\u0432 \u0438 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0436\u0431\u0443 'syslog' \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_format`:\n<!-- request Config -->\nCODE_BLOCK_1\n\n<!-- end -->\n\n<!-- example sphixql_log2 -->\n\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 SQL \u043b\u043e\u0433\u0430 Manticore \u043f\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e \u0441 [\u043f\u0440\u043e\u0441\u0442\u044b\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c](../Logging/Query_logging.md#Plain-log-format) \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\n* \u041b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430, \u0433\u0434\u0435 \u044d\u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e.\n* \u041b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f.\n* \u041b\u043e\u0433 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438.\n* \u041b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 (\u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u2014 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0430\u0433\u0435\u043d\u0442\u0430).\n* \u041a\u0430\u0436\u0434\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u043b\u043e\u0433\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c Manticore SQL/JSON, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0432\u0435\u043b\u0438\u043a \u0438 \u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u043f\u043e \u0441\u043e\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.\n* JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438, \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044f \u043b\u0438\u0448\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u0435\u043b\u044b \u043c\u0435\u0436\u0434\u0443 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438.\n* \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u0438 \u0442.\u0434. \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043b\u043e\u0433\u0430 `sphinxql`:\n<!-- request Example -->\nCODE_BLOCK_2\n<!-- end -->\n\n\u0412 \u043a\u0430\u0436\u0434\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 **real** \u2014 \u044d\u0442\u043e \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f). **wall** \u2014 \u044d\u0442\u043e \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043e\u043d\u043e \u0440\u0430\u0432\u043d\u043e real; \u0434\u043b\u044f [\u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u044d\u0442\u043e \u0441\u0443\u043c\u043c\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043b\u044e\u0441 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u043d\u043e\u0435 \u043a\u0430\u0436\u0434\u044b\u043c \u0430\u0433\u0435\u043d\u0442\u043e\u043c. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0430\u0433\u0435\u043d\u0442\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e, wall \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c real (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, real 10\u0441, wall 50\u0441 \u043f\u0440\u0438 5 \u0430\u0433\u0435\u043d\u0442\u0430\u0445, \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 ~10\u0441). \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 real \u0434\u043b\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \"\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0436\u0434\u0430\u043b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\"; \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 wall, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043e\u0431\u0449\u0438\u0439 \u043e\u0431\u044a\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u044b, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0439 \u0430\u0433\u0435\u043d\u0442\u0430\u043c\u0438.\n\n### \u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430\n\n<!-- example plain_log -->\n\u041f\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043b\u043e\u0433\u0430 `plain` Manticore \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435. \u041d\u0435-\u043f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0447\u0430\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f. JSON-\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u0434\u043d\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438. \u0417\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 [Buddy](../Installation/Manticore_Buddy.md), \u043d\u0435 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_format`:\n<!-- request Config -->\nCODE_BLOCK_3\n<!-- end -->\n\n<!-- example plain_log2 -->\n\u0424\u043e\u0440\u043c\u0430\u0442 \u043b\u043e\u0433\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439:\n\nCODE_BLOCK_4\n\n\u0433\u0434\u0435:\n* `real-time` \u2014 \u044d\u0442\u043e \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043e\u0442 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f).\n* `wall-time` \u2014 \u044d\u0442\u043e \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430: \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043e\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 real-time; \u0434\u043b\u044f [\u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u044d\u0442\u043e \u0441\u0443\u043c\u043c\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043b\u044e\u0441 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0430\u0433\u0435\u043d\u0442\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043e\u043d\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c real-time, \u043a\u043e\u0433\u0434\u0430 \u0430\u0433\u0435\u043d\u0442\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e.\n* `perf-stats` \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 CPU/IO, \u043a\u043e\u0433\u0434\u0430 Manticore \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0441 `--cpustats` (\u0438\u043b\u0438 \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 `SET GLOBAL cpustats=1`) \u0438/\u0438\u043b\u0438 `--iostats` (\u0438\u043b\u0438 \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0447\u0435\u0440\u0435\u0437 `SET GLOBAL iostats=1`):\n  - `ios` \u2014 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0432\u0432\u043e\u0434\u0430-\u0432\u044b\u0432\u043e\u0434\u0430 \u0444\u0430\u0439\u043b\u043e\u0432;\n  - `kb` \u2014 \u043e\u0431\u044a\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043a\u0438\u043b\u043e\u0431\u0430\u0439\u0442\u0430\u0445, \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0444\u0430\u0439\u043b\u043e\u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u044b;\n  - `ms` \u2014 \u0432\u0440\u0435\u043c\u044f, \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u0432\u043e\u0434\u0430-\u0432\u044b\u0432\u043e\u0434\u0430.\n  - `cpums` \u2014 \u0432\u0440\u0435\u043c\u044f \u0432 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445, \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u043e\u043c.\n* `match-mode` \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:\n  - \"all\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_ALL`;\n  - \"any\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_ANY`;\n  - \"phr\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_PHRASE`;\n  - \"bool\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_BOOLEAN`;\n  - \"ext\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_EXTENDED`;\n  - \"ext2\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_MATCH_EXTENDED2`;\n  - \"scan\", \u0435\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0441\u044f \u0440\u0435\u0436\u0438\u043c \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043b\u0438\u0431\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0441 `SPH_MATCH_FULLSCAN`, \u043b\u0438\u0431\u043e \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u044b\u043b \u043f\u0443\u0441\u0442\u044b\u043c.\n* `sort-mode` \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439:\n  - \"rel\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_RELEVANCE`;\n  - \"attr-\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_ATTR_DESC`;\n  - \"attr+\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_ATTR_ASC`;\n  - \"tsegs\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_TIME_SEGMENTS`;\n  - \"ext\" \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 `SPH_SORT_EXTENDED`.\n\n\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0440\u0435\u0436\u0438\u043c\u044b `SPH*` \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0435\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 `sphinx`. \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b SQL \u0438 JSON \u0431\u0443\u0434\u0443\u0442 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 `ext2` \u043a\u0430\u043a `match-mode` \u0438 `ext` \u0438 `rel` \u043a\u0430\u043a `sort-mode`.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 \u043b\u043e\u0433\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432:\n<!-- request Example -->\nCODE_BLOCK_5\n\n<!-- end -->\n\n## \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\n\n<!-- example query_log_min_msec -->\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u043b\u0438\u043c\u0438\u0442, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 `query_log_min_msec`.\n\n\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u0435\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f \u2014 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u044b, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0441\u0443\u0444\u0444\u0438\u043a\u0441\u0430\u043c\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438.\n\n<!-- intro -->\n\u041f\u0440\u0438\u043c\u0435\u0440 `query_log_min_msec`:\n<!-- request Config -->\nCODE_BLOCK_6\n\n<!-- end -->\n\n## \u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u0444\u0430\u0439\u043b\u0430 \u043b\u043e\u0433\u0430"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1770634523
    }
}