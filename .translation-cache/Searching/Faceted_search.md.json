{
    "ca6aeb574ad3ee0b7f3c918c5963c6297614f2049867634c74ed08d155a19717": {
        "original": "<!-- request Go -->\nCODE_BLOCK_51\n\n<!-- response Go -->\nCODE_BLOCK_52\n\n<!-- end -->\n\n<!-- example Multi-level -->\n\n### Facet over multi-level grouping\n\nFacets can aggregate over multi-level grouping, with the result set being the same as if the query performed a multi-level grouping:\n\n<!-- request SQL -->\n\nCODE_BLOCK_53\n\n<!-- response SQL -->\n\nCODE_BLOCK_54\n<!-- end -->\n\n<!-- example histogram -->\n\n### Facet over histogram values\n\nFacets can aggregate over histogram values by constructing fixed-size buckets over the values.\nThe key function is:\n\nCODE_BLOCK_55\n\nThe histogram argument `interval` must be positive, and the histogram argument `offset` must be positive and less than `interval`. By default, the buckets are returned as an array. The histogram argument `keyed` makes the response a dictionary with the bucket keys.\n\n<!-- request SQL -->\n\nCODE_BLOCK_56\n\n<!-- response SQL -->\n\nCODE_BLOCK_57\n<!-- request JSON -->\n\nCODE_BLOCK_58\n\n<!-- response JSON -->\nCODE_BLOCK_59\n<!-- request JSON 2 -->\n\nCODE_BLOCK_60\n\n<!-- response JSON 2 -->\nCODE_BLOCK_61\n<!-- end -->\n\n<!-- example histogram_date -->\n\n### Facet over histogram date values\n\nFacets can aggregate over histogram date values, which is similar to the normal histogram. The difference is that the interval is specified using a date or time expression. Such expressions require special support because the intervals are not always of fixed length. Values are rounded to the closest bucket using the following key function:\n\nCODE_BLOCK_62\n\nThe histogram parameter `calendar_interval` understands months to have different amounts of days.\nUnlike `calendar_interval`, the `fixed_interval` parameter uses a fixed number of units and does not deviate, regardless of where it falls on the calendar. However `fixed_interval` cannot process units such as months because a month is not a fixed quantity. Attempting to specify units like weeks or months for `fixed_interval` will result in an error.\nThe accepted intervals are described in the [date_histogram](../Functions/Date_and_time_functions.md#DATE_HISTOGRAM%28%29) expression. By default, the buckets are returned as an array. The histogram argument `keyed` makes the response a dictionary with the bucket keys.\n\n<!-- request SQL -->\n\nCODE_BLOCK_63\n\n<!-- response SQL -->\n\nCODE_BLOCK_64\n<!-- request JSON -->\n\nCODE_BLOCK_65\n\n<!-- response JSON -->\nCODE_BLOCK_66\n<!-- end -->\n\n\n<!-- example facet range -->\n\n### Facet over set of ranges\n\nFacets can aggregate over a set of ranges. The values are checked against the bucket range, where each bucket includes the `from` value and excludes the `to` value from the range.\nSetting the `keyed` property to `true` makes the response a dictionary with the bucket keys rather than an array.\n\n<!-- request SQL -->\n\nCODE_BLOCK_67\n\n<!-- response SQL -->\n\nCODE_BLOCK_68\n<!-- request JSON -->\n\nCODE_BLOCK_69\n\n<!-- response JSON -->\nCODE_BLOCK_70\n<!-- request JSON 2 -->\n\nCODE_BLOCK_71\n\n<!-- response JSON 2 -->\nCODE_BLOCK_72\n<!-- end -->\n\n<!-- example facet range_date -->\n\n### Facet over set of date ranges\n\nFacets can aggregate over a set of date ranges, which is similar to the normal range. The difference is that the `from` and `to` values can be expressed in [Date math](../Functions/Date_and_time_functions.md#Date-math) expressions. This aggregation includes the `from` value and excludes the `to` value for each range. Setting the `keyed` property to `true` makes the response a dictionary with the bucket keys rather than an array.\n\n<!-- request SQL -->\n\nCODE_BLOCK_73\n\n<!-- response SQL -->\n\nCODE_BLOCK_74\n<!-- request JSON -->\n\nCODE_BLOCK_75\n\n<!-- response JSON -->\nCODE_BLOCK_76\n<!-- end -->\n\n<!-- example Ordering -->\n### Ordering in facet result\n\nFacets support the `ORDER BY` clause just like a standard query. Each facet can have its own ordering, and the facet ordering doesn't affect the main result set's ordering, which is determined by the main query's `ORDER BY`. Sorting can be done on attribute name, count (using `COUNT(*)`, `COUNT(DISTINCT attribute_name)`), or the special `FACET()` function, which provides the aggregated data values. By default, a query with `ORDER BY COUNT(*)` will sort in descending order.\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_77\n\n<!-- response SQL -->\n\nCODE_BLOCK_78\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_79\n\n<!-- response JSON -->\n\nCODE_BLOCK_80\n\n<!-- end -->\n\n\n<!-- example Size -->\n### Size of facet result\n\nBy default, each facet result set is limited to 20 values. The number of facet values can be controlled with the `LIMIT` clause individually for each facet by providing either a number of values to return in the format `LIMIT count` or with an offset as `LIMIT offset, count`.\n\nThe maximum facet values that can be returned is limited by the query's `max_matches` setting. If you want to implement dynamic `max_matches` (limiting `max_matches` to offset + per page for better performance), it must be taken into account that a too low `max_matches` value can affect the number of facet values. In this case, a minimum `max_matches` value should be used that is sufficient to cover the number of facet values.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_81\n\n<!-- response SQL -->\n\nCODE_BLOCK_82\n<!-- request JSON -->\n\nCODE_BLOCK_83\n\n<!-- response JSON -->\n\nCODE_BLOCK_84\n<!-- request PHP -->\nCODE_BLOCK_85\n<!-- response PHP -->\nCODE_BLOCK_86\n<!-- request Python -->\nCODE_BLOCK_87\n<!-- response Python -->\nCODE_BLOCK_88\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_89\n<!-- response Python-asyncio -->\nCODE_BLOCK_90\n\n<!-- request Javascript -->\nCODE_BLOCK_91\n<!-- response Javascript -->\nCODE_BLOCK_92\n\n<!-- request Java -->\nCODE_BLOCK_93\n<!-- response Java -->\nCODE_BLOCK_94\n\n<!-- request C# -->\nCODE_BLOCK_95\n<!-- response C# -->\nCODE_BLOCK_96\n\n<!-- request Rust -->\nCODE_BLOCK_97\n<!-- response Rust -->\nCODE_BLOCK_98\n\n<!-- request TypeScript -->\nCODE_BLOCK_99\n<!-- response TypeScript -->\nCODE_BLOCK_100\n\n<!-- request Go -->\nCODE_BLOCK_101\n<!-- response Go -->\nCODE_BLOCK_102\n\n<!-- end -->\n### Returned result set",
        "translations": {
            "chinese": "<!-- request Go -->\nCODE_BLOCK_51\n\n<!-- response Go -->\nCODE_BLOCK_52\n\n<!-- end -->\n\n<!-- example Multi-level -->\n\n### \u591a\u7ea7\u5206\u7ec4\u7684Facet\n\nFacet\u53ef\u4ee5\u805a\u5408\u591a\u7ea7\u5206\u7ec4\uff0c\u7ed3\u679c\u96c6\u4e0e\u67e5\u8be2\u6267\u884c\u591a\u7ea7\u5206\u7ec4\u7684\u7ed3\u679c\u76f8\u540c\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_53\n\n<!-- response SQL -->\n\nCODE_BLOCK_54\n<!-- end -->\n\n<!-- example histogram -->\n\n### \u76f4\u65b9\u56fe\u503c\u4e0a\u7684Facet\n\nFacet\u53ef\u4ee5\u901a\u8fc7\u6784\u5efa\u56fa\u5b9a\u5927\u5c0f\u7684\u6876\u5bf9\u76f4\u65b9\u56fe\u503c\u8fdb\u884c\u805a\u5408\u3002\n\u5173\u952e\u51fd\u6570\u662f\uff1a\n\nCODE_BLOCK_55\n\n\u76f4\u65b9\u56fe\u53c2\u6570`interval`\u5fc5\u987b\u4e3a\u6b63\uff0c\u76f4\u65b9\u56fe\u53c2\u6570`offset`\u5fc5\u987b\u4e3a\u6b63\u4e14\u5c0f\u4e8e`interval`\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6876\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\u76f4\u65b9\u56fe\u53c2\u6570`keyed`\u4f7f\u54cd\u5e94\u8fd4\u56de\u4e00\u4e2a\u5e26\u6709\u6876\u952e\u7684\u5b57\u5178\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_56\n\n<!-- response SQL -->\n\nCODE_BLOCK_57\n<!-- request JSON -->\n\nCODE_BLOCK_58\n\n<!-- response JSON -->\nCODE_BLOCK_59\n<!-- request JSON 2 -->\n\nCODE_BLOCK_60\n\n<!-- response JSON 2 -->\nCODE_BLOCK_61\n<!-- end -->\n\n<!-- example histogram_date -->\n\n### \u65e5\u671f\u76f4\u65b9\u56fe\u503c\u4e0a\u7684Facet\n\nFacet\u53ef\u4ee5\u805a\u5408\u65e5\u671f\u76f4\u65b9\u56fe\u503c\uff0c\u8fd9\u4e0e\u666e\u901a\u76f4\u65b9\u56fe\u7c7b\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u95f4\u9694\u662f\u4f7f\u7528\u65e5\u671f\u6216\u65f6\u95f4\u8868\u8fbe\u5f0f\u6307\u5b9a\u7684\u3002\u6b64\u7c7b\u8868\u8fbe\u5f0f\u9700\u8981\u7279\u522b\u652f\u6301\uff0c\u56e0\u4e3a\u95f4\u9694\u957f\u5ea6\u4e0d\u603b\u662f\u56fa\u5b9a\u7684\u3002\u503c\u4f7f\u7528\u4ee5\u4e0b\u5173\u952e\u51fd\u6570\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684\u6876\uff1a\n\nCODE_BLOCK_62\n\n\u76f4\u65b9\u56fe\u53c2\u6570`calendar_interval`\u7406\u89e3\u6708\u4efd\u5929\u6570\u4e0d\u540c\u3002\n\u4e0e`calendar_interval`\u4e0d\u540c\uff0c`fixed_interval`\u53c2\u6570\u4f7f\u7528\u56fa\u5b9a\u6570\u91cf\u7684\u5355\u4f4d\uff0c\u4e0d\u8bba\u5176\u5728\u65e5\u5386\u4e2d\u7684\u4f4d\u7f6e\u5982\u4f55\u5747\u4e0d\u504f\u5dee\u3002\u4f46`fixed_interval`\u4e0d\u80fd\u5904\u7406\u5982\u6708\u4efd\u8fd9\u79cd\u975e\u56fa\u5b9a\u6570\u91cf\u5355\u4f4d\u3002\u5c1d\u8bd5\u4e3a`fixed_interval`\u6307\u5b9a\u5468\u6216\u6708\u7684\u5355\u4f4d\u5c06\u5bfc\u81f4\u9519\u8bef\u3002\n\u63a5\u53d7\u7684\u95f4\u9694\u5728[date_histogram](../Functions/Date_and_time_functions.md#DATE_HISTOGRAM%28%29)\u8868\u8fbe\u5f0f\u4e2d\u63cf\u8ff0\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6876\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\u76f4\u65b9\u56fe\u53c2\u6570`keyed`\u4f7f\u54cd\u5e94\u8fd4\u56de\u4e00\u4e2a\u5e26\u6709\u6876\u952e\u7684\u5b57\u5178\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_63\n\n<!-- response SQL -->\n\nCODE_BLOCK_64\n<!-- request JSON -->\n\nCODE_BLOCK_65\n\n<!-- response JSON -->\nCODE_BLOCK_66\n<!-- end -->\n\n\n<!-- example facet range -->\n\n### \u8303\u56f4\u96c6\u5408\u4e0a\u7684Facet\n\nFacet\u53ef\u4ee5\u805a\u5408\u4e00\u7ec4\u8303\u56f4\u3002\u503c\u4f1a\u6839\u636e\u6876\u8303\u56f4\u68c0\u67e5\uff0c\u6bcf\u4e2a\u6876\u5305\u62ec\u8303\u56f4\u7684`from`\u503c\u4f46\u4e0d\u5305\u62ec`to`\u503c\u3002\n\u5c06`keyed`\u5c5e\u6027\u8bbe\u7f6e\u4e3a`true`\u4f7f\u54cd\u5e94\u6210\u4e3a\u5e26\u6876\u952e\u7684\u5b57\u5178\uff0c\u800c\u4e0d\u662f\u6570\u7ec4\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_67\n\n<!-- response SQL -->\n\nCODE_BLOCK_68\n<!-- request JSON -->\n\nCODE_BLOCK_69\n\n<!-- response JSON -->\nCODE_BLOCK_70\n<!-- request JSON 2 -->\n\nCODE_BLOCK_71\n\n<!-- response JSON 2 -->\nCODE_BLOCK_72\n<!-- end -->\n\n<!-- example facet range_date -->\n\n### \u65e5\u671f\u8303\u56f4\u96c6\u5408\u4e0a\u7684Facet\n\nFacet\u53ef\u4ee5\u805a\u5408\u4e00\u7ec4\u65e5\u671f\u8303\u56f4\uff0c\u8fd9\u7c7b\u4f3c\u4e8e\u666e\u901a\u8303\u56f4\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e`from`\u548c`to`\u503c\u53ef\u4ee5\u7528[\u65e5\u671f\u6570\u5b66](../Functions/Date_and_time_functions.md#Date-math)\u8868\u8fbe\u5f0f\u8868\u793a\u3002\u6b64\u805a\u5408\u5305\u62ec\u6bcf\u4e2a\u8303\u56f4\u7684`from`\u503c\u4f46\u6392\u9664`to`\u503c\u3002\u5c06`keyed`\u5c5e\u6027\u8bbe\u4e3a`true`\u4f7f\u54cd\u5e94\u6210\u4e3a\u5e26\u6876\u952e\u7684\u5b57\u5178\uff0c\u800c\u4e0d\u662f\u6570\u7ec4\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_73\n\n<!-- response SQL -->\n\nCODE_BLOCK_74\n<!-- request JSON -->\n\nCODE_BLOCK_75\n\n<!-- response JSON -->\nCODE_BLOCK_76\n<!-- end -->\n\n<!-- example Ordering -->\n### Facet\u7ed3\u679c\u4e2d\u7684\u6392\u5e8f\n\nFacet\u652f\u6301`ORDER BY`\u5b50\u53e5\uff0c\u5c31\u50cf\u6807\u51c6\u67e5\u8be2\u4e00\u6837\u3002\u6bcf\u4e2afacet\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u6392\u5e8f\uff0cfacet\u6392\u5e8f\u4e0d\u4f1a\u5f71\u54cd\u4e3b\u7ed3\u679c\u96c6\u6392\u5e8f\uff0c\u4e3b\u7ed3\u679c\u96c6\u7684\u6392\u5e8f\u7531\u4e3b\u67e5\u8be2\u7684`ORDER BY`\u51b3\u5b9a\u3002\u6392\u5e8f\u53ef\u4ee5\u57fa\u4e8e\u5c5e\u6027\u540d\u79f0\u3001\u8ba1\u6570\uff08\u4f7f\u7528`COUNT(*)`\u3001`COUNT(DISTINCT attribute_name)`\uff09\uff0c\u6216\u8005\u7279\u6b8a\u7684`FACET()`\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u63d0\u4f9b\u805a\u5408\u6570\u636e\u503c\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5e26\u6709`ORDER BY COUNT(*)`\u7684\u67e5\u8be2\u5c06\u6309\u964d\u5e8f\u6392\u5e8f\u3002\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_77\n\n<!-- response SQL -->\n\nCODE_BLOCK_78\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_79\n\n<!-- response JSON -->\n\nCODE_BLOCK_80\n\n<!-- end -->\n\n\n<!-- example Size -->\n### Facet\u7ed3\u679c\u7684\u5927\u5c0f\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2afacet\u7ed3\u679c\u96c6\u9650\u5236\u4e3a20\u4e2a\u503c\u3002facet\u503c\u7684\u6570\u91cf\u53ef\u4ee5\u901a\u8fc7`LIMIT`\u5b50\u53e5\u5355\u72ec\u63a7\u5236\uff0c\u6bcf\u4e2afacet\u53ef\u901a\u8fc7\u63d0\u4f9b\u5982`LIMIT count`\u7684\u503c\u6570\u91cf\u6216\u8005\u5e26\u504f\u79fb\u91cf\u7684`LIMIT offset, count`\u6765\u63a7\u5236\u8fd4\u56de\u7684\u503c\u6570\u91cf\u3002\n\n\u6700\u5927\u8fd4\u56de\u7684facet\u503c\u7531\u67e5\u8be2\u7684`max_matches`\u8bbe\u7f6e\u9650\u5236\u3002\u5982\u679c\u60f3\u5b9e\u73b0\u52a8\u6001\u7684`max_matches`\uff08\u901a\u8fc7\u5c06`max_matches`\u9650\u5236\u4e3a\u504f\u79fb\u91cf\u52a0\u6bcf\u9875\u6570\u91cf\u4ee5\u83b7\u5f97\u66f4\u597d\u6027\u80fd\uff09\uff0c\u9700\u8981\u8003\u8651\u8fc7\u4f4e\u7684`max_matches`\u503c\u53ef\u80fd\u4f1a\u5f71\u54cdfacet\u503c\u6570\u91cf\u3002\u5728\u6b64\u60c5\u51b5\u4e0b\uff0c\u5e94\u8be5\u4f7f\u7528\u8db3\u591f\u8986\u76d6facet\u503c\u6570\u91cf\u7684\u6700\u5c0f`max_matches`\u503c\u3002\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_81\n\n<!-- response SQL -->\n\nCODE_BLOCK_82\n<!-- request JSON -->\n\nCODE_BLOCK_83\n\n<!-- response JSON -->\n\nCODE_BLOCK_84\n<!-- request PHP -->\nCODE_BLOCK_85\n<!-- response PHP -->\nCODE_BLOCK_86\n<!-- request Python -->\nCODE_BLOCK_87\n<!-- response Python -->\nCODE_BLOCK_88\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_89\n<!-- response Python-asyncio -->\nCODE_BLOCK_90\n\n<!-- request Javascript -->\nCODE_BLOCK_91\n<!-- response Javascript -->\nCODE_BLOCK_92\n\n<!-- request Java -->\nCODE_BLOCK_93\n<!-- response Java -->\nCODE_BLOCK_94\n\n<!-- request C# -->\nCODE_BLOCK_95\n<!-- response C# -->\nCODE_BLOCK_96\n\n<!-- request Rust -->\nCODE_BLOCK_97\n<!-- response Rust -->\nCODE_BLOCK_98\n\n<!-- request TypeScript -->\nCODE_BLOCK_99\n<!-- response TypeScript -->\nCODE_BLOCK_100\n\n<!-- request Go -->\nCODE_BLOCK_101\n<!-- response Go -->\nCODE_BLOCK_102\n\n<!-- end -->\n### \u8fd4\u56de\u7684\u7ed3\u679c\u96c6",
            "russian": "<!-- request Go -->\nCODE_BLOCK_51\n\n<!-- response Go -->\nCODE_BLOCK_52\n\n<!-- end -->\n\n<!-- example Multi-level -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0435\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0435, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0438\u043c \u0436\u0435, \u043a\u0430\u043a \u0435\u0441\u043b\u0438 \u0431\u044b \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0443:\n\n<!-- request SQL -->\n\nCODE_BLOCK_53\n\n<!-- response SQL -->\n\nCODE_BLOCK_54\n<!-- end -->\n\n<!-- example histogram -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u043f\u0443\u0442\u0435\u043c \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u044f \u043a\u043e\u0440\u0437\u0438\u043d \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c.\n\u041a\u043b\u044e\u0447\u0435\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f:\n\nCODE_BLOCK_55\n\n\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `interval` \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c, \u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `offset` \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0438 \u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c `interval`. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430. \u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `keyed` \u0434\u0435\u043b\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u043c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u043a\u043e\u0440\u0437\u0438\u043d.\n\n<!-- request SQL -->\n\nCODE_BLOCK_56\n\n<!-- response SQL -->\n\nCODE_BLOCK_57\n<!-- request JSON -->\n\nCODE_BLOCK_58\n\n<!-- response JSON -->\nCODE_BLOCK_59\n<!-- request JSON 2 -->\n\nCODE_BLOCK_60\n\n<!-- response JSON 2 -->\nCODE_BLOCK_61\n<!-- end -->\n\n<!-- example histogram_date -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0441 \u0434\u0430\u0442\u0430\u043c\u0438\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0441 \u0434\u0430\u0442\u0430\u043c\u0438, \u0447\u0442\u043e \u043f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u043e\u0431\u044b\u0447\u043d\u0443\u044e \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u0443. \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u0442\u044b \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438. \u0422\u0430\u043a\u0438\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u043c\u0435\u044e\u0442 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u043b\u0438\u043d\u0443. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u043a\u0440\u0443\u0433\u043b\u044f\u044e\u0442\u0441\u044f \u0434\u043e \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0439 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:\n\nCODE_BLOCK_62\n\n\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `calendar_interval` \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442, \u0447\u0442\u043e \u0432 \u043c\u0435\u0441\u044f\u0446\u0430\u0445 \u0440\u0430\u0437\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439.\n\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 `calendar_interval`, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 `fixed_interval` \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446 \u0438 \u043d\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u044f\u0435\u0442\u0441\u044f, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0442\u043e\u0433\u043e, \u0433\u0434\u0435 \u043e\u043d \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044e. \u041e\u0434\u043d\u0430\u043a\u043e `fixed_interval` \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0438\u0435 \u0435\u0434\u0438\u043d\u0438\u0446\u044b, \u043a\u0430\u043a \u043c\u0435\u0441\u044f\u0446\u044b, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043c\u0435\u0441\u044f\u0446 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0432\u0435\u043b\u0438\u0447\u0438\u043d\u043e\u0439. \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0434\u0438\u043d\u0438\u0446\u044b \u0432\u0440\u043e\u0434\u0435 \u043d\u0435\u0434\u0435\u043b\u044c \u0438\u043b\u0438 \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0434\u043b\u044f `fixed_interval` \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u043e\u0448\u0438\u0431\u043a\u0435.\n\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0438 [date_histogram](../Functions/Date_and_time_functions.md#DATE_HISTOGRAM%28%29). \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430. \u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `keyed` \u0434\u0435\u043b\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u043c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u043a\u043e\u0440\u0437\u0438\u043d.\n\n<!-- request SQL -->\n\nCODE_BLOCK_63\n\n<!-- response SQL -->\n\nCODE_BLOCK_64\n<!-- request JSON -->\n\nCODE_BLOCK_65\n\n<!-- response JSON -->\nCODE_BLOCK_66\n<!-- end -->\n\n\n<!-- example facet range -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0443 \u043a\u043e\u0440\u0437\u0438\u043d\u044b, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043a\u0430\u0436\u0434\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `from` \u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `to` \u0438\u0437 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430.\n\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 `keyed` \u0432 `true` \u0434\u0435\u043b\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u043a\u043e\u0440\u0437\u0438\u043d \u0432\u043c\u0435\u0441\u0442\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430.\n\n<!-- request SQL -->\n\nCODE_BLOCK_67\n\n<!-- response SQL -->\n\nCODE_BLOCK_68\n<!-- request JSON -->\n\nCODE_BLOCK_69\n\n<!-- response JSON -->\nCODE_BLOCK_70\n<!-- request JSON 2 -->\n\nCODE_BLOCK_71\n\n<!-- response JSON 2 -->\nCODE_BLOCK_72\n<!-- end -->\n\n<!-- example facet range_date -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432 \u0434\u0430\u0442\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432 \u0434\u0430\u0442, \u0447\u0442\u043e \u043f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d. \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f `from` \u0438 `to` \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u044b \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445 [Date math](../Functions/Date_and_time_functions.md#Date-math). \u042d\u0442\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `from` \u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `to` \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 `keyed` \u0432 `true` \u0434\u0435\u043b\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u043a\u043e\u0440\u0437\u0438\u043d \u0432\u043c\u0435\u0441\u0442\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430.\n\n<!-- request SQL -->\n\nCODE_BLOCK_73\n\n<!-- response SQL -->\n\nCODE_BLOCK_74\n<!-- request JSON -->\n\nCODE_BLOCK_75\n\n<!-- response JSON -->\nCODE_BLOCK_76\n<!-- end -->\n\n<!-- example Ordering -->\n### \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0444\u0430\u0441\u0435\u0442\u0430\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 `ORDER BY` \u0442\u0430\u043a \u0436\u0435, \u043a\u0430\u043a \u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u041a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0441\u0435\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443, \u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0444\u0430\u0441\u0435\u0442\u0430 \u043d\u0435 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f `ORDER BY` \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 (\u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e `COUNT(*)`, `COUNT(DISTINCT attribute_name)`), \u0438\u043b\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 `FACET()`, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441 `ORDER BY COUNT(*)` \u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e.\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_77\n\n<!-- response SQL -->\n\nCODE_BLOCK_78\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_79\n\n<!-- response JSON -->\n\nCODE_BLOCK_80\n\n<!-- end -->\n\n\n<!-- example Size -->\n### \u0420\u0430\u0437\u043c\u0435\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0444\u0430\u0441\u0435\u0442\u0430\n\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0430\u0441\u0435\u0442\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d 20 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f `LIMIT` \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0444\u0430\u0441\u0435\u0442\u0430, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u043b\u0438\u0431\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 `LIMIT count`, \u043b\u0438\u0431\u043e \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 `LIMIT offset, count`.\n\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 `max_matches`. \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 `max_matches` (\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u044f `max_matches` \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u043c + \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0435\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438), \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c, \u0447\u0442\u043e \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0430\u043b\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `max_matches` \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `max_matches`, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0435 \u0434\u043b\u044f \u043e\u0445\u0432\u0430\u0442\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_81\n\n<!-- response SQL -->\n\nCODE_BLOCK_82\n<!-- request JSON -->\n\nCODE_BLOCK_83\n\n<!-- response JSON -->\n\nCODE_BLOCK_84\n<!-- request PHP -->\nCODE_BLOCK_85\n<!-- response PHP -->\nCODE_BLOCK_86\n<!-- request Python -->\nCODE_BLOCK_87\n<!-- response Python -->\nCODE_BLOCK_88\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_89\n<!-- response Python-asyncio -->\nCODE_BLOCK_90\n\n<!-- request Javascript -->\nCODE_BLOCK_91\n<!-- response Javascript -->\nCODE_BLOCK_92\n\n<!-- request Java -->\nCODE_BLOCK_93\n<!-- response Java -->\nCODE_BLOCK_94\n\n<!-- request C# -->\nCODE_BLOCK_95\n<!-- response C# -->\nCODE_BLOCK_96\n\n<!-- request Rust -->\nCODE_BLOCK_97\n<!-- response Rust -->\nCODE_BLOCK_98\n\n<!-- request TypeScript -->\nCODE_BLOCK_99\n<!-- response TypeScript -->\nCODE_BLOCK_100\n\n<!-- request Go -->\nCODE_BLOCK_101\n<!-- response Go -->\nCODE_BLOCK_102\n\n<!-- end -->\n### \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339908
    },
    "1e69a38886ac86d0fe8f2a44f6c5666281bd6f0390d4775fd805915e463c8f08": {
        "original": "When using SQL, a search with facets returns multiple result sets. The MySQL client/library/connector used **must** support multiple result sets in order to access the facet result sets.\n\n<!-- example Performance -->\n### Performance\n\nInternally, the `FACET` is a shorthand for executing a multi-query where the first query contains the main search query and the rest of the queries in the batch have each a clustering. As in the case of multi-query, the common query optimization can kick in for a faceted search, meaning the search query is executed only once, and the facets operate on the search query result, with each facet adding only a fraction of time to the total query time.\n\n\nTo check if the faceted search ran in an optimized mode, you can look in the [query log](../Logging/Query_logging.md), where all logged queries will contain an `xN` string, where `N` is the number of queries that ran in the optimized group. Alternatively, you can check the output of the [SHOW META](../Node_info_and_management/SHOW_META.md) statement, which will display a `multiplier` metric:\n\n<!-- request SQL -->\n\nCODE_BLOCK_103\n\n<!-- response SQL -->\n\nCODE_BLOCK_104\n\n<!-- end -->\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "\u5728\u4f7f\u7528 SQL \u65f6\uff0c\u5e26\u6709\u5206\u9762\uff08facets\uff09\u7684\u641c\u7d22\u4f1a\u8fd4\u56de\u591a\u4e2a\u7ed3\u679c\u96c6\u3002\u6240\u4f7f\u7528\u7684 MySQL \u5ba2\u6237\u7aef/\u5e93/\u8fde\u63a5\u5668**\u5fc5\u987b**\u652f\u6301\u591a\u4e2a\u7ed3\u679c\u96c6\uff0c\u624d\u80fd\u8bbf\u95ee\u5206\u9762\u7ed3\u679c\u96c6\u3002\n\n<!-- example Performance -->\n### \u6027\u80fd\n\n\u5728\u5185\u90e8\uff0c`FACET` \u662f\u6267\u884c\u591a\u67e5\u8be2\uff08multi-query\uff09\u7684\u7b80\u5199\uff0c\u5176\u4e2d\u7b2c\u4e00\u6761\u67e5\u8be2\u5305\u542b\u4e3b\u641c\u7d22\u67e5\u8be2\uff0c\u6279\u5904\u7406\u4e2d\u5176\u4f59\u67e5\u8be2\u5404\u81ea\u5177\u6709\u4e00\u4e2a\u805a\u7c7b\uff08clustering\uff09\u3002\u4e0e\u591a\u67e5\u8be2\u7684\u60c5\u51b5\u76f8\u540c\uff0c\u901a\u7528\u67e5\u8be2\u4f18\u5316\u53ef\u4ee5\u5728\u5206\u9762\u641c\u7d22\u4e2d\u751f\u6548\uff0c\u8fd9\u610f\u5473\u7740\u641c\u7d22\u67e5\u8be2\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u5206\u9762\u64cd\u4f5c\u5728\u641c\u7d22\u67e5\u8be2\u7ed3\u679c\u4e0a\u8fdb\u884c\uff0c\u6bcf\u4e2a\u5206\u9762\u53ea\u4f1a\u4e3a\u603b\u67e5\u8be2\u65f6\u95f4\u589e\u52a0\u4e00\u5c0f\u90e8\u5206\u65f6\u95f4\u3002\n\n\n\u8981\u68c0\u67e5\u5206\u9762\u641c\u7d22\u662f\u5426\u4ee5\u4f18\u5316\u6a21\u5f0f\u8fd0\u884c\uff0c\u53ef\u4ee5\u67e5\u770b[\u67e5\u8be2\u65e5\u5fd7](../Logging/Query_logging.md)\uff0c\u5176\u4e2d\u6240\u6709\u8bb0\u5f55\u7684\u67e5\u8be2\u90fd\u4f1a\u5305\u542b\u4e00\u4e2a`xN`\u5b57\u7b26\u4e32\uff0c\u5176\u4e2d`N`\u662f\u4f18\u5316\u7ec4\u4e2d\u8fd0\u884c\u7684\u67e5\u8be2\u6570\u91cf\u3002\u6216\u8005\uff0c\u4f60\u4e5f\u53ef\u4ee5\u68c0\u67e5[SHOW META](../Node_info_and_management/SHOW_META.md)\u8bed\u53e5\u7684\u8f93\u51fa\uff0c\u5176\u5c06\u663e\u793a\u4e00\u4e2a`multiplier`\u6307\u6807\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_103\n\n<!-- response SQL -->\n\nCODE_BLOCK_104\n\n<!-- end -->\n<!-- proofread -->",
            "russian": "\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 SQL \u043f\u043e\u0438\u0441\u043a \u0441 \u0444\u0430\u0441\u0435\u0442\u0430\u043c\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0431\u043e\u0440\u043e\u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442/\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430/\u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 MySQL **\u0434\u043e\u043b\u0436\u0435\u043d** \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0431\u043e\u0440\u043e\u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0444\u0430\u0441\u0435\u0442.\n\n<!-- example Performance -->\n### \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\n\n\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435 `FACET` \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0433\u0434\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u0430 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0430\u043a\u0435\u0442\u0435 \u0438\u043c\u0435\u044e\u0442 \u043a\u0430\u0436\u0434\u043e\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435. \u041a\u0430\u043a \u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u0443\u043b\u044c\u0442\u0438\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043e\u0431\u0449\u0430\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u0444\u0430\u0441\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430, \u0447\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0430 \u0444\u0430\u0441\u0435\u0442\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0441\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043b\u0438\u0448\u044c \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0434\u043e\u043b\u044e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043a \u043e\u0431\u0449\u0435\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n\n\n\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0431\u044b\u043b \u043b\u0438 \u0444\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 [\u0436\u0443\u0440\u043d\u0430\u043b \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432](../Logging/Query_logging.md), \u0433\u0434\u0435 \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 `xN`, \u0433\u0434\u0435 `N` \u2014 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0432 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435. \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u043e, \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434 \u043a\u043e\u043c\u0430\u043d\u0434\u044b [SHOW META](../Node_info_and_management/SHOW_META.md), \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442 \u043c\u0435\u0442\u0440\u0438\u043a\u0443 `multiplier`:\n\n<!-- request SQL -->\n\nCODE_BLOCK_103\n\n<!-- response SQL -->\n\nCODE_BLOCK_104\n\n<!-- end -->\n<!-- proofread -->\n\n"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339888
    },
    "7d15fcc24cf93e1b500d1bdf240b8eac7efc97fd7290fa3afc743e0b18d36e94": {
        "original": "# Faceted search\n\nFaceted search is as crucial to a modern search application as [autocomplete](../Searching/Autocomplete.md), [spell correction](../Searching/Spell_correction.md), and search keywords [highlighting](../Searching/Highlighting.md), especially in e-commerce products.\n\n![Faceted search](faceted.png)\n\nFaceted search comes in handy when dealing with large quantities of data and various interconnected properties, such as size, color, manufacturer, or other factors. When querying vast amounts of data, search results frequently include numerous entries that don't match the user's expectations. Faceted search enables the end user to explicitly define the criteria they want their search results to satisfy.\n\nIn Manticore Search, there's an optimization that maintains the result set of the original query and reuses it for each facet calculation. Since the aggregations are applied to an already calculated subset of documents, they're fast, and the total execution time can often be only slightly longer than the initial query. Facets can be added to any query, and the facet can be any attribute or expression. A facet result includes the facet values and the facet counts. Facets can be accessed using the SQL `SELECT` statement by declaring them at the very end of the query.\n\n## Aggregations\n\n<!-- example Aggregations -->\n### SQL\nThe facet values can originate from an attribute, a JSON property within a JSON attribute, or an expression. Facet values can also be aliased, but the **alias must be unique** across all result sets (main query result set and other facets result sets). The facet value is derived from the aggregated attribute/expression, but it can also come from another attribute/expression.\n\nCODE_BLOCK_0\n\nMultiple facet declarations must be separated by a whitespace.\n\n### HTTP JSON\n\nFacets can be defined in the `aggs` node:\n\nCODE_BLOCK_1\n\nwhere:\n* `group name` is an alias assigned to the aggregation\n* `field` value must contain the name of the attribute or expression being faceted\n* optional `size` specifies the maximum number of buckets to include in the result. When not specified, it inherits the main query's limit. More details can be found in the [Size of facet result](../Searching/Faceted_search.md#Size-of-facet-result) section.\n* optional `sort` specifies an array of attributes and/or additional properties using the same syntax as the [\"sort\" parameter in the main query](../Searching/Sorting_and_ranking.md#Sorting-via-JSON).\n\nThe result set will contain an `aggregations` node with the returned facets, where `key` is the aggregated value and `doc_count` is the aggregation count.\n\nCODE_BLOCK_2\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_3\n\n<!-- response SQL -->\n\nCODE_BLOCK_4\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_5\n\n<!-- response JSON -->\n\nCODE_BLOCK_6\n\n<!-- intro -->\n##### PHP:\n\n<!-- request PHP -->\nCODE_BLOCK_7\n<!-- response PHP -->\nCODE_BLOCK_8\n\n<!-- intro -->\n##### Python:\n\n<!-- request Python -->\nCODE_BLOCK_9\n<!-- response Python -->\nCODE_BLOCK_10\n\n<!-- intro -->\n##### Python-asyncio:\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_11\n<!-- response Python-asyncio -->\nCODE_BLOCK_12\n\n<!-- intro -->\n##### Javascript:\n\n<!-- request Javascript -->\nCODE_BLOCK_13\n<!-- response Javascript -->\nCODE_BLOCK_14\n\n<!-- intro -->\n##### Java:\n\n<!-- request Java -->\nCODE_BLOCK_15\n<!-- response Java -->\nCODE_BLOCK_16\n\n<!-- intro -->\n##### C#:\n\n<!-- request C# -->\nCODE_BLOCK_17\n<!-- response C# -->\nCODE_BLOCK_18\n\n<!-- intro -->\n##### Rust:\n\n<!-- request Rust -->\nCODE_BLOCK_19\n<!-- response Rust -->\nCODE_BLOCK_20\n\n<!-- request TypeScript -->\nCODE_BLOCK_21\n<!-- response TypeScript -->\nCODE_BLOCK_22\n\n<!-- request Go -->\nCODE_BLOCK_23\n<!-- response Go -->\nCODE_BLOCK_24\n\n<!-- end -->\n\n<!-- example Another_attribute -->\n\n### Faceting by aggregation over another attribute\n\nData can be faceted by aggregating another attribute or expression. For example if the documents contain both the brand id and name, we can return in facet the brand names, but aggregate the brand ids. This can be done by using `FACET {expr1} BY {expr2}`\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_25\n\n<!-- response SQL -->\n\nCODE_BLOCK_26\n\n<!-- end -->\n\n<!-- example Distinct -->\n\n### Faceting without duplicates\n\nIf you need to remove duplicates from the buckets returned by FACET, you can use `DISTINCT field_name`, where `field_name` is the field by which you want to perform deduplication. It can also be `id` (which is the default) if you make a FACET query against a distributed table and are not sure whether you have unique ids in the tables (the tables should be local and have the same schema).\n\nIf you have multiple FACET declarations in your query, `field_name` should be the same in all of them.\n\n`DISTINCT` returns an additional column `count(distinct ...)` before the column `count(*)`, allowing you to obtain both results without needing to make another query.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_27\n\n<!-- response SQL -->\n\nCODE_BLOCK_28\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_29\n\n<!-- response JSON -->\n\nCODE_BLOCK_30\n\n<!-- end -->\n\n<!-- example Expressions -->\n### Facet over expressions\n\nFacets can aggregate over expressions. A classic example is the segmentation of prices by specific ranges:\n\n<!-- request SQL -->\n\nCODE_BLOCK_31\n\n<!-- response SQL -->\n\nCODE_BLOCK_32\n\n<!-- request JSON -->\n\nCODE_BLOCK_33\n\n<!-- response JSON -->\n\nCODE_BLOCK_34\n<!-- request PHP -->\nCODE_BLOCK_35\n<!-- response PHP -->\nCODE_BLOCK_36\n<!-- request Python -->\nCODE_BLOCK_37\n<!-- response Python -->\nCODE_BLOCK_38\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_39\n<!-- response Python-asyncio -->\nCODE_BLOCK_40\n\n<!-- request Javascript -->\nCODE_BLOCK_41\n<!-- response Javascript -->\nCODE_BLOCK_42\n\n<!-- request Java -->\nCODE_BLOCK_43\n<!-- response Java -->\nCODE_BLOCK_44\n\n<!-- request C# -->\nCODE_BLOCK_45\n<!-- response C# -->\nCODE_BLOCK_46\n\n<!-- request Rust -->\nCODE_BLOCK_47\n<!-- response Rust -->\nCODE_BLOCK_48\n\n<!-- request TypeScript -->\nCODE_BLOCK_49\n\n<!-- response TypeScript -->\nCODE_BLOCK_50",
        "translations": {
            "chinese": "# \u5206\u9762\u641c\u7d22\n\n\u5206\u9762\u641c\u7d22\u5728\u73b0\u4ee3\u641c\u7d22\u5e94\u7528\u4e2d\u4e0e [\u81ea\u52a8\u8865\u5168](../Searching/Autocomplete.md)\u3001[\u62fc\u5199\u7ea0\u6b63](../Searching/Spell_correction.md) \u548c\u641c\u7d22\u5173\u952e\u8bcd [\u9ad8\u4eae\u663e\u793a](../Searching/Highlighting.md) \u4e00\u6837\u91cd\u8981\uff0c\u5c24\u5176\u662f\u5728\u7535\u5b50\u5546\u52a1\u4ea7\u54c1\u4e2d\u3002\n\n![\u5206\u9762\u641c\u7d22](faceted.png)\n\n\u5f53\u5904\u7406\u5927\u91cf\u6570\u636e\u548c\u5404\u79cd\u76f8\u4e92\u5173\u8054\u7684\u5c5e\u6027\uff08\u5982\u5c3a\u5bf8\u3001\u989c\u8272\u3001\u5236\u9020\u5546\u6216\u5176\u4ed6\u56e0\u7d20\uff09\u65f6\uff0c\u5206\u9762\u641c\u7d22\u4f1a\u975e\u5e38\u6709\u7528\u3002\u5728\u67e5\u8be2\u5927\u91cf\u6570\u636e\u65f6\uff0c\u641c\u7d22\u7ed3\u679c\u7ecf\u5e38\u4f1a\u5305\u542b\u8bb8\u591a\u4e0d\u7b26\u5408\u7528\u6237\u671f\u671b\u7684\u6761\u76ee\u3002\u5206\u9762\u641c\u7d22\u4f7f\u7ec8\u7aef\u7528\u6237\u80fd\u591f\u660e\u786e\u89c4\u5b9a\u4ed6\u4eec\u5e0c\u671b\u641c\u7d22\u7ed3\u679c\u6ee1\u8db3\u7684\u6807\u51c6\u3002\n\n\u5728 Manticore Search \u4e2d\uff0c\u6709\u4e00\u79cd\u4f18\u5316\u65b9\u6cd5\u53ef\u4ee5\u7ef4\u62a4\u539f\u59cb\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\uff0c\u5e76\u5728\u6bcf\u4e2a\u5206\u9762\u8ba1\u7b97\u65f6\u91cd\u590d\u5229\u7528\u5b83\u3002\u7531\u4e8e\u805a\u5408\u662f\u5728\u5df2\u7ecf\u8ba1\u7b97\u597d\u7684\u6587\u6863\u5b50\u96c6\u4e0a\u5e94\u7528\u7684\uff0c\u6240\u4ee5\u5b83\u4eec\u901f\u5ea6\u5f88\u5feb\uff0c\u603b\u6267\u884c\u65f6\u95f4\u901a\u5e38\u53ea\u6bd4\u521d\u59cb\u67e5\u8be2\u7a0d\u957f\u3002\u5206\u9762\u53ef\u4ee5\u6dfb\u52a0\u5230\u4efb\u4f55\u67e5\u8be2\u4e2d\uff0c\u6bcf\u4e2a\u5206\u9762\u53ef\u4ee5\u662f\u4efb\u4f55\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u3002\u5206\u9762\u7ed3\u679c\u5305\u542b\u5206\u9762\u503c\u548c\u5206\u9762\u8ba1\u6570\u3002\u53ef\u4ee5\u4f7f\u7528 SQL `SELECT` \u8bed\u53e5\u5728\u67e5\u8be2\u7684\u6700\u540e\u58f0\u660e\u5206\u9762\u6765\u8bbf\u95ee\u5206\u9762\u3002\n\n## \u805a\u5408\n\n<!-- example Aggregations -->\n### SQL\n\u5206\u9762\u503c\u53ef\u4ee5\u6765\u81ea\u4e00\u4e2a\u5c5e\u6027\u3001JSON \u5c5e\u6027\u5185\u7684 JSON \u5c5e\u6027\uff0c\u6216\u4e00\u4e2a\u8868\u8fbe\u5f0f\u3002\u5206\u9762\u503c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\uff0c\u4f46**\u522b\u540d\u5728\u6240\u6709\u7ed3\u679c\u96c6\uff08\u4e3b\u67e5\u8be2\u7ed3\u679c\u96c6\u548c\u5176\u4ed6\u5206\u9762\u7ed3\u679c\u96c6\uff09\u4e2d\u5fc5\u987b\u552f\u4e00**\u3002\u5206\u9762\u503c\u6765\u6e90\u4e8e\u805a\u5408\u7684\u5c5e\u6027/\u8868\u8fbe\u5f0f\uff0c\u4f46\u4e5f\u53ef\u4ee5\u6765\u81ea\u5176\u4ed6\u5c5e\u6027/\u8868\u8fbe\u5f0f\u3002\n\nCODE_BLOCK_0\n\n\u591a\u4e2a\u5206\u9762\u58f0\u660e\u5fc5\u987b\u7528\u7a7a\u683c\u5206\u9694\u3002\n\n### HTTP JSON\n\n\u5206\u9762\u53ef\u4ee5\u5728 `aggs` \u8282\u70b9\u4e2d\u5b9a\u4e49\uff1a\n\nCODE_BLOCK_1\n\n\u5176\u4e2d\uff1a\n* `group name` \u662f\u5206\u914d\u7ed9\u805a\u5408\u7684\u522b\u540d\n* `field` \u7684\u503c\u5fc5\u987b\u5305\u542b\u7528\u4e8e\u5206\u9762\u7684\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u7684\u540d\u79f0\n* \u53ef\u9009\u7684 `size` \u6307\u5b9a\u7ed3\u679c\u4e2d\u5305\u542b\u7684\u6700\u5927\u6876\u6570\u3002\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u7ee7\u627f\u4e3b\u67e5\u8be2\u7684\u9650\u5236\u3002\u66f4\u591a\u8be6\u60c5\u8bf7\u53c2\u89c1 [\u5206\u9762\u7ed3\u679c\u7684\u5927\u5c0f](../Searching/Faceted_search.md#Size-of-facet-result) \u90e8\u5206\u3002\n* \u53ef\u9009\u53c2\u6570 `sort`\uff0c\u7528\u4e0e[\u4e3b\u67e5\u8be2\u4e2d\u7684 \"sort\" \u53c2\u6570](../Searching/Sorting_and_ranking.md#Sorting-via-JSON) \u76f8\u540c\u7684\u8bed\u6cd5\uff0c\u6307\u5b9a\u6309\u54ea\u4e9b\u5c5e\u6027\u6216\u9644\u52a0\u5c5e\u6027\u6392\u5e8f\u3002\n\n\u7ed3\u679c\u96c6\u5c06\u5305\u542b\u4e00\u4e2a `aggregations` \u8282\u70b9\uff0c\u8fd4\u56de\u5206\u9762\u7ed3\u679c\uff0c\u5176\u4e2d `key` \u662f\u805a\u5408\u503c\uff0c`doc_count` \u662f\u805a\u5408\u8ba1\u6570\u3002\n\nCODE_BLOCK_2\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_3\n\n<!-- response SQL -->\n\nCODE_BLOCK_4\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_5\n\n<!-- response JSON -->\n\nCODE_BLOCK_6\n\n<!-- intro -->\n##### PHP:\n\n<!-- request PHP -->\nCODE_BLOCK_7\n<!-- response PHP -->\nCODE_BLOCK_8\n\n<!-- intro -->\n##### Python:\n\n<!-- request Python -->\nCODE_BLOCK_9\n<!-- response Python -->\nCODE_BLOCK_10\n\n<!-- intro -->\n##### Python-asyncio:\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_11\n<!-- response Python-asyncio -->\nCODE_BLOCK_12\n\n<!-- intro -->\n##### Javascript:\n\n<!-- request Javascript -->\nCODE_BLOCK_13\n<!-- response Javascript -->\nCODE_BLOCK_14\n\n<!-- intro -->\n##### Java:\n\n<!-- request Java -->\nCODE_BLOCK_15\n<!-- response Java -->\nCODE_BLOCK_16\n\n<!-- intro -->\n##### C#:\n\n<!-- request C# -->\nCODE_BLOCK_17\n<!-- response C# -->\nCODE_BLOCK_18\n\n<!-- intro -->\n##### Rust:\n\n<!-- request Rust -->\nCODE_BLOCK_19\n<!-- response Rust -->\nCODE_BLOCK_20\n\n<!-- request TypeScript -->\nCODE_BLOCK_21\n<!-- response TypeScript -->\nCODE_BLOCK_22\n\n<!-- request Go -->\nCODE_BLOCK_23\n<!-- response Go -->\nCODE_BLOCK_24\n\n<!-- end -->\n\n<!-- example Another_attribute -->\n\n### \u901a\u8fc7\u53e6\u4e00\u4e2a\u5c5e\u6027\u8fdb\u884c\u5206\u9762\u805a\u5408\n\n\u53ef\u4ee5\u901a\u8fc7\u805a\u5408\u53e6\u4e00\u4e2a\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u9762\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6587\u6863\u540c\u65f6\u5305\u542b\u54c1\u724c id \u548c\u540d\u79f0\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5206\u9762\u8fd4\u56de\u54c1\u724c\u540d\u79f0\uff0c\u4f46\u6839\u636e\u54c1\u724c id \u805a\u5408\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528 `FACET {expr1} BY {expr2}` \u5b8c\u6210\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_25\n\n<!-- response SQL -->\n\nCODE_BLOCK_26\n\n<!-- end -->\n\n<!-- example Distinct -->\n\n### \u53bb\u91cd\u5206\u9762\n\n\u5982\u679c\u9700\u8981\u4ece FACET \u8fd4\u56de\u7684\u6876\u4e2d\u53bb\u9664\u91cd\u590d\u9879\uff0c\u53ef\u4ee5\u4f7f\u7528 `DISTINCT field_name`\uff0c\u5176\u4e2d `field_name` \u662f\u7528\u4e8e\u53bb\u91cd\u7684\u5b57\u6bb5\u3002\u5bf9\u4e8e\u5206\u5e03\u5f0f\u8868\u7684 FACET \u67e5\u8be2\uff0c\u5982\u679c\u4e0d\u786e\u5b9a\u8868\u4e2d id \u662f\u5426\u552f\u4e00\uff08\u8868\u5fc5\u987b\u662f\u672c\u5730\u7684\u4e14\u62e5\u6709\u76f8\u540c\u7684\u8868\u7ed3\u6784\uff09\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 `id`\uff08\u9ed8\u8ba4\uff09\u3002\n\n\u5982\u679c\u67e5\u8be2\u4e2d\u6709\u591a\u4e2a FACET \u58f0\u660e\uff0c`field_name` \u5e94\u5728\u5b83\u4eec\u4e2d\u4fdd\u6301\u4e00\u81f4\u3002\n\n`DISTINCT` \u4f1a\u5728 `count(*)` \u5217\u4e4b\u524d\u8fd4\u56de\u4e00\u4e2a\u989d\u5916\u7684 `count(distinct ...)` \u5217\uff0c\u4ece\u800c\u65e0\u9700\u518d\u53d1\u8d77\u53e6\u4e00\u4e2a\u67e5\u8be2\u5373\u53ef\u540c\u65f6\u83b7\u5f97\u4e24\u4e2a\u7ed3\u679c\u3002\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_27\n\n<!-- response SQL -->\n\nCODE_BLOCK_28\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_29\n\n<!-- response JSON -->\n\nCODE_BLOCK_30\n\n<!-- end -->\n\n<!-- example Expressions -->\n### \u8868\u8fbe\u5f0f\u4e0a\u7684\u5206\u9762\n\n\u5206\u9762\u53ef\u4ee5\u5bf9\u8868\u8fbe\u5f0f\u8fdb\u884c\u805a\u5408\u3002\u4e00\u4e2a\u7ecf\u5178\u7684\u4f8b\u5b50\u662f\u6309\u7279\u5b9a\u533a\u95f4\u5bf9\u4ef7\u683c\u5206\u6bb5\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_31\n\n<!-- response SQL -->\n\nCODE_BLOCK_32\n\n<!-- request JSON -->\n\nCODE_BLOCK_33\n\n<!-- response JSON -->\n\nCODE_BLOCK_34\n<!-- request PHP -->\nCODE_BLOCK_35\n<!-- response PHP -->\nCODE_BLOCK_36\n<!-- request Python -->\nCODE_BLOCK_37\n<!-- response Python -->\nCODE_BLOCK_38\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_39\n<!-- response Python-asyncio -->\nCODE_BLOCK_40\n\n<!-- request Javascript -->\nCODE_BLOCK_41\n<!-- response Javascript -->\nCODE_BLOCK_42\n\n<!-- request Java -->\nCODE_BLOCK_43\n<!-- response Java -->\nCODE_BLOCK_44\n\n<!-- request C# -->\nCODE_BLOCK_45\n<!-- response C# -->\nCODE_BLOCK_46\n\n<!-- request Rust -->\nCODE_BLOCK_47\n<!-- response Rust -->\nCODE_BLOCK_48\n\n<!-- request TypeScript -->\nCODE_BLOCK_49\n\n<!-- response TypeScript -->\nCODE_BLOCK_50",
            "russian": "# \u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a\n\n\u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u0442\u0430\u043a \u0436\u0435 \u0432\u0430\u0436\u0435\u043d \u0434\u043b\u044f \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043a\u0430\u043a [\u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435](../Searching/Autocomplete.md), [\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a](../Searching/Spell_correction.md) \u0438 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0445 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0441\u043b\u043e\u0432 [\u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u043e\u0439](../Searching/Highlighting.md), \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u0445 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043c\u0435\u0440\u0446\u0438\u0438.\n\n![\u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a](faceted.png)\n\n\u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u0435\u0437\u0435\u043d \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u043e\u0431\u044a\u0435\u043c\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a \u0440\u0430\u0437\u043c\u0435\u0440, \u0446\u0432\u0435\u0442, \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b. \u041f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u043e\u0433\u0440\u043e\u043c\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043c\u0430\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0447\u0430\u0441\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u044f\u0432\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430.\n\n\u0412 Manticore Search \u0435\u0441\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0435\u0433\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u0443\u0436\u0435 \u043a \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u0434\u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043e\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0431\u044b\u0441\u0442\u0440\u043e, \u0430 \u043e\u0431\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043b\u0438\u0448\u044c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0434\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u043b\u044e\u0431\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443, \u0438 \u0444\u0430\u0441\u0435\u0442\u043e\u043c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0430\u0441\u0435\u0442\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442\u0430 \u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e \u0444\u0430\u0441\u0435\u0442\u0443. \u0424\u0430\u0441\u0435\u0442\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e SQL-\u0437\u0430\u043f\u0440\u043e\u0441\u0430 `SELECT`, \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u044f \u0438\u0445 \u0432 \u0441\u0430\u043c\u043e\u043c \u043a\u043e\u043d\u0446\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n\n## \u0410\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438\n\n<!-- example Aggregations -->\n### SQL\n\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442\u043e\u0432 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u0437 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 JSON \u0432\u043d\u0443\u0442\u0440\u0438 JSON-\u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442\u0430 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b, \u043d\u043e **\u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c** \u0432\u043e \u0432\u0441\u0435\u0445 \u043d\u0430\u0431\u043e\u0440\u0430\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 (\u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u043d\u0430\u0431\u043e\u0440\u044b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0444\u0430\u0441\u0435\u0442\u043e\u0432). \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u0430\u0441\u0435\u0442\u0430 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0438\u0437 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430/\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430/\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f.\n\nCODE_BLOCK_0\n\n\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u044b \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u043c.\n\n### HTTP JSON\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u0443\u0437\u043b\u0435 `aggs`:\n\nCODE_BLOCK_1\n\n\u0433\u0434\u0435:\n* `group name` \u2014 \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c, \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u043d\u044b\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438\n* \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `field` \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0438\u043c\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f \u0444\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n* \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 `size` \u0437\u0430\u0434\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043a\u0435\u0442\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u044b\u0445 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e, \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043b\u0438\u043c\u0438\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 [\u0420\u0430\u0437\u043c\u0435\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0444\u0430\u0441\u0435\u0442\u0430](../Searching/Faceted_search.md#Size-of-facet-result).\n* \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 `sort` \u0437\u0430\u0434\u0430\u0435\u0442 \u043c\u0430\u0441\u0441\u0438\u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u0438/\u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0442\u043e\u0442 \u0436\u0435 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441, \u0447\u0442\u043e \u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 [\"sort\" \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435](../Searching/Sorting_and_ranking.md#Sorting-via-JSON).\n\n\u041d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0443\u0437\u0435\u043b `aggregations` \u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0441\u0435\u0442\u0430\u043c\u0438, \u0433\u0434\u0435 `key` \u2014 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0430 `doc_count` \u2014 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438.\n\nCODE_BLOCK_2\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_3\n\n<!-- response SQL -->\n\nCODE_BLOCK_4\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_5\n\n<!-- response JSON -->\n\nCODE_BLOCK_6\n\n<!-- intro -->\n##### PHP:\n\n<!-- request PHP -->\nCODE_BLOCK_7\n<!-- response PHP -->\nCODE_BLOCK_8\n\n<!-- intro -->\n##### Python:\n\n<!-- request Python -->\nCODE_BLOCK_9\n<!-- response Python -->\nCODE_BLOCK_10\n\n<!-- intro -->\n##### Python-asyncio:\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_11\n<!-- response Python-asyncio -->\nCODE_BLOCK_12\n\n<!-- intro -->\n##### Javascript:\n\n<!-- request Javascript -->\nCODE_BLOCK_13\n<!-- response Javascript -->\nCODE_BLOCK_14\n\n<!-- intro -->\n##### Java:\n\n<!-- request Java -->\nCODE_BLOCK_15\n<!-- response Java -->\nCODE_BLOCK_16\n\n<!-- intro -->\n##### C#:\n\n<!-- request C# -->\nCODE_BLOCK_17\n<!-- response C# -->\nCODE_BLOCK_18\n\n<!-- intro -->\n##### Rust:\n\n<!-- request Rust -->\nCODE_BLOCK_19\n<!-- response Rust -->\nCODE_BLOCK_20\n\n<!-- request TypeScript -->\nCODE_BLOCK_21\n<!-- response TypeScript -->\nCODE_BLOCK_22\n\n<!-- request Go -->\nCODE_BLOCK_23\n<!-- response Go -->\nCODE_BLOCK_24\n\n<!-- end -->\n\n<!-- example Another_attribute -->\n\n### \u0424\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\n\n\u0414\u0430\u043d\u043d\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0444\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u0443\u044f \u0434\u0440\u0443\u0433\u043e\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u043a\u0430\u043a id \u0431\u0440\u0435\u043d\u0434\u0430, \u0442\u0430\u043a \u0438 \u0435\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432 \u0444\u0430\u0441\u0435\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0431\u0440\u0435\u043d\u0434\u043e\u0432, \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u0443\u044f \u043f\u0440\u0438 \u044d\u0442\u043e\u043c id \u0431\u0440\u0435\u043d\u0434\u043e\u0432. \u042d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f `FACET {expr1} BY {expr2}`\n\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_25\n\n<!-- response SQL -->\n\nCODE_BLOCK_26\n\n<!-- end -->\n\n<!-- example Distinct -->\n\n### \u0424\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0435\u0437 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432\n\n\u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b \u0438\u0437 \u0431\u0430\u043a\u0435\u0442\u043e\u0432, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 FACET, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c `DISTINCT field_name`, \u0433\u0434\u0435 `field_name` \u2014 \u043f\u043e\u043b\u0435, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432. \u042d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c `id` (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e), \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0435 FACET-\u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0438 \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0443 \u0432\u0430\u0441 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 (\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0438 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u0443\u044e \u0441\u0445\u0435\u043c\u0443).\n\n\u0415\u0441\u043b\u0438 \u0432 \u0432\u0430\u0448\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439 FACET, `field_name` \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0432\u043e \u0432\u0441\u0435\u0445 \u043d\u0438\u0445.\n\n`DISTINCT` \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 `count(distinct ...)` \u043f\u0435\u0440\u0435\u0434 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u043c `count(*)`, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0431\u0435\u0437 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_27\n\n<!-- response SQL -->\n\nCODE_BLOCK_28\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_29\n\n<!-- response JSON -->\n\nCODE_BLOCK_30\n\n<!-- end -->\n\n<!-- example Expressions -->\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e\u0432\u0435\u0440\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c. \u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u2014 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0446\u0435\u043d \u043f\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430\u043c:\n\n<!-- request SQL -->\n\nCODE_BLOCK_31\n\n<!-- response SQL -->\n\nCODE_BLOCK_32\n\n<!-- request JSON -->\n\nCODE_BLOCK_33\n\n<!-- response JSON -->\n\nCODE_BLOCK_34\n<!-- request PHP -->\nCODE_BLOCK_35\n<!-- response PHP -->\nCODE_BLOCK_36\n<!-- request Python -->\nCODE_BLOCK_37\n<!-- response Python -->\nCODE_BLOCK_38\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_39\n<!-- response Python-asyncio -->\nCODE_BLOCK_40\n\n<!-- request Javascript -->\nCODE_BLOCK_41\n<!-- response Javascript -->\nCODE_BLOCK_42\n\n<!-- request Java -->\nCODE_BLOCK_43\n<!-- response Java -->\nCODE_BLOCK_44\n\n<!-- request C# -->\nCODE_BLOCK_45\n<!-- response C# -->\nCODE_BLOCK_46\n\n<!-- request Rust -->\nCODE_BLOCK_47\n<!-- response Rust -->\nCODE_BLOCK_48\n\n<!-- request TypeScript -->\nCODE_BLOCK_49\n\n<!-- response TypeScript -->\nCODE_BLOCK_50"
        },
        "is_code_or_comment": false,
        "model": "openai:gpt-4.1-mini",
        "updated_at": 1766339908
    },
    "94aa5cd0c0f72406115dc4b8416c88642ac396a6e6e89637d2b03b8735877cfa": {
        "original": "When using SQL, a search with facets returns multiple result sets. The MySQL client/library/connector used **must** support multiple result sets in order to access the facet result sets.\n\n<!-- example Performance -->\n### Performance\n\nInternally, the `FACET` is a shorthand for executing a multi-query where the first query contains the main search query and the rest of the queries in the batch have each a clustering. As in the case of multi-query, the common query optimization can kick in for a faceted search, meaning the search query is executed only once, and the facets operate on the search query result, with each facet adding only a fraction of time to the total query time.\n\nTo check if the faceted search ran in an optimized mode, you can look in the [query log](../Logging/Query_logging.md), where all logged queries will contain an `xN` string, where `N` is the number of queries that ran in the optimized group. Alternatively, you can check the output of the [SHOW META](../Node_info_and_management/SHOW_META.md) statement, which will display a `multiplier` metric:\n\n<!-- request SQL -->\n\nCODE_BLOCK_103\n\n<!-- response SQL -->\n\nCODE_BLOCK_104\n\n<!-- end -->\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "\u5f53\u4f7f\u7528SQL\u65f6\uff0c\u5e26\u6709 facets \u7684\u641c\u7d22\u4f1a\u8fd4\u56de\u591a\u4e2a\u7ed3\u679c\u96c6\u3002MySQL\u5ba2\u6237\u7aef/\u5e93/\u8fde\u63a5\u5668\u6240\u4f7f\u7528\u7684 **\u5fc5\u987b** \u652f\u6301\u591a\u4e2a\u7ed3\u679c\u96c6\uff0c\u4ee5\u4fbf\u8bbf\u95ee facets \u7ed3\u679c\u96c6\u3002\n\n<!-- \u4f8b\u5b50 \u6027\u80fd -->\n### \u6027\u80fd\n\n\u5185\u90e8\uff0c`FACET` \u662f\u6267\u884c\u591a\u67e5\u8be2\u7684\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\uff0c\u5176\u4e2d\u7b2c\u4e00\u4e2a\u67e5\u8be2\u5305\u542b\u4e3b\u8981\u641c\u7d22\u67e5\u8be2\uff0c\u6279\u6b21\u4e2d\u7684\u5176\u4f59\u67e5\u8be2\u5404\u81ea\u5305\u542b\u805a\u7c7b\u3002\u6b63\u5982\u591a\u67e5\u8be2\u7684\u60c5\u51b5\u4e00\u6837\uff0c\u5bf9\u4e8e\u5e26\u6709 facets \u7684\u641c\u7d22\uff0c\u5e38\u89c1\u7684\u67e5\u8be2\u4f18\u5316\u53ef\u4ee5\u542f\u52a8\uff0c\u8fd9\u610f\u5473\u7740\u641c\u7d22\u67e5\u8be2\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u800c facets \u5219\u5728\u641c\u7d22\u67e5\u8be2\u7ed3\u679c\u4e0a\u64cd\u4f5c\uff0c\u6bcf\u4e2a facet \u53ea\u589e\u52a0\u603b\u67e5\u8be2\u65f6\u95f4\u7684\u4e00\u5c0f\u90e8\u5206\u3002\n\n\u8981\u68c0\u67e5 facets \u641c\u7d22\u662f\u5426\u4ee5\u4f18\u5316\u6a21\u5f0f\u8fd0\u884c\uff0c\u53ef\u4ee5\u5728 [\u67e5\u8be2\u65e5\u5fd7](../Logging/Query_logging.md) \u4e2d\u67e5\u627e\uff0c\u5176\u4e2d\u6240\u6709\u8bb0\u5f55\u7684\u67e5\u8be2\u5c06\u5305\u542b\u4e00\u4e2a `xN` \u5b57\u7b26\u4e32\uff0c`N` \u662f\u4f18\u5316\u7ec4\u4e2d\u8fd0\u884c\u7684\u67e5\u8be2\u6570\u91cf\u3002\u6216\u8005\uff0c\u53ef\u4ee5\u68c0\u67e5 [SHOW META](../Node_info_and_management/SHOW_META.md) \u8bed\u53e5\u7684\u8f93\u51fa\uff0c\u8be5\u8bed\u53e5\u5c06\u663e\u793a\u4e00\u4e2a `multiplier` \u6307\u6807\uff1a\n\n<!-- \u8bf7\u6c42 SQL -->\n\nCODE_BLOCK_103\n\n<!-- \u54cd\u5e94 SQL -->\n\nCODE_BLOCK_104\n\n<!-- \u7ed3\u675f -->\n<!-- \u6821\u5bf9 -->",
            "russian": "\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 SQL \u043f\u043e\u0438\u0441\u043a \u0441 \u0444\u0430\u0441\u0435\u0442\u0430\u043c\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0430\u0431\u043e\u0440\u043e\u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442/\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430/\u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 MySQL **\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e** \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u0431\u043e\u0440\u044b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043d\u0430\u0431\u043e\u0440\u0430\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0444\u0430\u0441\u0435\u0442\u043e\u0432.\n\n<!-- example Performance -->\n### \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\n\n\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435 `FACET` \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0433\u0434\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u0430 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043f\u0430\u043a\u0435\u0442\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u043a\u0430\u0436\u0434\u044b\u0439 \u0441\u0432\u043e\u044e \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u044e. \u041a\u0430\u043a \u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441 \u043c\u0443\u043b\u044c\u0442\u0438\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c, \u0434\u043b\u044f \u0444\u0430\u0441\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u0431\u0449\u0430\u044f \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0447\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0430 \u0444\u0430\u0441\u0435\u0442\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043f\u0440\u0438\u0447\u0435\u043c \u043a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0441\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043b\u0438\u0448\u044c \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0443\u044e \u0434\u043e\u043b\u044e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043a \u043e\u0431\u0449\u0435\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n\n\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043b\u0438 \u0444\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u0432 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 [\u0436\u0443\u0440\u043d\u0430\u043b \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432](../Logging/Query_logging.md), \u0433\u0434\u0435 \u0432\u0441\u0435 \u0437\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 `xN`, \u0433\u0434\u0435 `N` \u2014 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0432 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435. \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u043e, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u044b\u0432\u043e\u0434 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 [SHOW META](../Node_info_and_management/SHOW_META.md), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442 \u043c\u0435\u0442\u0440\u0438\u043a\u0443 `multiplier`:\n\n<!-- request SQL -->\n\nCODE_BLOCK_103\n\n<!-- response SQL -->\n\nCODE_BLOCK_104\n\n<!-- end -->\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1766374278
    },
    "dcf94d6fc5dad64ff8872026fa4346d7a83bee3086931554547283984151fdca": {
        "original": "<!-- request Go -->\nCODE_BLOCK_51\n\n<!-- response Go -->\nCODE_BLOCK_52\n\n<!-- end -->\n\n<!-- example Multi-level -->\n\n### Facet over multi-level grouping\n\nFacets can aggregate over multi-level grouping, with the result set being the same as if the query performed a multi-level grouping:\n\n<!-- request SQL -->\n\nCODE_BLOCK_53\n\n<!-- response SQL -->\n\nCODE_BLOCK_54\n<!-- end -->\n\n<!-- example histogram -->\n\n### Facet over histogram values\n\nFacets can aggregate over histogram values by constructing fixed-size buckets over the values.\nThe key function is:\n\nCODE_BLOCK_55\n\nThe histogram argument `interval` must be positive, and the histogram argument `offset` must be positive and less than `interval`. By default, the buckets are returned as an array. The histogram argument `keyed` makes the response a dictionary with the bucket keys.\n\n<!-- request SQL -->\n\nCODE_BLOCK_56\n\n<!-- response SQL -->\n\nCODE_BLOCK_57\n<!-- request JSON -->\n\nCODE_BLOCK_58\n\n<!-- response JSON -->\nCODE_BLOCK_59\n<!-- request JSON 2 -->\n\nCODE_BLOCK_60\n\n<!-- response JSON 2 -->\nCODE_BLOCK_61\n<!-- end -->\n\n<!-- example histogram_date -->\n\n### Facet over histogram date values\n\nFacets can aggregate over histogram date values, which is similar to the normal histogram. The difference is that the interval is specified using a date or time expression. Such expressions require special support because the intervals are not always of fixed length. Values are rounded to the closest bucket using the following key function:\n\nCODE_BLOCK_62\n\nThe histogram parameter `calendar_interval` understands months to have different amounts of days.\nUnlike `calendar_interval`, the `fixed_interval` parameter uses a fixed number of units and does not deviate, regardless of where it falls on the calendar. However `fixed_interval` cannot process units such as months because a month is not a fixed quantity. Attempting to specify units like weeks or months for `fixed_interval` will result in an error.\nThe accepted intervals are described in the [date_histogram](../Functions/Date_and_time_functions.md#DATE_HISTOGRAM%28%29) expression. By default, the buckets are returned as an array. The histogram argument `keyed` makes the response a dictionary with the bucket keys.\n\n<!-- request SQL -->\n\nCODE_BLOCK_63\n\n<!-- response SQL -->\n\nCODE_BLOCK_64\n<!-- request JSON -->\n\nCODE_BLOCK_65\n\n<!-- response JSON -->\nCODE_BLOCK_66\n<!-- end -->\n\n<!-- example facet range -->\n\n### Facet over set of ranges\n\nFacets can aggregate over a set of ranges. The values are checked against the bucket range, where each bucket includes the `from` value and excludes the `to` value from the range.\nSetting the `keyed` property to `true` makes the response a dictionary with the bucket keys rather than an array.\n\n<!-- request SQL -->\n\nCODE_BLOCK_67\n\n<!-- response SQL -->\n\nCODE_BLOCK_68\n<!-- request JSON -->\n\nCODE_BLOCK_69\n\n<!-- response JSON -->\nCODE_BLOCK_70\n<!-- request JSON 2 -->\n\nCODE_BLOCK_71\n\n<!-- response JSON 2 -->\nCODE_BLOCK_72\n<!-- end -->\n\n<!-- example facet range_date -->\n\n### Facet over set of date ranges\n\nFacets can aggregate over a set of date ranges, which is similar to the normal range. The difference is that the `from` and `to` values can be expressed in [Date math](../Functions/Date_and_time_functions.md#Date-math) expressions. This aggregation includes the `from` value and excludes the `to` value for each range. Setting the `keyed` property to `true` makes the response a dictionary with the bucket keys rather than an array.\n\n<!-- request SQL -->\n\nCODE_BLOCK_73\n\n<!-- response SQL -->\n\nCODE_BLOCK_74\n<!-- request JSON -->\n\nCODE_BLOCK_75\n\n<!-- response JSON -->\nCODE_BLOCK_76\n<!-- end -->\n\n<!-- example Ordering -->\n### Ordering in facet result\n\nFacets support the `ORDER BY` clause just like a standard query. Each facet can have its own ordering, and the facet ordering doesn't affect the main result set's ordering, which is determined by the main query's `ORDER BY`. Sorting can be done on attribute name, count (using `COUNT(*)`, `COUNT(DISTINCT attribute_name)`), or the special `FACET()` function, which provides the aggregated data values. By default, a query with `ORDER BY COUNT(*)` will sort in descending order.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_77\n\n<!-- response SQL -->\n\nCODE_BLOCK_78\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_79\n\n<!-- response JSON -->\n\nCODE_BLOCK_80\n\n<!-- end -->\n\n<!-- example Size -->\n### Size of facet result\n\nBy default, each facet result set is limited to 20 values. The number of facet values can be controlled with the `LIMIT` clause individually for each facet by providing either a number of values to return in the format `LIMIT count` or with an offset as `LIMIT offset, count`.\n\nThe maximum facet values that can be returned is limited by the query's `max_matches` setting. If you want to implement dynamic `max_matches` (limiting `max_matches` to offset + per page for better performance), it must be taken into account that a too low `max_matches` value can affect the number of facet values. In this case, a minimum `max_matches` value should be used that is sufficient to cover the number of facet values.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_81\n\n<!-- response SQL -->\n\nCODE_BLOCK_82\n<!-- request JSON -->\n\nCODE_BLOCK_83\n\n<!-- response JSON -->\n\nCODE_BLOCK_84\n<!-- request PHP -->\nCODE_BLOCK_85\n<!-- response PHP -->\nCODE_BLOCK_86\n<!-- request Python -->\nCODE_BLOCK_87\n<!-- response Python -->\nCODE_BLOCK_88\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_89\n<!-- response Python-asyncio -->\nCODE_BLOCK_90\n\n<!-- request Javascript -->\nCODE_BLOCK_91\n<!-- response Javascript -->\nCODE_BLOCK_92\n\n<!-- request Java -->\nCODE_BLOCK_93\n<!-- response Java -->\nCODE_BLOCK_94\n\n<!-- request C# -->\nCODE_BLOCK_95\n<!-- response C# -->\nCODE_BLOCK_96\n\n<!-- request Rust -->\nCODE_BLOCK_97\n<!-- response Rust -->\nCODE_BLOCK_98\n\n<!-- request TypeScript -->\nCODE_BLOCK_99\n<!-- response TypeScript -->\nCODE_BLOCK_100\n\n<!-- request Go -->\nCODE_BLOCK_101\n<!-- response Go -->\nCODE_BLOCK_102\n\n<!-- end -->\n### Returned result set",
        "translations": {
            "chinese": "<!-- request Go -->\nCODE_BLOCK_51\n\n<!-- response Go -->\nCODE_BLOCK_52\n\n<!-- end -->\n\n<!-- example Multi-level -->\n\n### \u591a\u7ea7\u5206\u7ec4\u7684Facet\n\nFacets\u53ef\u4ee5\u5bf9\u591a\u7ea7\u5206\u7ec4\u8fdb\u884c\u805a\u5408\uff0c\u7ed3\u679c\u96c6\u4e0e\u67e5\u8be2\u6267\u884c\u591a\u7ea7\u5206\u7ec4\u65f6\u7684\u7ed3\u679c\u76f8\u540c\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_53\n\n<!-- response SQL -->\n\nCODE_BLOCK_54\n<!-- end -->\n\n<!-- example histogram -->\n\n### \u57fa\u4e8e\u76f4\u65b9\u56fe\u503c\u7684Facet\n\nFacets\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u56fa\u5b9a\u5927\u5c0f\u7684\u6876\u6765\u5bf9\u503c\u8fdb\u884c\u76f4\u65b9\u56fe\u805a\u5408\u3002\n\u952e\u51fd\u6570\u662f\uff1a\n\nCODE_BLOCK_55\n\n\u76f4\u65b9\u56fe\u53c2\u6570`interval`\u5fc5\u987b\u4e3a\u6b63\u6570\uff0c\u76f4\u65b9\u56fe\u53c2\u6570`offset`\u5fc5\u987b\u4e3a\u6b63\u6570\u4e14\u5c0f\u4e8e`interval`\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6876\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\u76f4\u65b9\u56fe\u53c2\u6570`keyed`\u4f7f\u5f97\u54cd\u5e94\u4ee5\u5b57\u5178\u5f62\u5f0f\u8fd4\u56de\u6876\u952e\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_56\n\n<!-- response SQL -->\n\nCODE_BLOCK_57\n<!-- request JSON -->\n\nCODE_BLOCK_58\n\n<!-- response JSON -->\nCODE_BLOCK_59\n<!-- request JSON 2 -->\n\nCODE_BLOCK_60\n\n<!-- response JSON 2 -->\nCODE_BLOCK_61\n<!-- end -->\n\n<!-- example histogram_date -->\n\n### \u57fa\u4e8e\u65e5\u671f\u76f4\u65b9\u56fe\u503c\u7684Facet\n\nFacets\u53ef\u4ee5\u5bf9\u65e5\u671f\u76f4\u65b9\u56fe\u503c\u8fdb\u884c\u805a\u5408\uff0c\u8fd9\u4e0e\u666e\u901a\u76f4\u65b9\u56fe\u7c7b\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u533a\u95f4\u7531\u65e5\u671f\u6216\u65f6\u95f4\u8868\u8fbe\u5f0f\u6307\u5b9a\u3002\u6b64\u7c7b\u8868\u8fbe\u5f0f\u9700\u8981\u7279\u6b8a\u652f\u6301\uff0c\u56e0\u4e3a\u533a\u95f4\u957f\u5ea6\u4e0d\u603b\u662f\u56fa\u5b9a\u7684\u3002\u503c\u4f1a\u6839\u636e\u4ee5\u4e0b\u952e\u51fd\u6570\u56db\u820d\u4e94\u5165\u5230\u6700\u8fd1\u7684\u6876\uff1a\n\nCODE_BLOCK_62\n\n\u76f4\u65b9\u56fe\u53c2\u6570`calendar_interval`\u7406\u89e3\u6708\u4efd\u5177\u6709\u4e0d\u540c\u7684\u5929\u6570\u3002\n\u4e0e`calendar_interval`\u4e0d\u540c\uff0c`fixed_interval`\u53c2\u6570\u4f7f\u7528\u56fa\u5b9a\u6570\u91cf\u7684\u5355\u4f4d\uff0c\u65e0\u8bba\u5176\u5728\u65e5\u5386\u4e2d\u7684\u4f4d\u7f6e\u5982\u4f55\uff0c\u90fd\u4e0d\u4f1a\u504f\u79bb\u3002\u4f46\u662f`fixed_interval`\u65e0\u6cd5\u5904\u7406\u5982\u5468\u6216\u6708\u8fd9\u6837\u7684\u5355\u4f4d\uff0c\u56e0\u4e3a\u6708\u4e0d\u662f\u4e00\u4e2a\u56fa\u5b9a\u6570\u91cf\u3002\u5c1d\u8bd5\u4e3a`fixed_interval`\u6307\u5b9a\u5982\u5468\u6216\u6708\u8fd9\u6837\u7684\u5355\u4f4d\u5c06\u5bfc\u81f4\u9519\u8bef\u3002\n\u63a5\u53d7\u7684\u533a\u95f4\u5728[\u65e5\u671f\u76f4\u65b9\u56fe](../Functions/Date_and_time_functions.md#DATE_HISTOGRAM%28%29)\u8868\u8fbe\u5f0f\u4e2d\u63cf\u8ff0\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6876\u4ee5\u6570\u7ec4\u5f62\u5f0f\u8fd4\u56de\u3002\u76f4\u65b9\u56fe\u53c2\u6570`keyed`\u4f7f\u5f97\u54cd\u5e94\u4ee5\u5b57\u5178\u5f62\u5f0f\u8fd4\u56de\u6876\u952e\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_63\n\n<!-- response SQL -->\n\nCODE_BLOCK_64\n<!-- request JSON -->\n\nCODE_BLOCK_65\n\n<!-- response JSON -->\nCODE_BLOCK_66\n<!-- end -->\n\n<!-- example facet range -->\n\n### \u57fa\u4e8e\u8303\u56f4\u7684Facet\n\nFacets\u53ef\u4ee5\u5bf9\u4e00\u7ec4\u8303\u56f4\u8fdb\u884c\u805a\u5408\u3002\u503c\u4f1a\u4e0e\u6876\u8303\u56f4\u8fdb\u884c\u68c0\u67e5\uff0c\u5176\u4e2d\u6bcf\u4e2a\u6876\u5305\u62ec`from`\u503c\u5e76\u6392\u9664`to`\u503c\u3002\n\u5c06`keyed`\u5c5e\u6027\u8bbe\u7f6e\u4e3a`true`\u4f7f\u5f97\u54cd\u5e94\u4ee5\u5b57\u5178\u5f62\u5f0f\u8fd4\u56de\u6876\u952e\uff0c\u800c\u4e0d\u662f\u6570\u7ec4\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_67\n\n<!-- response SQL -->\n\nCODE_BLOCK_68\n<!-- request JSON -->\n\nCODE_BLOCK_69\n\n<!-- response JSON -->\nCODE_BLOCK_70\n<!-- request JSON 2 -->\n\nCODE_BLOCK_71\n\n<!-- response JSON 2 -->\nCODE_BLOCK_72\n<!-- end -->\n\n<!-- example facet range_date -->\n\n### \u57fa\u4e8e\u65e5\u671f\u8303\u56f4\u7684Facet\n\nFacets\u53ef\u4ee5\u5bf9\u4e00\u7ec4\u65e5\u671f\u8303\u56f4\u8fdb\u884c\u805a\u5408\uff0c\u8fd9\u4e0e\u666e\u901a\u8303\u56f4\u7c7b\u4f3c\u3002\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c`from`\u548c`to`\u503c\u53ef\u4ee5\u4f7f\u7528[\u65e5\u671f\u6570\u5b66](../Functions/Date_and_time_functions.md#Date-math)\u8868\u8fbe\u5f0f\u8868\u793a\u3002\u6b64\u805a\u5408\u5305\u62ec`from`\u503c\u5e76\u6392\u9664\u6bcf\u4e2a\u8303\u56f4\u7684`to`\u503c\u3002\u5c06`keyed`\u5c5e\u6027\u8bbe\u7f6e\u4e3a`true`\u4f7f\u5f97\u54cd\u5e94\u4ee5\u5b57\u5178\u5f62\u5f0f\u8fd4\u56de\u6876\u952e\uff0c\u800c\u4e0d\u662f\u6570\u7ec4\u3002\n\n<!-- request SQL -->\n\nCODE_BLOCK_73\n\n<!-- response SQL -->\n\nCODE_BLOCK_74\n<!-- request JSON -->\n\nCODE_BLOCK_75\n\n<!-- response JSON -->\nCODE_BLOCK_76\n<!-- end -->\n\n<!-- example Ordering -->\n### Facet\u7ed3\u679c\u4e2d\u7684\u6392\u5e8f\n\nFacets\u652f\u6301`ORDER BY`\u5b50\u53e5\uff0c\u5c31\u50cf\u6807\u51c6\u67e5\u8be2\u4e00\u6837\u3002\u6bcf\u4e2aFacet\u53ef\u4ee5\u6709\u81ea\u5df1\u7684\u6392\u5e8f\u65b9\u5f0f\uff0cFacet\u7684\u6392\u5e8f\u4e0d\u4f1a\u5f71\u54cd\u4e3b\u7ed3\u679c\u96c6\u7684\u6392\u5e8f\uff0c\u8fd9\u7531\u4e3b\u67e5\u8be2\u7684`ORDER BY`\u51b3\u5b9a\u3002\u6392\u5e8f\u53ef\u4ee5\u57fa\u4e8e\u5c5e\u6027\u540d\u3001\u8ba1\u6570\uff08\u4f7f\u7528`COUNT(*)`\u3001`COUNT(DISTINCT attribute_name)`\uff09\u6216\u7279\u6b8a\u7684`FACET()`\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u63d0\u4f9b\u805a\u5408\u6570\u636e\u503c\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5e26\u6709`ORDER BY COUNT(*)`\u7684\u67e5\u8be2\u5c06\u6309\u964d\u5e8f\u6392\u5e8f\u3002\n\n<!-- intro -->\n##### SQL\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_77\n\n<!-- response SQL -->\n\nCODE_BLOCK_78\n\n<!-- intro -->\n##### JSON\uff1a\n\n<!-- request JSON -->\n\nCODE_BLOCK_79\n\n<!-- response JSON -->\n\nCODE_BLOCK_80\n\n<!-- end -->\n\n<!-- example Size -->\n### Facet\u7ed3\u679c\u7684\u5927\u5c0f\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2aFacet\u7ed3\u679c\u96c6\u4ec5\u9650\u4e8e20\u4e2a\u503c\u3002\u53ef\u4ee5\u901a\u8fc7`LIMIT`\u5b50\u53e5\u5355\u72ec\u4e3a\u6bcf\u4e2aFacet\u63a7\u5236Facet\u503c\u7684\u6570\u91cf\uff0c\u63d0\u4f9b\u8fd4\u56de\u503c\u7684\u6570\u91cf\u683c\u5f0f`LIMIT count`\u6216\u4f7f\u7528\u504f\u79fb\u91cf`LIMIT offset, count`\u3002\n\n\u8fd4\u56de\u7684\u6700\u5927Facet\u503c\u6570\u91cf\u53d7\u67e5\u8be2\u7684`max_matches`\u8bbe\u7f6e\u9650\u5236\u3002\u5982\u679c\u60a8\u60f3\u5b9e\u73b0\u52a8\u6001`max_matches`\uff08\u9650\u5236`max_matches`\u4e3a\u504f\u79fb\u91cf+\u6bcf\u9875\u4ee5\u63d0\u9ad8\u6027\u80fd\uff09\uff0c\u5fc5\u987b\u8003\u8651\u5230\u8fc7\u4f4e\u7684`max_matches`\u503c\u53ef\u80fd\u4f1a\u5f71\u54cdFacet\u503c\u7684\u6570\u91cf\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5e94\u4f7f\u7528\u8db3\u4ee5\u8986\u76d6Facet\u503c\u6570\u91cf\u7684\u6700\u5c0f`max_matches`\u503c\u3002\n\n<!-- intro -->\n##### SQL\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_81\n\n<!-- response SQL -->\n\nCODE_BLOCK_82\n<!-- request JSON -->\n\nCODE_BLOCK_83\n\n<!-- response JSON -->\n\nCODE_BLOCK_84\n<!-- request PHP -->\nCODE_BLOCK_85\n<!-- response PHP -->\nCODE_BLOCK_86\n<!-- request Python -->\nCODE_BLOCK_87\n<!-- response Python -->\nCODE_BLOCK_88\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_89\n<!-- response Python-asyncio -->\nCODE_BLOCK_90\n\n<!-- request Javascript -->\nCODE_BLOCK_91\n<!-- response Javascript -->\nCODE_BLOCK_92\n\n<!-- request Java -->\nCODE_BLOCK_93\n<!-- response Java -->\nCODE_BLOCK_94\n\n<!-- request C# -->\nCODE_BLOCK_95\n<!-- response C# -->\nCODE_BLOCK_96\n\n<!-- request Rust -->\nCODE_BLOCK_97\n<!-- response Rust -->\nCODE_BLOCK_98\n\n<!-- request TypeScript -->\nCODE_BLOCK_99\n<!-- response TypeScript -->\nCODE_BLOCK_100\n\n<!-- request Go -->\nCODE_BLOCK_101\n<!-- response Go -->\nCODE_BLOCK_102\n\n<!-- end -->\n### \u8fd4\u56de\u7684\u7ed3\u679c\u96c6",
            "russian": "<!-- request Go -->\nCODE_BLOCK_51\n\n<!-- response Go -->\nCODE_BLOCK_52\n\n<!-- end -->\n\n<!-- example Multi-level -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0435\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0435, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0438\u043c \u0436\u0435, \u043a\u0430\u043a \u0435\u0441\u043b\u0438 \u0431\u044b \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0443:\n\n<!-- request SQL -->\n\nCODE_BLOCK_53\n\n<!-- response SQL -->\n\nCODE_BLOCK_54\n<!-- end -->\n\n<!-- example histogram -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u044f \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b (\u0431\u0430\u043a\u0435\u0442\u044b) \u0434\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.\n\u041a\u043b\u044e\u0447\u0435\u0432\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f:\n\nCODE_BLOCK_55\n\n\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `interval` \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c, \u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `offset` \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0438 \u043c\u0435\u043d\u044c\u0448\u0435 `interval`. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0431\u0430\u043a\u0435\u0442\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430. \u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `keyed` \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u0431\u0430\u043a\u0435\u0442\u043e\u0432.\n\n<!-- request SQL -->\n\nCODE_BLOCK_56\n\n<!-- response SQL -->\n\nCODE_BLOCK_57\n<!-- request JSON -->\n\nCODE_BLOCK_58\n\n<!-- response JSON -->\nCODE_BLOCK_59\n<!-- request JSON 2 -->\n\nCODE_BLOCK_60\n\n<!-- response JSON 2 -->\nCODE_BLOCK_61\n<!-- end -->\n\n<!-- example histogram_date -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u0434\u0430\u0442\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u0434\u0430\u0442, \u0447\u0442\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u0435. \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u0442\u044b \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438. \u0422\u0430\u043a\u0438\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u043c\u0435\u044e\u0442 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0434\u043b\u0438\u043d\u0443. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u043a\u0440\u0443\u0433\u043b\u044f\u044e\u0442\u0441\u044f \u0434\u043e \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0433\u043e \u0431\u0430\u043a\u0435\u0442\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:\n\nCODE_BLOCK_62\n\n\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `calendar_interval` \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442, \u0447\u0442\u043e \u043c\u0435\u0441\u044f\u0446\u044b \u0438\u043c\u0435\u044e\u0442 \u0440\u0430\u0437\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439.\n\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 `calendar_interval`, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 `fixed_interval` \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446 \u0438 \u043d\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u044f\u0435\u0442\u0441\u044f, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0442\u043e\u0433\u043e, \u043d\u0430 \u043a\u0430\u043a\u0443\u044e \u0434\u0430\u0442\u0443 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044f \u043e\u043d \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0441\u044f. \u041e\u0434\u043d\u0430\u043a\u043e `fixed_interval` \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0435\u0434\u0438\u043d\u0438\u0446\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043c\u0435\u0441\u044f\u0446\u044b, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043c\u0435\u0441\u044f\u0446 \u2014 \u044d\u0442\u043e \u043d\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u0435\u043b\u0438\u0447\u0438\u043d\u0430. \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0434\u0438\u043d\u0438\u0446\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043d\u0435\u0434\u0435\u043b\u0438 \u0438\u043b\u0438 \u043c\u0435\u0441\u044f\u0446\u044b, \u0434\u043b\u044f `fixed_interval` \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u0442 \u043a \u043e\u0448\u0438\u0431\u043a\u0435.\n\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0438 [date_histogram](../Functions/Date_and_time_functions.md#DATE_HISTOGRAM%28%29). \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0431\u0430\u043a\u0435\u0442\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u0430. \u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u044b `keyed` \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u0431\u0430\u043a\u0435\u0442\u043e\u0432.\n\n<!-- request SQL -->\n\nCODE_BLOCK_63\n\n<!-- response SQL -->\n\nCODE_BLOCK_64\n<!-- request JSON -->\n\nCODE_BLOCK_65\n\n<!-- response JSON -->\nCODE_BLOCK_66\n<!-- end -->\n\n<!-- example facet range -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0443 \u0431\u0430\u043a\u0435\u0442\u0430, \u0433\u0434\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0431\u0430\u043a\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `from` \u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `to` \u0438\u0437 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430.\n\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 `keyed` \u0432 `true` \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u0431\u0430\u043a\u0435\u0442\u043e\u0432, \u0430 \u043d\u0435 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432.\n\n<!-- request SQL -->\n\nCODE_BLOCK_67\n\n<!-- response SQL -->\n\nCODE_BLOCK_68\n<!-- request JSON -->\n\nCODE_BLOCK_69\n\n<!-- response JSON -->\nCODE_BLOCK_70\n<!-- request JSON 2 -->\n\nCODE_BLOCK_71\n\n<!-- response JSON 2 -->\nCODE_BLOCK_72\n<!-- end -->\n\n<!-- example facet range_date -->\n\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432 \u0434\u0430\u0442\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043d\u0430\u0431\u043e\u0440\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432 \u0434\u0430\u0442, \u0447\u0442\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u043e\u0431\u044b\u0447\u043d\u043e\u043c\u0443 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0443. \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f `from` \u0438 `to` \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 [Date math](../Functions/Date_and_time_functions.md#Date-math). \u042d\u0442\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `from` \u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `to` \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 `keyed` \u0432 `true` \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438 \u0431\u0430\u043a\u0435\u0442\u043e\u0432, \u0430 \u043d\u0435 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432.\n\n<!-- request SQL -->\n\nCODE_BLOCK_73\n\n<!-- response SQL -->\n\nCODE_BLOCK_74\n<!-- request JSON -->\n\nCODE_BLOCK_75\n\n<!-- response JSON -->\nCODE_BLOCK_76\n<!-- end -->\n\n<!-- example Ordering -->\n### \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0444\u0430\u0441\u0435\u0442\u0430\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 `ORDER BY`, \u043a\u0430\u043a \u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441. \u041a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0441\u0435\u0442 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0443, \u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0444\u0430\u0441\u0435\u0442\u0430 \u043d\u0435 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c `ORDER BY` \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0443 (\u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c `COUNT(*)`, `COUNT(DISTINCT attribute_name)`) \u0438\u043b\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 `FACET()`, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0437\u0430\u043f\u0440\u043e\u0441 \u0441 `ORDER BY COUNT(*)` \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_77\n\n<!-- response SQL -->\n\nCODE_BLOCK_78\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_79\n\n<!-- response JSON -->\n\nCODE_BLOCK_80\n\n<!-- end -->\n\n<!-- example Size -->\n### \u0420\u0430\u0437\u043c\u0435\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0444\u0430\u0441\u0435\u0442\u0430\n\n\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u0444\u0430\u0441\u0435\u0442\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d 20 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f `LIMIT` \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0444\u0430\u0441\u0435\u0442\u0430, \u0443\u043a\u0430\u0437\u0430\u0432 \u043b\u0438\u0431\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 `LIMIT count`, \u043b\u0438\u0431\u043e \u0441\u043e \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u043c \u043a\u0430\u043a `LIMIT offset, count`.\n\n\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 `max_matches` \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 `max_matches` (\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u044f `max_matches` \u0434\u043e offset + per page \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0435\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438), \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c, \u0447\u0442\u043e \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043d\u0438\u0437\u043a\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `max_matches` \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 `max_matches`, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0435 \u0434\u043b\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u0430.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_81\n\n<!-- response SQL -->\n\nCODE_BLOCK_82\n<!-- request JSON -->\n\nCODE_BLOCK_83\n\n<!-- response JSON -->\n\nCODE_BLOCK_84\n<!-- request PHP -->\nCODE_BLOCK_85\n<!-- response PHP -->\nCODE_BLOCK_86\n<!-- request Python -->\nCODE_BLOCK_87\n<!-- response Python -->\nCODE_BLOCK_88\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_89\n<!-- response Python-asyncio -->\nCODE_BLOCK_90\n\n<!-- request Javascript -->\nCODE_BLOCK_91\n<!-- response Javascript -->\nCODE_BLOCK_92\n\n<!-- request Java -->\nCODE_BLOCK_93\n<!-- response Java -->\nCODE_BLOCK_94\n\n<!-- request C# -->\nCODE_BLOCK_95\n<!-- response C# -->\nCODE_BLOCK_96\n\n<!-- request Rust -->\nCODE_BLOCK_97\n<!-- response Rust -->\nCODE_BLOCK_98\n\n<!-- request TypeScript -->\nCODE_BLOCK_99\n<!-- response TypeScript -->\nCODE_BLOCK_100\n\n<!-- request Go -->\nCODE_BLOCK_101\n<!-- response Go -->\nCODE_BLOCK_102\n\n<!-- end -->\n### \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1766374311
    },
    "192d1dc1e1c4f90d9dc2296cef7c1fc8db76dd1d3c94722c68d4d66258a32b1a": {
        "original": "# Faceted search\n\nFaceted search is as crucial to a modern search application as [autocomplete](../Searching/Autocomplete.md), [spell correction](../Searching/Spell_correction.md), and search keywords [highlighting](../Searching/Highlighting.md), especially in e-commerce products.\n\n![Faceted search](faceted.png)\n\nFaceted search comes in handy when dealing with large quantities of data and various interconnected properties, such as size, color, manufacturer, or other factors. When querying vast amounts of data, search results frequently include numerous entries that don't match the user's expectations. Faceted search enables the end user to explicitly define the criteria they want their search results to satisfy.\n\nIn Manticore Search, there's an optimization that maintains the result set of the original query and reuses it for each facet calculation. Since the aggregations are applied to an already calculated subset of documents, they're fast, and the total execution time can often be only slightly longer than the initial query. Facets can be added to any query, and the facet can be any attribute or expression. A facet result includes the facet values and the facet counts. Facets can be accessed using the SQL `SELECT` statement by declaring them at the very end of the query.\n\n## Aggregations\n\n<!-- example Aggregations -->\n### SQL\nThe facet values can originate from an attribute, a JSON property within a JSON attribute, or an expression. Facet values can also be aliased, but the **alias must be unique** across all result sets (main query result set and other facets result sets). The facet value is derived from the aggregated attribute/expression, but it can also come from another attribute/expression.\n\nCODE_BLOCK_0\n\nMultiple facet declarations must be separated by a whitespace.\n\n### HTTP JSON\n\nFacets can be defined in the `aggs` node:\n\nCODE_BLOCK_1\n\nwhere:\n* `group name` is an alias assigned to the aggregation\n* `field` value must contain the name of the attribute or expression being faceted\n* optional `size` specifies the maximum number of buckets to include in the result. When not specified, it inherits the main query's limit. More details can be found in the [Size of facet result](../Searching/Faceted_search.md#Size-of-facet-result) section.\n* optional `sort` specifies an array of attributes and/or additional properties using the same syntax as the [\"sort\" parameter in the main query](../Searching/Sorting_and_ranking.md#Sorting-via-JSON).\n\nThe result set will contain an `aggregations` node with the returned facets, where `key` is the aggregated value and `doc_count` is the aggregation count.\n\nCODE_BLOCK_2\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_3\n\n<!-- response SQL -->\n\nCODE_BLOCK_4\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_5\n\n<!-- response JSON -->\n\nCODE_BLOCK_6\n\n<!-- intro -->\n##### PHP:\n\n<!-- request PHP -->\nCODE_BLOCK_7\n<!-- response PHP -->\nCODE_BLOCK_8\n\n<!-- intro -->\n##### Python:\n\n<!-- request Python -->\nCODE_BLOCK_9\n<!-- response Python -->\nCODE_BLOCK_10\n\n<!-- intro -->\n##### Python-asyncio:\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_11\n<!-- response Python-asyncio -->\nCODE_BLOCK_12\n\n<!-- intro -->\n##### Javascript:\n\n<!-- request Javascript -->\nCODE_BLOCK_13\n<!-- response Javascript -->\nCODE_BLOCK_14\n\n<!-- intro -->\n##### Java:\n\n<!-- request Java -->\nCODE_BLOCK_15\n<!-- response Java -->\nCODE_BLOCK_16\n\n<!-- intro -->\n##### C#:\n\n<!-- request C# -->\nCODE_BLOCK_17\n<!-- response C# -->\nCODE_BLOCK_18\n\n<!-- intro -->\n##### Rust:\n\n<!-- request Rust -->\nCODE_BLOCK_19\n<!-- response Rust -->\nCODE_BLOCK_20\n\n<!-- request TypeScript -->\nCODE_BLOCK_21\n<!-- response TypeScript -->\nCODE_BLOCK_22\n\n<!-- request Go -->\nCODE_BLOCK_23\n<!-- response Go -->\nCODE_BLOCK_24\n\n<!-- end -->\n\n<!-- example Another_attribute -->\n\n### Faceting by aggregation over another attribute\n\nData can be faceted by aggregating another attribute or expression. For example if the documents contain both the brand id and name, we can return in facet the brand names, but aggregate the brand ids. This can be done by using `FACET {expr1} BY {expr2}`\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_25\n\n<!-- response SQL -->\n\nCODE_BLOCK_26\n\n<!-- end -->\n\n<!-- example Distinct -->\n\n### Faceting without duplicates\n\nIf you need to remove duplicates from the buckets returned by FACET, you can use `DISTINCT field_name`, where `field_name` is the field by which you want to perform deduplication. It can also be `id` (which is the default) if you make a FACET query against a distributed table and are not sure whether you have unique ids in the tables (the tables should be local and have the same schema).\n\nIf you have multiple FACET declarations in your query, `field_name` should be the same in all of them.\n\n`DISTINCT` returns an additional column `count(distinct ...)` before the column `count(*)`, allowing you to obtain both results without needing to make another query.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_27\n\n<!-- response SQL -->\n\nCODE_BLOCK_28\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_29\n\n<!-- response JSON -->\n\nCODE_BLOCK_30\n\n<!-- end -->\n\n<!-- example Expressions -->\n### Facet over expressions\n\nFacets can aggregate over expressions. A classic example is the segmentation of prices by specific ranges:\n\n<!-- request SQL -->\n\nCODE_BLOCK_31\n\n<!-- response SQL -->\n\nCODE_BLOCK_32\n\n<!-- request JSON -->\n\nCODE_BLOCK_33\n\n<!-- response JSON -->\n\nCODE_BLOCK_34\n<!-- request PHP -->\nCODE_BLOCK_35\n<!-- response PHP -->\nCODE_BLOCK_36\n<!-- request Python -->\nCODE_BLOCK_37\n<!-- response Python -->\nCODE_BLOCK_38\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_39\n<!-- response Python-asyncio -->\nCODE_BLOCK_40\n\n<!-- request Javascript -->\nCODE_BLOCK_41\n<!-- response Javascript -->\nCODE_BLOCK_42\n\n<!-- request Java -->\nCODE_BLOCK_43\n<!-- response Java -->\nCODE_BLOCK_44\n\n<!-- request C# -->\nCODE_BLOCK_45\n<!-- response C# -->\nCODE_BLOCK_46\n\n<!-- request Rust -->\nCODE_BLOCK_47\n<!-- response Rust -->\nCODE_BLOCK_48\n\n<!-- request TypeScript -->\nCODE_BLOCK_49\n\n<!-- response TypeScript -->\nCODE_BLOCK_50",
        "translations": {
            "chinese": "# \u5206\u9762\u641c\u7d22\n\n\u5206\u9762\u641c\u7d22\u5bf9\u4e8e\u73b0\u4ee3\u641c\u7d22\u5e94\u7528\u6765\u8bf4\uff0c\u4e0e[\u81ea\u52a8\u8865\u5168](../Searching/Autocomplete.md)\u3001[\u62fc\u5199\u7ea0\u6b63](../Searching/Spell_correction.md)\u548c\u641c\u7d22\u5173\u952e\u8bcd[\u9ad8\u4eae](../Searching/Highlighting.md)\u540c\u6837\u91cd\u8981\uff0c\u5c24\u5176\u662f\u5728\u7535\u5b50\u5546\u52a1\u4ea7\u54c1\u4e2d\u3002\n\n![\u5206\u9762\u641c\u7d22](faceted.png)\n\n\u5f53\u5904\u7406\u5927\u91cf\u6570\u636e\u548c\u5404\u79cd\u76f8\u4e92\u5173\u8054\u7684\u5c5e\u6027\u65f6\uff0c\u4f8b\u5982\u5c3a\u5bf8\u3001\u989c\u8272\u3001\u5236\u9020\u5546\u6216\u5176\u4ed6\u56e0\u7d20\uff0c\u5206\u9762\u641c\u7d22\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\u3002\u5728\u67e5\u8be2\u6d77\u91cf\u6570\u636e\u65f6\uff0c\u641c\u7d22\u7ed3\u679c\u5e38\u5e38\u5305\u542b\u8bb8\u591a\u4e0d\u7b26\u5408\u7528\u6237\u9884\u671f\u7684\u6761\u76ee\u3002\u5206\u9762\u641c\u7d22\u4f7f\u6700\u7ec8\u7528\u6237\u80fd\u591f\u660e\u786e\u5b9a\u4e49\u4ed6\u4eec\u5e0c\u671b\u641c\u7d22\u7ed3\u679c\u6ee1\u8db3\u7684\u6761\u4ef6\u3002\n\n\u5728 Manticore Search \u4e2d\uff0c\u6709\u4e00\u9879\u4f18\u5316\u529f\u80fd\uff0c\u5b83\u4f1a\u4fdd\u7559\u539f\u59cb\u67e5\u8be2\u7684\u7ed3\u679c\u96c6\uff0c\u5e76\u5728\u6bcf\u4e2a\u5206\u9762\u8ba1\u7b97\u4e2d\u91cd\u590d\u4f7f\u7528\u3002\u7531\u4e8e\u805a\u5408\u64cd\u4f5c\u5e94\u7528\u4e8e\u5df2\u8ba1\u7b97\u597d\u7684\u6587\u6863\u5b50\u96c6\uff0c\u56e0\u6b64\u901f\u5ea6\u5f88\u5feb\uff0c\u603b\u6267\u884c\u65f6\u95f4\u901a\u5e38\u4ec5\u6bd4\u521d\u59cb\u67e5\u8be2\u7a0d\u957f\u4e00\u4e9b\u3002\u5206\u9762\u53ef\u4ee5\u6dfb\u52a0\u5230\u4efb\u4f55\u67e5\u8be2\u4e2d\uff0c\u5206\u9762\u53ef\u4ee5\u662f\u4efb\u4f55\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u3002\u5206\u9762\u7ed3\u679c\u5305\u62ec\u5206\u9762\u503c\u548c\u5206\u9762\u8ba1\u6570\u3002\u53ef\u4ee5\u901a\u8fc7\u5728\u67e5\u8be2\u672b\u5c3e\u58f0\u660e\u5206\u9762\uff0c\u4f7f\u7528 SQL `SELECT` \u8bed\u53e5\u8bbf\u95ee\u5206\u9762\u3002\n\n## \u805a\u5408\n\n<!-- example Aggregations -->\n### SQL\n\u5206\u9762\u503c\u53ef\u4ee5\u6765\u81ea\u5c5e\u6027\u3001JSON \u5c5e\u6027\u5185\u7684 JSON \u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u3002\u5206\u9762\u503c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\uff0c\u4f46**\u522b\u540d\u5728\u6240\u6709\u7ed3\u679c\u96c6\uff08\u4e3b\u67e5\u8be2\u7ed3\u679c\u96c6\u548c\u5176\u4ed6\u5206\u9762\u7ed3\u679c\u96c6\uff09\u4e2d\u5fc5\u987b\u662f\u552f\u4e00\u7684**\u3002\u5206\u9762\u503c\u6e90\u81ea\u805a\u5408\u7684\u5c5e\u6027/\u8868\u8fbe\u5f0f\uff0c\u4f46\u4e5f\u53ef\u4ee5\u6765\u81ea\u53e6\u4e00\u4e2a\u5c5e\u6027/\u8868\u8fbe\u5f0f\u3002\n\nCODE_BLOCK_0\n\n\u591a\u4e2a\u5206\u9762\u58f0\u660e\u5fc5\u987b\u7528\u7a7a\u683c\u5206\u9694\u3002\n\n### HTTP JSON\n\n\u5206\u9762\u53ef\u4ee5\u5728 `aggs` \u8282\u70b9\u4e2d\u5b9a\u4e49\uff1a\n\nCODE_BLOCK_1\n\n\u5176\u4e2d\uff1a\n* `group name` \u662f\u5206\u914d\u7ed9\u805a\u5408\u7684\u522b\u540d\n* `field` \u503c\u5fc5\u987b\u5305\u542b\u8981\u8fdb\u884c\u5206\u9762\u7684\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u7684\u540d\u79f0\n* \u53ef\u9009\u7684 `size` \u6307\u5b9a\u7ed3\u679c\u4e2d\u5305\u542b\u7684\u6700\u5927\u6876\u6570\u3002\u672a\u6307\u5b9a\u65f6\uff0c\u7ee7\u627f\u4e3b\u67e5\u8be2\u7684\u9650\u5236\u3002\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u53ef\u4ee5\u5728[\u5206\u9762\u7ed3\u679c\u5927\u5c0f](../Searching/Faceted_search.md#Size-of-facet-result)\u90e8\u5206\u627e\u5230\u3002\n* \u53ef\u9009\u7684 `sort` \u6307\u5b9a\u4e00\u4e2a\u5c5e\u6027\u6570\u7ec4\u548c/\u6216\u9644\u52a0\u5c5e\u6027\uff0c\u4f7f\u7528\u4e0e[\u4e3b\u67e5\u8be2\u4e2d\u7684\"sort\"\u53c2\u6570](../Searching/Sorting_and_ranking.md#Sorting-via-JSON)\u76f8\u540c\u7684\u8bed\u6cd5\u3002\n\n\u7ed3\u679c\u96c6\u5c06\u5305\u542b\u4e00\u4e2a `aggregations` \u8282\u70b9\uff0c\u5176\u4e2d\u5305\u542b\u8fd4\u56de\u7684\u5206\u9762\uff0c`key` \u662f\u805a\u5408\u503c\uff0c`doc_count` \u662f\u805a\u5408\u8ba1\u6570\u3002\n\nCODE_BLOCK_2\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_3\n\n<!-- response SQL -->\n\nCODE_BLOCK_4\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_5\n\n<!-- response JSON -->\n\nCODE_BLOCK_6\n\n<!-- intro -->\n##### PHP:\n\n<!-- request PHP -->\nCODE_BLOCK_7\n<!-- response PHP -->\nCODE_BLOCK_8\n\n<!-- intro -->\n##### Python:\n\n<!-- request Python -->\nCODE_BLOCK_9\n<!-- response Python -->\nCODE_BLOCK_10\n\n<!-- intro -->\n##### Python-asyncio:\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_11\n<!-- response Python-asyncio -->\nCODE_BLOCK_12\n\n<!-- intro -->\n##### Javascript:\n\n<!-- request Javascript -->\nCODE_BLOCK_13\n<!-- response Javascript -->\nCODE_BLOCK_14\n\n<!-- intro -->\n##### Java:\n\n<!-- request Java -->\nCODE_BLOCK_15\n<!-- response Java -->\nCODE_BLOCK_16\n\n<!-- intro -->\n##### C#:\n\n<!-- request C# -->\nCODE_BLOCK_17\n<!-- response C# -->\nCODE_BLOCK_18\n\n<!-- intro -->\n##### Rust:\n\n<!-- request Rust -->\nCODE_BLOCK_19\n<!-- response Rust -->\nCODE_BLOCK_20\n\n<!-- request TypeScript -->\nCODE_BLOCK_21\n<!-- response TypeScript -->\nCODE_BLOCK_22\n\n<!-- request Go -->\nCODE_BLOCK_23\n<!-- response Go -->\nCODE_BLOCK_24\n\n<!-- end -->\n\n<!-- example Another_attribute -->\n\n### \u901a\u8fc7\u805a\u5408\u53e6\u4e00\u4e2a\u5c5e\u6027\u8fdb\u884c\u5206\u9762\n\n\u53ef\u4ee5\u901a\u8fc7\u805a\u5408\u53e6\u4e00\u4e2a\u5c5e\u6027\u6216\u8868\u8fbe\u5f0f\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u9762\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6587\u6863\u540c\u65f6\u5305\u542b\u54c1\u724cID\u548c\u540d\u79f0\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5206\u9762\u4e2d\u8fd4\u56de\u54c1\u724c\u540d\u79f0\uff0c\u4f46\u805a\u5408\u54c1\u724cID\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 `FACET {expr1} BY {expr2}` \u6765\u5b9e\u73b0\u3002\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_25\n\n<!-- response SQL -->\n\nCODE_BLOCK_26\n\n<!-- end -->\n\n<!-- example Distinct -->\n\n### \u53bb\u91cd\u5206\u9762\n\n\u5982\u679c\u9700\u8981\u4ece FACET \u8fd4\u56de\u7684\u6876\u4e2d\u79fb\u9664\u91cd\u590d\u9879\uff0c\u53ef\u4ee5\u4f7f\u7528 `DISTINCT field_name`\uff0c\u5176\u4e2d `field_name` \u662f\u60a8\u5e0c\u671b\u7528\u4e8e\u53bb\u91cd\u7684\u5b57\u6bb5\u3002\u5982\u679c\u60a8\u5bf9\u5206\u5e03\u5f0f\u8868\u8fdb\u884c FACET \u67e5\u8be2\uff0c\u5e76\u4e14\u4e0d\u786e\u5b9a\u8868\u4e2d\u662f\u5426\u6709\u552f\u4e00\u7684ID\uff08\u8868\u5e94\u8be5\u662f\u672c\u5730\u7684\u4e14\u5177\u6709\u76f8\u540c\u7684\u6a21\u5f0f\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f `id`\uff08\u8fd9\u662f\u9ed8\u8ba4\u503c\uff09\u3002\n\n\u5982\u679c\u67e5\u8be2\u4e2d\u6709\u591a\u4e2a FACET \u58f0\u660e\uff0c`field_name` \u5728\u6240\u6709\u58f0\u660e\u4e2d\u5e94\u8be5\u76f8\u540c\u3002\n\n`DISTINCT` \u4f1a\u5728 `count(*)` \u5217\u4e4b\u524d\u8fd4\u56de\u4e00\u4e2a\u989d\u5916\u7684\u5217 `count(distinct ...)`\uff0c\u4f7f\u60a8\u65e0\u9700\u8fdb\u884c\u53e6\u4e00\u4e2a\u67e5\u8be2\u5373\u53ef\u83b7\u5f97\u4e24\u4e2a\u7ed3\u679c\u3002\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_27\n\n<!-- response SQL -->\n\nCODE_BLOCK_28\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_29\n\n<!-- response JSON -->\n\nCODE_BLOCK_30\n\n<!-- end -->\n\n<!-- example Expressions -->\n### \u57fa\u4e8e\u8868\u8fbe\u5f0f\u7684\u5206\u9762\n\n\u5206\u9762\u53ef\u4ee5\u57fa\u4e8e\u8868\u8fbe\u5f0f\u8fdb\u884c\u805a\u5408\u3002\u4e00\u4e2a\u7ecf\u5178\u7684\u4f8b\u5b50\u662f\u6309\u7279\u5b9a\u8303\u56f4\u5bf9\u4ef7\u683c\u8fdb\u884c\u5206\u6bb5\uff1a\n\n<!-- request SQL -->\n\nCODE_BLOCK_31\n\n<!-- response SQL -->\n\nCODE_BLOCK_32\n\n<!-- request JSON -->\n\nCODE_BLOCK_33\n\n<!-- response JSON -->\n\nCODE_BLOCK_34\n<!-- request PHP -->\nCODE_BLOCK_35\n<!-- response PHP -->\nCODE_BLOCK_36\n<!-- request Python -->\nCODE_BLOCK_37\n<!-- response Python -->\nCODE_BLOCK_38\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_39\n<!-- response Python-asyncio -->\nCODE_BLOCK_40\n\n<!-- request Javascript -->\nCODE_BLOCK_41\n<!-- response Javascript -->\nCODE_BLOCK_42\n\n<!-- request Java -->\nCODE_BLOCK_43\n<!-- response Java -->\nCODE_BLOCK_44\n\n<!-- request C# -->\nCODE_BLOCK_45\n<!-- response C# -->\nCODE_BLOCK_46\n\n<!-- request Rust -->\nCODE_BLOCK_47\n<!-- response Rust -->\nCODE_BLOCK_48\n\n<!-- request TypeScript -->\nCODE_BLOCK_49\n\n<!-- response TypeScript -->\nCODE_BLOCK_50",
            "russian": "# \u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a\n\n\u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u0442\u0430\u043a \u0436\u0435 \u0432\u0430\u0436\u0435\u043d \u0434\u043b\u044f \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043a\u0430\u043a [\u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435](../Searching/Autocomplete.md), [\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0440\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u0438](../Searching/Spell_correction.md) \u0438 [\u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u0430](../Searching/Highlighting.md) \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0441\u043b\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043c\u0435\u0440\u0446\u0438\u0438.\n\n![\u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a](faceted.png)\n\n\u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u043f\u043e\u043b\u0435\u0437\u0435\u043d \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c\u0438 \u043e\u0431\u044a\u0435\u043c\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a \u0440\u0430\u0437\u043c\u0435\u0440, \u0446\u0432\u0435\u0442, \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0444\u0430\u043a\u0442\u043e\u0440\u044b. \u041f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043e\u0433\u0440\u043e\u043c\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043c\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0447\u0430\u0441\u0442\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439, \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0424\u0430\u0441\u0435\u0442\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u044f\u0432\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430.\n\n\u0412 Manticore Search \u0435\u0441\u0442\u044c \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0435\u0433\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0444\u0430\u0441\u0435\u0442\u0430. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a \u0443\u0436\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u0434\u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043e\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0431\u044b\u0441\u0442\u0440\u043e, \u0438 \u043e\u0431\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0447\u0430\u0441\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u0438\u0448\u044c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0443 \u043f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043a \u043b\u044e\u0431\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443, \u0438 \u0444\u0430\u0441\u0435\u0442\u043e\u043c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0430\u0441\u0435\u0442\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442\u0430 \u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0444\u0430\u0441\u0435\u0442\u043e\u0432. \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0444\u0430\u0441\u0435\u0442\u0430\u043c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 SQL `SELECT`, \u043e\u0431\u044a\u044f\u0432\u0438\u0432 \u0438\u0445 \u0432 \u0441\u0430\u043c\u043e\u043c \u043a\u043e\u043d\u0446\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n\n## \u0410\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438\n\n<!-- example Aggregations -->\n### SQL\n\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442\u0430 \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u0437 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 JSON \u0432\u043d\u0443\u0442\u0440\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 JSON \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u0435\u0442\u0430 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b, \u043d\u043e **\u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c** \u0432\u043e \u0432\u0441\u0435\u0445 \u043d\u0430\u0431\u043e\u0440\u0430\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 (\u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u043d\u0430\u0431\u043e\u0440\u044b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0444\u0430\u0441\u0435\u0442\u043e\u0432). \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0444\u0430\u0441\u0435\u0442\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430/\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430/\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f.\n\nCODE_BLOCK_0\n\n\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439 \u0444\u0430\u0441\u0435\u0442\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u044b \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u043c.\n\n### HTTP JSON\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u044b \u0432 \u0443\u0437\u043b\u0435 `aggs`:\n\nCODE_BLOCK_1\n\n\u0433\u0434\u0435:\n* `group name` - \u044d\u0442\u043e \u043f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c, \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u043d\u044b\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438\n* `field` \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0438\u043c\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0444\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n* \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 `size` \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u0440\u0443\u043f\u043f \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d, \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043b\u0438\u043c\u0438\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 [\u0420\u0430\u0437\u043c\u0435\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0444\u0430\u0441\u0435\u0442\u0430](../Searching/Faceted_search.md#Size-of-facet-result).\n* \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 `sort` \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043c\u0430\u0441\u0441\u0438\u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u0438/\u0438\u043b\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0442\u043e\u0442 \u0436\u0435 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441, \u0447\u0442\u043e \u0438 [\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \"sort\" \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435](../Searching/Sorting_and_ranking.md#Sorting-via-JSON).\n\n\u041d\u0430\u0431\u043e\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0443\u0437\u0435\u043b `aggregations` \u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043d\u044b\u043c\u0438 \u0444\u0430\u0441\u0435\u0442\u0430\u043c\u0438, \u0433\u0434\u0435 `key` - \u044d\u0442\u043e \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0430 `doc_count` - \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0439.\n\nCODE_BLOCK_2\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_3\n\n<!-- response SQL -->\n\nCODE_BLOCK_4\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_5\n\n<!-- response JSON -->\n\nCODE_BLOCK_6\n\n<!-- intro -->\n##### PHP:\n\n<!-- request PHP -->\nCODE_BLOCK_7\n<!-- response PHP -->\nCODE_BLOCK_8\n\n<!-- intro -->\n##### Python:\n\n<!-- request Python -->\nCODE_BLOCK_9\n<!-- response Python -->\nCODE_BLOCK_10\n\n<!-- intro -->\n##### Python-asyncio:\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_11\n<!-- response Python-asyncio -->\nCODE_BLOCK_12\n\n<!-- intro -->\n##### Javascript:\n\n<!-- request Javascript -->\nCODE_BLOCK_13\n<!-- response Javascript -->\nCODE_BLOCK_14\n\n<!-- intro -->\n##### Java:\n\n<!-- request Java -->\nCODE_BLOCK_15\n<!-- response Java -->\nCODE_BLOCK_16\n\n<!-- intro -->\n##### C#:\n\n<!-- request C# -->\nCODE_BLOCK_17\n<!-- response C# -->\nCODE_BLOCK_18\n\n<!-- intro -->\n##### Rust:\n\n<!-- request Rust -->\nCODE_BLOCK_19\n<!-- response Rust -->\nCODE_BLOCK_20\n\n<!-- request TypeScript -->\nCODE_BLOCK_21\n<!-- response TypeScript -->\nCODE_BLOCK_22\n\n<!-- request Go -->\nCODE_BLOCK_23\n<!-- response Go -->\nCODE_BLOCK_24\n\n<!-- end -->\n\n<!-- example Another_attribute -->\n\n### \u0424\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\n\n\u0414\u0430\u043d\u043d\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0444\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043f\u0443\u0442\u0435\u043c \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u0438\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u043a\u0430\u043a \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0431\u0440\u0435\u043d\u0434\u0430, \u0442\u0430\u043a \u0438 \u0435\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0432 \u0444\u0430\u0441\u0435\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0431\u0440\u0435\u043d\u0434\u043e\u0432, \u043d\u043e \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u0431\u0440\u0435\u043d\u0434\u043e\u0432. \u042d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e `FACET {expr1} BY {expr2}`\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_25\n\n<!-- response SQL -->\n\nCODE_BLOCK_26\n\n<!-- end -->\n\n<!-- example Distinct -->\n\n### \u0424\u0430\u0441\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0435\u0437 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432\n\n\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b \u0438\u0437 \u0433\u0440\u0443\u043f\u043f, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0445 FACET, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c `DISTINCT field_name`, \u0433\u0434\u0435 `field_name` - \u044d\u0442\u043e \u043f\u043e\u043b\u0435, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u0435\u0434\u0443\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044e. \u042d\u0442\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c `id` (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e), \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 FACET \u043a \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0438 \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0435\u0441\u0442\u044c \u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 (\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0438 \u0438\u043c\u0435\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u0443\u044e \u0441\u0445\u0435\u043c\u0443).\n\n\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439 FACET \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435, `field_name` \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0432\u043e \u0432\u0441\u0435\u0445 \u043d\u0438\u0445.\n\n`DISTINCT` \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 `count(distinct ...)` \u043f\u0435\u0440\u0435\u0434 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u043c `count(*)`, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0431\u0435\u0437 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u0435\u043b\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441.\n\n<!-- intro -->\n##### SQL:\n\n<!-- request SQL -->\n\nCODE_BLOCK_27\n\n<!-- response SQL -->\n\nCODE_BLOCK_28\n\n<!-- intro -->\n##### JSON:\n\n<!-- request JSON -->\n\nCODE_BLOCK_29\n\n<!-- response JSON -->\n\nCODE_BLOCK_30\n\n<!-- end -->\n\n<!-- example Expressions -->\n### \u0424\u0430\u0441\u0435\u0442 \u043f\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\n\n\u0424\u0430\u0441\u0435\u0442\u044b \u043c\u043e\u0433\u0443\u0442 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c. \u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 - \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0446\u0435\u043d \u043f\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430\u043c:\n\n<!-- request SQL -->\n\nCODE_BLOCK_31\n\n<!-- response SQL -->\n\nCODE_BLOCK_32\n\n<!-- request JSON -->\n\nCODE_BLOCK_33\n\n<!-- response JSON -->\n\nCODE_BLOCK_34\n<!-- request PHP -->\nCODE_BLOCK_35\n<!-- response PHP -->\nCODE_BLOCK_36\n<!-- request Python -->\nCODE_BLOCK_37\n<!-- response Python -->\nCODE_BLOCK_38\n\n<!-- request Python-asyncio -->\nCODE_BLOCK_39\n<!-- response Python-asyncio -->\nCODE_BLOCK_40\n\n<!-- request Javascript -->\nCODE_BLOCK_41\n<!-- response Javascript -->\nCODE_BLOCK_42\n\n<!-- request Java -->\nCODE_BLOCK_43\n<!-- response Java -->\nCODE_BLOCK_44\n\n<!-- request C# -->\nCODE_BLOCK_45\n<!-- response C# -->\nCODE_BLOCK_46\n\n<!-- request Rust -->\nCODE_BLOCK_47\n<!-- response Rust -->\nCODE_BLOCK_48\n\n<!-- request TypeScript -->\nCODE_BLOCK_49\n\n<!-- response TypeScript -->\nCODE_BLOCK_50"
        },
        "is_code_or_comment": false,
        "model": "deepseek/deepseek-v3.2",
        "updated_at": 1766374312
    }
}