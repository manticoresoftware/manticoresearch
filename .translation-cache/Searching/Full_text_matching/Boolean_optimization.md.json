{
  "063130e6fbcece04add0ee2d7bff8c96edc7295192691fa1504cebfb76b75e13": {
    "original": "# Boolean optimization\n\nFull-text queries are automatically optimized when the `boolean_simplify` search option (or the corresponding [global setting](../../Server_settings/Searchd.md#boolean_simplify)) is set to `1` (enabled by default). Some of the changes made by this optimization include:\n\n* Excess brackets: `((A | B) | C)` becomes `(A | B | C)`; `((A B) C)` becomes `(A B C)`\n\n* Excess AND NOT: `((A !N1) !N2)` becomes `(A !(N1 | N2))`\n\n* Common NOT: `((A !N) | (B !N))` becomes `((A | B) !N)`\n\n* Common Compound NOT: `((A !(N AA)) | (B !(N BB)))` becomes `(((A | B) !N) | (A !AA) | (B !BB))` if the cost of evaluating N is greater than the sum of evaluating A and B\n\n* Common subterm: `((A (N | AA)) | (B (N | BB)))` becomes `(((A | B) N) | (A AA) | (B BB))` if the cost of evaluating N is greater than the sum of evaluating A and B\n\n* Common keywords: `(A | \"A B\"~N)` becomes `A`; `(\"A B\" | \"A B C\")` becomes `\"A B\"`; `(\"A B\"~N | \"A B C\"~N)` becomes `(\"A B\"~N)`\n\n* Common phrase: `(\"X A B\" | \"Y A B\")` becomes `(\"(\"X\"|\"Y\") A B\")`\n\n* Common AND NOT: `((A !X) | (A !Y) | (A !Z))` becomes `(A !(X Y Z))`\n\n* Common OR NOT: `((A !(N | N1)) | (B !(N | N2)))` becomes `(( (A !N1) | (B !N2) ) !N)`\n\nNote that optimizing queries consumes CPU time, so in some cases for very simple queries or hand-optimized queries, you may achieve better results by disabling optimization with `boolean_simplify=0`.\n\nQueries like `-dog`, which could potentially include all documents from the collection are not allowed by default. To allow them, you must specify `not_terms_only_allowed=1` either as a [global setting](../../Server_settings/Searchd.md#not_terms_only_allowed) or as a [search option](../../Server_settings/Searchd.md#not_terms_only_allowed).\n\n<!-- proofread -->",
    "translations": {
      "chinese": "# 布尔优化\n\n全文查询在设置 `boolean_simplify` 搜索选项（或相应的[全局设置](../../Server_settings/Searchd.md#boolean_simplify)）为 `1`（默认启用）时会自动优化。此优化所做的一些更改包括：\n\n* 多余的括号：`((A | B) | C)` 变为 `(A | B | C)`；`((A B) C)` 变为 `(A B C)`\n\n* 多余的 AND NOT：`((A !N1) !N2)` 变为 `(A !(N1 | N2))`\n\n* 公共 NOT：`((A !N) | (B !N))` 变为 `((A | B) !N)`\n\n* 公共复合 NOT：`((A !(N AA)) | (B !(N BB)))` 如果评估 N 的成本大于评估 A 和 B 之和，则变为 `(((A | B) !N) | (A !AA) | (B !BB))`\n\n* 公共子项：`((A (N | AA)) | (B (N | BB)))` 如果评估 N 的成本大于评估 A 和 B 之和，则变为 `(((A | B) N) | (A AA) | (B BB))`\n\n* 公共关键词：`(A | \"A B\"~N)` 变为 `A`；`(\"A B\" | \"A B C\")` 变为 `\"A B\"`；`(\"A B\"~N | \"A B C\"~N)` 变为 `(\"A B\"~N)`\n\n* 公共短语：`(\"X A B\" | \"Y A B\")` 变为 `(\"(\"X\"|\"Y\") A B\")`\n\n* 公共 AND NOT：`((A !X) | (A !Y) | (A !Z))` 变为 `(A !(X Y Z))`\n\n* 公共 OR NOT：`((A !(N | N1)) | (B !(N | N2)))` 变为 `(( (A !N1) | (B !N2) ) !N)`\n\n请注意，优化查询会消耗 CPU 时间，因此在某些非常简单的查询或手动优化的查询中，禁用优化（`boolean_simplify=0`）可能会获得更好的效果。\n\n像 `-dog` 这样的查询，可能包含集合中的所有文档，默认是不允许的。要允许它们，必须将 `not_terms_only_allowed=1` 指定为[全局设置](../../Server_settings/Searchd.md#not_terms_only_allowed)或[搜索选项](../../Server_settings/Searchd.md#not_terms_only_allowed)。\n\n<!-- proofread -->",
      "russian": "# Булева оптимизация\n\nПолнотекстовые запросы автоматически оптимизируются, когда опция поиска `boolean_simplify` (или соответствующая [глобальная настройка](../../Server_settings/Searchd.md#boolean_simplify)) установлена в `1` (включена по умолчанию). Некоторые изменения, вносимые этой оптимизацией, включают:\n\n* Избыточные скобки: `((A | B) | C)` становится `(A | B | C)`; `((A B) C)` становится `(A B C)`\n\n* Избыточный AND NOT: `((A !N1) !N2)` становится `(A !(N1 | N2))`\n\n* Общий NOT: `((A !N) | (B !N))` становится `((A | B) !N)`\n\n* Общий составной NOT: `((A !(N AA)) | (B !(N BB)))` становится `(((A | B) !N) | (A !AA) | (B !BB))`, если стоимость вычисления N больше суммы вычислений A и B\n\n* Общий подтермин: `((A (N | AA)) | (B (N | BB)))` становится `(((A | B) N) | (A AA) | (B BB))`, если стоимость вычисления N больше суммы вычислений A и B\n\n* Общие ключевые слова: `(A | \"A B\"~N)` становится `A`; `(\"A B\" | \"A B C\")` становится `\"A B\"`; `(\"A B\"~N | \"A B C\"~N)` становится `(\"A B\"~N)`\n\n* Общая фраза: `(\"X A B\" | \"Y A B\")` становится `(\"(\"X\"|\"Y\") A B\")`\n\n* Общий AND NOT: `((A !X) | (A !Y) | (A !Z))` становится `(A !(X Y Z))`\n\n* Общий OR NOT: `((A !(N | N1)) | (B !(N | N2)))` становится `(( (A !N1) | (B !N2) ) !N)`\n\nОбратите внимание, что оптимизация запросов потребляет процессорное время, поэтому в некоторых случаях для очень простых запросов или вручную оптимизированных запросов вы можете получить лучшие результаты, отключив оптимизацию с помощью `boolean_simplify=0`.\n\nЗапросы типа `-dog`, которые потенциально могут включать все документы из коллекции, по умолчанию не разрешены. Чтобы разрешить их, необходимо указать `not_terms_only_allowed=1` либо как [глобальную настройку](../../Server_settings/Searchd.md#not_terms_only_allowed), либо как [опцию поиска](../../Server_settings/Searchd.md#not_terms_only_allowed).\n\n<!-- proofread -->"
    },
    "is_code_or_comment": false
  }
}
