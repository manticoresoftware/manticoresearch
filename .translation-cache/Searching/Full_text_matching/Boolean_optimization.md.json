{
    "9f049f8e6fa6526b67823387cea5eedb392ac2970cc7be00f3336a921a34b0e5": {
        "original": "# Boolean optimization\nFull-text queries are automatically optimized when the `boolean_simplify` search option (or the corresponding [global setting](../../Server_settings/Searchd.md#boolean_simplify)) is set to `1` (enabled by default). Some of the changes made by this optimization include:\n\n* Excess brackets: `((A | B) | C)` becomes `(A | B | C)`; `((A B) C)` becomes `(A B C)`\n* Excess AND NOT: `((A !N1) !N2)` becomes `(A !(N1 | N2))`\n* Common NOT: `((A !N) | (B !N))` becomes `((A | B) !N)`\n* Common Compound NOT: `((A !(N AA)) | (B !(N BB)))` becomes `(((A | B) !N) | (A !AA) | (B !BB))` if the cost of evaluating N is greater than the sum of evaluating A and B\n* Common subterm: `((A (N | AA)) | (B (N | BB)))` becomes `(((A | B) N) | (A AA) | (B BB))` if the cost of evaluating N is greater than the sum of evaluating A and B\n* Common keywords: `(A | \"A B\"~N)` becomes `A`; `(\"A B\" | \"A B C\")` becomes `\"A B\"`; `(\"A B\"~N | \"A B C\"~N)` becomes `(\"A B\"~N)`\n* Common phrase: `(\"X A B\" | \"Y A B\")` becomes `(\"(\"X\"|\"Y\") A B\")`\n* Common AND NOT: `((A !X) | (A !Y) | (A !Z))` becomes `(A !(X Y Z))`\n* Common OR NOT: `((A !(N | N1)) | (B !(N | N2)))` becomes `(( (A !N1) | (B !N2) ) !N)`\nNote that optimizing queries consumes CPU time, so in some cases for very simple queries or hand-optimized queries, you may achieve better results by disabling optimization with `boolean_simplify=0`.\n\nQueries like `-dog`, which could potentially include all documents from the collection are not allowed by default. To allow them, you must specify `not_terms_only_allowed=1` either as a [global setting](../../Server_settings/Searchd.md#not_terms_only_allowed) or as a [search option](../../Server_settings/Searchd.md#not_terms_only_allowed).\n\n<!-- proofread -->\n\n",
        "translations": {
            "chinese": "# \u5e03\u5c14\u4f18\u5316\n\u5f53\u5e03\u5c14\u7b80\u5316\u641c\u7d22\u9009\u9879\uff08\u6216\u76f8\u5e94\u7684\u5168\u5c40\u8bbe\u7f6e[\u670d\u52a1\u5668\u8bbe\u7f6e](../../Server_settings/Searchd.md#boolean_simplify)\uff09\u8bbe\u7f6e\u4e3a`1`\uff08\u9ed8\u8ba4\u542f\u7528\uff09\u65f6\uff0c\u5168\u6587\u672c\u67e5\u8be2\u4f1a\u81ea\u52a8\u8fdb\u884c\u4f18\u5316\u3002\u8fd9\u79cd\u4f18\u5316\u6240\u505a\u7684\u4e00\u4e9b\u66f4\u6539\u5305\u62ec\uff1a\n\n* \u8fc7\u5269\u62ec\u53f7\uff1a`((A | B) | C)` \u53d8\u4e3a `(A | B | C)`\uff1b`((A B) C)` \u53d8\u4e3a `(A B C)`\n* \u8fc7\u5269\u7684AND NOT\uff1a`((A !N1) !N2)` \u53d8\u4e3a `(A !(N1 | N2))`\n* \u5171\u540c\u7684NOT\uff1a`((A !N) | (B !N))` \u53d8\u4e3a `((A | B) !N)`\n* \u5171\u540c\u7684\u590d\u5408NOT\uff1a`((A !(N AA)) | (B !(N BB)))` \u53d8\u4e3a `(((A | B) !N) | (A !AA) | (B !BB))` \u5982\u679c\u8bc4\u4f30N\u7684\u6210\u672c\u5927\u4e8e\u8bc4\u4f30A\u548cB\u7684\u6210\u672c\u4e4b\u548c\n* \u5171\u540c\u7684\u5b50\u9879\uff1a`((A (N | AA)) | (B (N | BB)))` \u53d8\u4e3a `(((A | B) N) | (A AA) | (B BB))` \u5982\u679c\u8bc4\u4f30N\u7684\u6210\u672c\u5927\u4e8e\u8bc4\u4f30A\u548cB\u7684\u6210\u672c\u4e4b\u548c\n* \u5171\u540c\u7684\u5173\u952e\u5b57\uff1a`(A | \"A B\"~N)` \u53d8\u4e3a `A`\uff1b`(\"A B\" | \"A B C\")` \u53d8\u4e3a `\"A B\"`\uff1b`(\"A B\"~N | \"A B C\"~N)` \u53d8\u4e3a `(\"A B\"~N)`\n* \u5171\u540c\u7684\u77ed\u8bed\uff1a`(\"X A B\" | \"Y A B\")` \u53d8\u4e3a `(\"X\"|\"Y\") A B`\n* \u5171\u540c\u7684AND NOT\uff1a`((A !X) | (A !Y) | (A !Z))` \u53d8\u4e3a `(A !(X Y Z))`\n* \u5171\u540c\u7684OR NOT\uff1a`((A !(N | N1)) | (B !(N | N2)))` \u53d8\u4e3a `(( (A !N1) | (B !N2) ) !N)`\n\u8bf7\u6ce8\u610f\uff0c\u4f18\u5316\u67e5\u8be2\u4f1a\u6d88\u8017CPU\u65f6\u95f4\uff0c\u56e0\u6b64\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5bf9\u4e8e\u975e\u5e38\u7b80\u5355\u7684\u67e5\u8be2\u6216\u624b\u52a8\u4f18\u5316\u7684\u67e5\u8be2\uff0c\u901a\u8fc7\u5c06\u5e03\u5c14\u7b80\u5316\u8bbe\u7f6e\u4e3a`0`\u6765\u7981\u7528\u4f18\u5316\u53ef\u80fd\u4f1a\u83b7\u5f97\u66f4\u597d\u7684\u7ed3\u679c\u3002\n\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e0d\u5141\u8bb8\u50cf`-dog`\u8fd9\u6837\u7684\u67e5\u8be2\uff0c\u8be5\u67e5\u8be2\u53ef\u80fd\u5305\u542b\u96c6\u5408\u4e2d\u7684\u6240\u6709\u6587\u6863\u3002\u8981\u5141\u8bb8\u5b83\u4eec\uff0c\u60a8\u5fc5\u987b\u6307\u5b9a`not_terms_only_allowed=1`\u4f5c\u4e3a[\u5168\u5c40\u8bbe\u7f6e](../../Server_settings/Searchd.md#not_terms_only_allowed)\u6216\u4f5c\u4e3a[\u641c\u7d22\u9009\u9879](../../Server_settings/Searchd.md#not_terms_only_allowed)\u3002\n\n<!-- \u6821\u5bf9 -->",
            "russian": "# \u0411\u0443\u043b\u0435\u0432\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f\n\u041f\u043e\u043b\u043d\u043e\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f, \u043a\u043e\u0433\u0434\u0430 \u043e\u043f\u0446\u0438\u044f \u043f\u043e\u0438\u0441\u043a\u0430 `boolean_simplify` (\u0438\u043b\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0430\u044f [\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430](../../Server_settings/Searchd.md#boolean_simplify)) \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0432 `1` (\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e). \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439, \u0432\u043d\u0435\u0441\u0451\u043d\u043d\u044b\u0445 \u044d\u0442\u043e\u0439 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0435\u0439, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442:\n\n* \u041b\u0438\u0448\u043d\u0438\u0435 \u0441\u043a\u043e\u0431\u043a\u0438: `((A | B) | C)` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(A | B | C)`; `((A B) C)` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(A B C)`\n* \u041b\u0438\u0448\u043d\u0438\u0435 AND NOT: `((A !N1) !N2)` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(A !(N1 | N2))`\n* \u041e\u0431\u0449\u0438\u0439 NOT: `((A !N) | (B !N))` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `((A | B) !N)`\n* \u041e\u0431\u0449\u0438\u0439 \u0441\u043e\u0441\u0442\u0430\u0432\u043d\u043e\u0439 NOT: `((A !(N AA)) | (B !(N BB)))` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(((A | B) !N) | (A !AA) | (B !BB))`, \u0435\u0441\u043b\u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f N \u0431\u043e\u043b\u044c\u0448\u0435 \u0441\u0443\u043c\u043c\u044b \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f A \u0438 B\n* \u041e\u0431\u0449\u0438\u0439 \u043f\u043e\u0434\u0442\u0435\u0440\u043c\u0438\u043d: `((A (N | AA)) | (B (N | BB)))` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(((A | B) N) | (A AA) | (B BB))`, \u0435\u0441\u043b\u0438 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f N \u0431\u043e\u043b\u044c\u0448\u0435 \u0441\u0443\u043c\u043c\u044b \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f A \u0438 B\n* \u041e\u0431\u0449\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430: `(A | \"A B\"~N)` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `A`; `(\"A B\" | \"A B C\")` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `\"A B\"`; `(\"A B\"~N | \"A B C\"~N)` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(\"A B\"~N)`\n* \u041e\u0431\u0449\u0430\u044f \u0444\u0440\u0430\u0437\u0430: `(\"X A B\" | \"Y A B\")` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(\"(\"X\"|\"Y\") A B\")`\n* \u041e\u0431\u0449\u0438\u0439 AND NOT: `((A !X) | (A !Y) | (A !Z))` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(A !(X Y Z))`\n* \u041e\u0431\u0449\u0438\u0439 OR NOT: `((A !(N | N1)) | (B !(N | N2)))` \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f `(((A !N1) | (B !N2)) !N)`\n\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u0434\u043b\u044f \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438\u043b\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043b\u0443\u0447\u0448\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b, \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0432 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e `boolean_simplify=0`.\n\n\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0442\u0438\u043f\u0430 `-dog`, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e \u043c\u043e\u0433\u0443\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438, \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b. \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0438\u0445, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c `not_terms_only_allowed=1` \u043b\u0438\u0431\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 [\u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438](../../Server_settings/Searchd.md#not_terms_only_allowed), \u043b\u0438\u0431\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 [\u043e\u043f\u0446\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430](../../Server_settings/Searchd.md#not_terms_only_allowed).\n\n<!-- proofread -->"
        },
        "is_code_or_comment": false,
        "model": "qwen/qwen-2.5-7b-instruct",
        "updated_at": 1766375764
    },
    "__meta": {
        "source_text": "# Boolean optimization\nFull-text queries are automatically optimized when the `boolean_simplify` search option (or the corresponding [global setting](../../Server_settings/Searchd.md#boolean_simplify)) is set to `1` (enabled by default). Some of the changes made by this optimization include:\n\n* Excess brackets: `((A | B) | C)` becomes `(A | B | C)`; `((A B) C)` becomes `(A B C)`\n* Excess AND NOT: `((A !N1) !N2)` becomes `(A !(N1 | N2))`\n* Common NOT: `((A !N) | (B !N))` becomes `((A | B) !N)`\n* Common Compound NOT: `((A !(N AA)) | (B !(N BB)))` becomes `(((A | B) !N) | (A !AA) | (B !BB))` if the cost of evaluating N is greater than the sum of evaluating A and B\n* Common subterm: `((A (N | AA)) | (B (N | BB)))` becomes `(((A | B) N) | (A AA) | (B BB))` if the cost of evaluating N is greater than the sum of evaluating A and B\n* Common keywords: `(A | \"A B\"~N)` becomes `A`; `(\"A B\" | \"A B C\")` becomes `\"A B\"`; `(\"A B\"~N | \"A B C\"~N)` becomes `(\"A B\"~N)`\n* Common phrase: `(\"X A B\" | \"Y A B\")` becomes `(\"(\"X\"|\"Y\") A B\")`\n* Common AND NOT: `((A !X) | (A !Y) | (A !Z))` becomes `(A !(X Y Z))`\n* Common OR NOT: `((A !(N | N1)) | (B !(N | N2)))` becomes `(( (A !N1) | (B !N2) ) !N)`\nNote that optimizing queries consumes CPU time, so in some cases for very simple queries or hand-optimized queries, you may achieve better results by disabling optimization with `boolean_simplify=0`.\n\nQueries like `-dog`, which could potentially include all documents from the collection are not allowed by default. To allow them, you must specify `not_terms_only_allowed=1` either as a [global setting](../../Server_settings/Searchd.md#not_terms_only_allowed) or as a [search option](../../Server_settings/Searchd.md#not_terms_only_allowed).\n\n<!-- proofread -->\n\n",
        "updated_at": 1768530797,
        "source_md5": "ec69041e4f95354af0641401a37aad06"
    }
}