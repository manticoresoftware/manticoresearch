{
  "2d443adfee1df58d218520d448428a1c3eddfa9f6a56671e6c44440ad5208f4d": {
    "original": "For example `-e searchd_listen='9316:http|9307:mysql|$ip:5443:mysql_vip'` will add an additional SQL interface on port 9307, an SQL VIP listener on port 5443 running only on the instance's IP, and an HTTP listener on port 9316, in addition to the defaults on 9306 and 9308, respectively.\n\nCODE_BLOCK_16\n\n#### Startup flags\n\nTo start Manticore with custom startup flags, specify them as arguments when using docker run. Ensure you do not include the `searchd` command and include the `--nodetach` flag. Here's an example:\n\nCODE_BLOCK_17\n\n#### Running under non-root\n\nBy default, the main Manticore process `searchd` is running under user `manticore` inside the container, but the script which runs on starting the container is run under your default docker user which in most cases is `root`. If that's not what you want you can use `docker ... --user manticore` or `user: manticore` in docker compose yaml to make everything run under `manticore`. Read below about possible volume permissions issue you can get and how to solve it.\n\n#### Creating plain tables on startup\n\nTo build plain tables specified in your custom configuration file, you can use the `CREATE_PLAIN_TABLES=1` environment variable. It will execute `indexer --all` before Manticore starts. This is useful if you don't use volumes, and your tables are easy to recreate.\n\nCODE_BLOCK_18\n\n### Troubleshooting\n\n#### Permissions issue with a mounted volume\n\nIn case you are running Manticore Search docker under non-root (using `docker ... --user manticore` or `user: manticore` in docker compose yaml), you can face a permissions issue, for example:\n\nCODE_BLOCK_19\n\nThis can happen because the user which is used to run processes inside the container may have no permissions to modify the directory you have mounted to the container. To fix it you can `chown` or `chmod` the mounted directory. If you run the container under user `manticore` you need to do:\n\nCODE_BLOCK_20\n\nsince user `manticore` has ID 999 inside the container.\n\n<!-- proofread -->",
    "translations": {
      "chinese": "例如，`-e searchd_listen='9316:http|9307:mysql|$ip:5443:mysql_vip'` 将在默认的 9306 和 9308 端口之外，额外添加一个 9307 端口的 SQL 接口，一个仅在实例 IP 上运行的 5443 端口的 SQL VIP 监听器，以及一个 9316 端口的 HTTP 监听器。\n\nCODE_BLOCK_16\n\n#### 启动标志\n\n要使用自定义启动标志启动 Manticore，请在使用 docker run 时将它们作为参数指定。确保不要包含 `searchd` 命令，并包含 `--nodetach` 标志。示例如下：\n\nCODE_BLOCK_17\n\n#### 以非 root 用户运行\n\n默认情况下，主 Manticore 进程 `searchd` 在容器内以用户 `manticore` 运行，但启动容器时运行的脚本是以您的默认 docker 用户身份运行的，在大多数情况下是 `root`。如果这不是您想要的，可以使用 `docker ... --user manticore` 或在 docker compose yaml 中使用 `user: manticore` 使所有内容都以 `manticore` 用户身份运行。下面会介绍您可能遇到的卷权限问题及其解决方法。\n\n#### 启动时创建普通表\n\n要构建自定义配置文件中指定的普通表，可以使用环境变量 `CREATE_PLAIN_TABLES=1`。它将在 Manticore 启动前执行 `indexer --all`。如果您不使用卷，并且表容易重新创建，这非常有用。\n\nCODE_BLOCK_18\n\n### 故障排除\n\n#### 挂载卷的权限问题\n\n如果您以非 root 用户运行 Manticore Search docker（使用 `docker ... --user manticore` 或在 docker compose yaml 中使用 `user: manticore`），可能会遇到权限问题，例如：\n\nCODE_BLOCK_19\n\n这是因为用于在容器内运行进程的用户可能没有权限修改您挂载到容器的目录。为了解决此问题，您可以对挂载目录执行 `chown` 或 `chmod`。如果您以用户 `manticore` 运行容器，需要执行：\n\nCODE_BLOCK_20\n\n因为容器内用户 `manticore` 的 ID 是 999。\n\n<!-- proofread -->",
      "russian": "For example `-e searchd_listen='9316:http|9307:mysql|$ip:5443:mysql_vip'` will add an additional SQL interface on port 9307, an SQL VIP listener on port 5443 running only on the instance's IP, and an HTTP listener on port 9316, in addition to the defaults on 9306 and 9308, respectively.\n\nCODE_BLOCK_16\n\n#### Startup flags\n\nTo start Manticore with custom startup flags, specify them as arguments when using docker run. Ensure you do not include the `searchd` command and include the `--nodetach` flag. Here's an example:\n\nCODE_BLOCK_17\n\n#### Running under non-root\n\nBy default, the main Manticore process `searchd` is running under user `manticore` inside the container, but the script which runs on starting the container is run under your default docker user which in most cases is `root`. If that's not what you want you can use `docker ... --user manticore` or `user: manticore` in docker compose yaml to make everything run under `manticore`. Read below about possible volume permissions issue you can get and how to solve it.\n\n#### Creating plain tables on startup\n\nTo build plain tables specified in your custom configuration file, you can use the `CREATE_PLAIN_TABLES=1` environment variable. It will execute `indexer --all` before Manticore starts. This is useful if you don't use volumes, and your tables are easy to recreate.\n\nCODE_BLOCK_18\n\n### Troubleshooting\n\n#### Permissions issue with a mounted volume\n\nIn case you are running Manticore Search docker under non-root (using `docker ... --user manticore` or `user: manticore` in docker compose yaml), you can face a permissions issue, for example:\n\nCODE_BLOCK_19\n\nThis can happen because the user which is used to run processes inside the container may have no permissions to modify the directory you have mounted to the container. To fix it you can `chown` or `chmod` the mounted directory. If you run the container under user `manticore` you need to do:\n\nCODE_BLOCK_20\n\nsince user `manticore` has ID 999 inside the container.\n\n<!-- proofread -->"
    },
    "is_code_or_comment": false
  },
  "a6ff79d0818c45a5d0617b1ea0e6f2f74a9629ddb89cceb76a7b673990697adb": {
    "original": "# Starting and using Manticore in Docker\n\nThe image is based on [current release of Manticore package](https://manticoresearch.com/install/).\n\n[comment]: # (the below should be in sync with https://github.com/manticoresoftware/docker/blob/master/README.md)\n\nThe default configuration includes a sample Real-Time table and listens on the default ports:\n\n  * `9306` for connections from a MySQL client\n\n  * `9308` for connections via HTTP\n\n  * `9312` for connections via a binary protocol (e.g. in case you run a cluster)\n\nThe image comes with libraries for easy indexing data from MySQL, PostgreSQL, XML and CSV files.\n\n## How to run Manticore Search Docker image\n\n### Quick usage\n\nThe below is the simplest way to start Manticore in a container and log in to it via the mysql client:\n\nCODE_BLOCK_0\n\nNote that upon exiting the MySQL client, the Manticore container will be stopped and removed, resulting in no saved data. For information on using Manticore in a production environment, please see below.\n\nThe image comes with a sample table that can be loaded like this:\n\nCODE_BLOCK_1\n\nAlso, the mysql client has several sample queries in its history that you can run on the above table, just use Up/Down keys in the client to see and run them.\n\n### Production use\n\n#### Ports and mounting points\n\nFor data persistence the folder `/var/lib/manticore/` should be mounted to local storage or other desired storage engine.\n\nThe configuration file inside the instance is located at   `/etc/manticoresearch/manticore.conf`. For custom settings, this file should be mounted to your own configuration file.\n\nThe ports are 9306/9308/9312 for SQL/HTTP/Binary, expose them depending on how you are going to use Manticore. For example:\n\nCODE_BLOCK_2\n\nor\n\nCODE_BLOCK_3\n\nMake sure to remove `127.0.0.1:` if you want the ports to be available for external hosts.\n\n#### Manticore Columnar Library and Manticore Buddy\n\nThe Manticore Search Docker image comes with pre-installed [Manticore Columnar Library](https://github.com/manticoresoftware/columnar) and [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy)\n\n#### Docker-compose\n\nIn many cases, you may want to use Manticore in conjunction with other images specified in a Docker Compose YAML file. Below is the minimal recommended configuration for Manticore Search in a docker-compose.yml file:\n\nCODE_BLOCK_4\n\nBesides using the exposed ports 9306 and 9308, you can log into the instance by running `docker-compose exec manticore mysql`.\n\n#### HTTP protocol\n\nHTTP protocol is exposed on port 9308. You can map the port locally and connect using curl.:\n\nCODE_BLOCK_5\n\n<!-- example create -->\n\nCreate a table:\n\n<!-- request JSON -->\n\nCODE_BLOCK_6\n\n<!-- end -->\n\n<!-- example insert -->\n\nInsert a document:\n\n<!-- request JSON -->\n\nCODE_BLOCK_7\n\n<!-- end -->\n\n<!-- example search -->\n\nPerform a simple search:\n\n<!-- request JSON -->\n\nCODE_BLOCK_8\n\n<!-- end -->\n\n### Logging\n\nBy default, the server is set to send its logging to `/dev/stdout`, which can be viewed from the host with:\n\nCODE_BLOCK_9\n\nThe query log can be diverted to Docker log by passing the variable `QUERY_LOG_TO_STDOUT=true`.\n\n#### Multi-node cluster with replication\n\nHere is a simple `docker-compose.yml` for defining a two node cluster:\n\nCODE_BLOCK_10\n\n* Start it: `docker-compose up`\n\n* Create a cluster:\n\n  ```sql\n\n  $ docker-compose exec manticore-1 mysql\n\n  mysql> CREATE TABLE testrt ( title text, content text, gid integer);\n\n  mysql> CREATE CLUSTER posts;\n\n  Query OK, 0 rows affected (0.24 sec)\n\n  mysql> ALTER CLUSTER posts ADD testrt;\n\n  Query OK, 0 rows affected (0.07 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n* Join to the the cluster on the 2nd instance\n\n  ```sql\n\n  $ docker-compose exec manticore-2 mysql\n\n  mysql> JOIN CLUSTER posts AT 'manticore-1:9312';\n\n  mysql> INSERT INTO posts:testrt(title,content,gid)  VALUES('hello','world',1);\n\n  Query OK, 1 row affected (0.00 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n* If you now go back to the first instance you'll see the new record:\n\n  ```sql\n\n  $ docker-compose exec manticore-1 mysql\n\n  MySQL [(none)]> select * from testrt;\n\n  +---------------------+------+-------+---------+\n\n  | id                  | gid  | title | content |\n\n  +---------------------+------+-------+---------+\n\n  | 3891565839006040065 |    1 | hello | world   |\n\n  +---------------------+------+-------+---------+\n\n  1 row in set (0.00 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n### Memory locking and limits\n\nIt's recommended to overwrite the default ulimits of docker for the Manticore instance:\n\nCODE_BLOCK_11\n\nFor best performance, table components can be \"mlocked\" into memory. When Manticore is run under Docker, the instance requires additional privileges to allow memory locking. The following options must be added when running the instance:\n\nCODE_BLOCK_12\n\n### Configuring Manticore Search with Docker\n\nIf you want to run Manticore with a custom configuration that includes table definitions, you will need to mount the configuration to the instance:\n\nCODE_BLOCK_13\n\nTake into account that Manticore search inside the container is run under user `manticore`. Performing operations with table files (like creating or rotating plain tables) should be also done under `manticore`. Otherwise the files will be created under `root` and the search daemon won't have rights to open them. For example here is how you can rotate all tables:\n\nCODE_BLOCK_14\n\nYou can also set individual `searchd` and `common` configuration settings using Docker environment variables.\n\nThe settings must be prefixed with their section name, example for in case of `mysql_version_string` the variable must be named `searchd_mysql_version_string`:\n\nCODE_BLOCK_15\n\nIn case of the `listen` directive, new listening interfaces using the Docker variable `searchd_listen`  in addition to the default ones. Multiple interfaces can be declared, separated by a semi-colon (\"|\"). To listen only on a network address, the `$ip` (retrieved internally from `hostname -i`) can be used as address alias.",
    "translations": {
      "chinese": "# 在 Docker 中启动和使用 Manticore\n\n该镜像基于 [当前版本的 Manticore 包](https://manticoresearch.com/install/)。\n\n[comment]: # (the below should be in sync with https://github.com/manticoresoftware/docker/blob/master/README.md)\n\n默认配置包含一个示例实时表，并监听默认端口：\n\n  * `9306` 用于来自 MySQL 客户端的连接\n\n  * `9308` 用于通过 HTTP 的连接\n\n  * `9312` 用于通过二进制协议的连接（例如在运行集群时）\n\n该镜像附带用于从 MySQL、PostgreSQL、XML 和 CSV 文件轻松索引数据的库。\n\n## 如何运行 Manticore Search Docker 镜像\n\n### 快速使用\n\n以下是启动 Manticore 容器并通过 mysql 客户端登录的最简单方法：\n\nCODE_BLOCK_0\n\n注意，退出 MySQL 客户端后，Manticore 容器将被停止并移除，导致数据不会被保存。有关在生产环境中使用 Manticore 的信息，请参见下文。\n\n该镜像附带一个示例表，可以这样加载：\n\nCODE_BLOCK_1\n\n此外，mysql 客户端的历史记录中有几个示例查询，您可以在上述表上运行，只需在客户端使用上下键查看并执行它们。\n\n### 生产环境使用\n\n#### 端口和挂载点\n\n为了数据持久化，文件夹 `/var/lib/manticore/` 应挂载到本地存储或其他所需的存储引擎。\n\n实例内的配置文件位于 `/etc/manticoresearch/manticore.conf`。对于自定义设置，应将此文件挂载到您自己的配置文件。\n\n端口为 9306/9308/9312，分别用于 SQL/HTTP/二进制，根据您使用 Manticore 的方式暴露它们。例如：\n\nCODE_BLOCK_2\n\n或者\n\nCODE_BLOCK_3\n\n如果您希望端口对外部主机可用，请确保移除 `127.0.0.1:`。\n\n#### Manticore 列存库和 Manticore Buddy\n\nManticore Search Docker 镜像预装了 [Manticore Columnar Library](https://github.com/manticoresoftware/columnar) 和 [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy)\n\n#### Docker-compose\n\n在许多情况下，您可能希望将 Manticore 与 Docker Compose YAML 文件中指定的其他镜像一起使用。以下是在 docker-compose.yml 文件中为 Manticore Search 推荐的最小配置：\n\nCODE_BLOCK_4\n\n除了使用暴露的端口 9306 和 9308，您还可以通过运行 `docker-compose exec manticore mysql` 登录实例。\n\n#### HTTP 协议\n\nHTTP 协议暴露在端口 9308。您可以将端口映射到本地并使用 curl 连接：\n\nCODE_BLOCK_5\n\n<!-- example create -->\n\n创建表：\n\n<!-- request JSON -->\n\nCODE_BLOCK_6\n\n<!-- end -->\n\n<!-- example insert -->\n\n插入文档：\n\n<!-- request JSON -->\n\nCODE_BLOCK_7\n\n<!-- end -->\n\n<!-- example search -->\n\n执行简单搜索：\n\n<!-- request JSON -->\n\nCODE_BLOCK_8\n\n<!-- end -->\n\n### 日志记录\n\n默认情况下，服务器设置将日志发送到 `/dev/stdout`，可以从主机查看：\n\nCODE_BLOCK_9\n\n通过传递变量 `QUERY_LOG_TO_STDOUT=true`，查询日志可以重定向到 Docker 日志。\n\n#### 带复制的多节点集群\n\n以下是定义两个节点集群的简单 `docker-compose.yml`：\n\nCODE_BLOCK_10\n\n* 启动它：`docker-compose up`\n\n* 创建集群：\n\n  ```sql\n\n  $ docker-compose exec manticore-1 mysql\n\n  mysql> CREATE TABLE testrt ( title text, content text, gid integer);\n\n  mysql> CREATE CLUSTER posts;\n\n  Query OK, 0 rows affected (0.24 sec)\n\n  mysql> ALTER CLUSTER posts ADD testrt;\n\n  Query OK, 0 rows affected (0.07 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n* 在第二个实例加入集群\n\n  ```sql\n\n  $ docker-compose exec manticore-2 mysql\n\n  mysql> JOIN CLUSTER posts AT 'manticore-1:9312';\n\n  mysql> INSERT INTO posts:testrt(title,content,gid)  VALUES('hello','world',1);\n\n  Query OK, 1 row affected (0.00 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n* 如果现在回到第一个实例，您将看到新记录：\n\n  ```sql\n\n  $ docker-compose exec manticore-1 mysql\n\n  MySQL [(none)]> select * from testrt;\n\n  +---------------------+------+-------+---------+\n\n  | id                  | gid  | title | content |\n\n  +---------------------+------+-------+---------+\n\n  | 3891565839006040065 |    1 | hello | world   |\n\n  +---------------------+------+-------+---------+\n\n  1 row in set (0.00 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n### 内存锁定和限制\n\n建议覆盖 docker 的默认 ulimits 以适应 Manticore 实例：\n\nCODE_BLOCK_11\n\n为了获得最佳性能，表组件可以被“mlock”锁定到内存中。当 Manticore 在 Docker 下运行时，实例需要额外权限以允许内存锁定。运行实例时必须添加以下选项：\n\nCODE_BLOCK_12\n\n### 使用 Docker 配置 Manticore Search\n\n如果您想使用包含表定义的自定义配置运行 Manticore，则需要将配置挂载到实例：\n\nCODE_BLOCK_13\n\n请注意，容器内的 Manticore search 以用户 `manticore` 运行。对表文件的操作（如创建或轮换普通表）也应在 `manticore` 用户下进行。否则文件将由 `root` 创建，搜索守护进程将无权打开它们。例如，以下是如何轮换所有表：\n\nCODE_BLOCK_14\n\n您还可以使用 Docker 环境变量设置单独的 `searchd` 和 `common` 配置项。\n\n设置必须以其节名称为前缀，例如对于 `mysql_version_string`，变量名必须为 `searchd_mysql_version_string`：\n\nCODE_BLOCK_15\n\n对于 `listen` 指令，使用 Docker 变量 `searchd_listen` 可以在默认监听接口之外添加新的监听接口。可以声明多个接口，用分号 (\"|\") 分隔。要仅监听网络地址，可以使用 `$ip`（内部通过 `hostname -i` 获取）作为地址别名。",
      "russian": "# Запуск и использование Manticore в Docker\n\nОбраз основан на [текущем релизе пакета Manticore](https://manticoresearch.com/install/).\n\n[comment]: # (the below should be in sync with https://github.com/manticoresoftware/docker/blob/master/README.md)\n\nКонфигурация по умолчанию включает пример таблицы Real-Time и слушает на стандартных портах:\n\n  * `9306` для подключений от MySQL клиента\n\n  * `9308` для подключений через HTTP\n\n  * `9312` для подключений по бинарному протоколу (например, если вы запускаете кластер)\n\nОбраз поставляется с библиотеками для удобного индексирования данных из MySQL, PostgreSQL, XML и CSV файлов.\n\n## Как запустить Docker-образ Manticore Search\n\n### Быстрый запуск\n\nНиже приведён самый простой способ запустить Manticore в контейнере и войти в него через mysql клиент:\n\nCODE_BLOCK_0\n\nОбратите внимание, что при выходе из MySQL клиента контейнер Manticore будет остановлен и удалён, в результате данные не сохранятся. Для информации по использованию Manticore в продакшене смотрите ниже.\n\nОбраз содержит пример таблицы, которую можно загрузить так:\n\nCODE_BLOCK_1\n\nТакже mysql клиент имеет несколько примеров запросов в своей истории, которые вы можете выполнить на вышеуказанной таблице, просто используйте клавиши Вверх/Вниз в клиенте для просмотра и запуска.\n\n### Использование в продакшене\n\n#### Порты и точки монтирования\n\nДля сохранения данных папка `/var/lib/manticore/` должна быть смонтирована в локальное хранилище или другой желаемый движок хранения.\n\nФайл конфигурации внутри инстанса находится по пути `/etc/manticoresearch/manticore.conf`. Для пользовательских настроек этот файл должен быть смонтирован в ваш собственный конфигурационный файл.\n\nПорты 9306/9308/9312 предназначены для SQL/HTTP/Бинарного протокола, откройте их в зависимости от того, как вы собираетесь использовать Manticore. Например:\n\nCODE_BLOCK_2\n\nили\n\nCODE_BLOCK_3\n\nУбедитесь, что удалили `127.0.0.1:`, если хотите, чтобы порты были доступны для внешних хостов.\n\n#### Библиотека Manticore Columnar и Manticore Buddy\n\nDocker-образ Manticore Search поставляется с предустановленными [Manticore Columnar Library](https://github.com/manticoresoftware/columnar) и [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy)\n\n#### Docker-compose\n\nВо многих случаях вы можете захотеть использовать Manticore вместе с другими образами, указанными в YAML-файле Docker Compose. Ниже минимальная рекомендуемая конфигурация для Manticore Search в файле docker-compose.yml:\n\nCODE_BLOCK_4\n\nПомимо использования открытых портов 9306 и 9308, вы можете войти в инстанс, выполнив `docker-compose exec manticore mysql`.\n\n#### HTTP протокол\n\nHTTP протокол доступен на порту 9308. Вы можете пробросить порт локально и подключиться с помощью curl:\n\nCODE_BLOCK_5\n\n<!-- example create -->\n\nСоздайте таблицу:\n\n<!-- request JSON -->\n\nCODE_BLOCK_6\n\n<!-- end -->\n\n<!-- example insert -->\n\nВставьте документ:\n\n<!-- request JSON -->\n\nCODE_BLOCK_7\n\n<!-- end -->\n\n<!-- example search -->\n\nВыполните простой поиск:\n\n<!-- request JSON -->\n\nCODE_BLOCK_8\n\n<!-- end -->\n\n### Логирование\n\nПо умолчанию сервер настроен отправлять логи в `/dev/stdout`, которые можно просмотреть с хоста с помощью:\n\nCODE_BLOCK_9\n\nЛог запросов можно направить в Docker лог, передав переменную `QUERY_LOG_TO_STDOUT=true`.\n\n#### Многозвенный кластер с репликацией\n\nВот простой `docker-compose.yml` для определения кластера из двух узлов:\n\nCODE_BLOCK_10\n\n* Запустите его: `docker-compose up`\n\n* Создайте кластер:\n\n  ```sql\n\n  $ docker-compose exec manticore-1 mysql\n\n  mysql> CREATE TABLE testrt ( title text, content text, gid integer);\n\n  mysql> CREATE CLUSTER posts;\n\n  Query OK, 0 rows affected (0.24 sec)\n\n  mysql> ALTER CLUSTER posts ADD testrt;\n\n  Query OK, 0 rows affected (0.07 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n* Присоединитесь к кластеру на втором инстансе\n\n  ```sql\n\n  $ docker-compose exec manticore-2 mysql\n\n  mysql> JOIN CLUSTER posts AT 'manticore-1:9312';\n\n  mysql> INSERT INTO posts:testrt(title,content,gid)  VALUES('hello','world',1);\n\n  Query OK, 1 row affected (0.00 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n* Если теперь вернуться к первому инстансу, вы увидите новую запись:\n\n  ```sql\n\n  $ docker-compose exec manticore-1 mysql\n\n  MySQL [(none)]> select * from testrt;\n\n  +---------------------+------+-------+---------+\n\n  | id                  | gid  | title | content |\n\n  +---------------------+------+-------+---------+\n\n  | 3891565839006040065 |    1 | hello | world   |\n\n  +---------------------+------+-------+---------+\n\n  1 row in set (0.00 sec)\n\n  MySQL [(none)]> exit\n\n  Bye\n\n  ```\n\n### Блокировка памяти и лимиты\n\nРекомендуется переопределить стандартные ulimits docker для инстанса Manticore:\n\nCODE_BLOCK_11\n\nДля лучшей производительности компоненты таблиц могут быть \"mlocked\" в память. При запуске Manticore под Docker инстансу требуются дополнительные привилегии для разрешения блокировки памяти. Следующие опции должны быть добавлены при запуске инстанса:\n\nCODE_BLOCK_12\n\n### Настройка Manticore Search с Docker\n\nЕсли вы хотите запустить Manticore с пользовательской конфигурацией, включающей определения таблиц, вам нужно смонтировать конфигурацию в инстанс:\n\nCODE_BLOCK_13\n\nУчтите, что Manticore search внутри контейнера запускается под пользователем `manticore`. Операции с файлами таблиц (например, создание или ротация plain таблиц) также должны выполняться под `manticore`. Иначе файлы будут созданы под `root`, и демон поиска не сможет их открыть. Например, вот как можно выполнить ротацию всех таблиц:\n\nCODE_BLOCK_14\n\nВы также можете задать отдельные настройки `searchd` и `common` через переменные окружения Docker.\n\nНастройки должны иметь префикс с именем секции, пример для `mysql_version_string` — переменная должна называться `searchd_mysql_version_string`:\n\nCODE_BLOCK_15\n\nВ случае директивы `listen` новые интерфейсы прослушивания добавляются с помощью Docker переменной `searchd_listen` в дополнение к стандартным. Можно объявить несколько интерфейсов, разделённых точкой с запятой (\"|\"). Для прослушивания только на сетевом адресе можно использовать `$ip` (получаемый внутренне из `hostname -i`) как псевдоним адреса."
    },
    "is_code_or_comment": false
  }
}
