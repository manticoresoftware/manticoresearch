# 分布式搜索

Manticore 设计为通过其分布式搜索功能有效扩展。分布式搜索有助于提高查询延迟（即搜索时间）和吞吐量（即最大查询次数/秒），适用于多服务器、多CPU或多核环境。这对于需要搜索大量数据（即数十亿条记录和数TB文本）的应用至关重要。

其主要理念是将被搜索的数据横向分区到多个搜索节点并行处理。

分区需手动完成。设置步骤如下：

* 在不同服务器上设置多个 Manticore 实例
* 将数据集的不同部分分配给不同的实例
* 在某些 `searchd` 实例上配置特殊的[分布式表](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md)
* 将查询路由到分布式表

此类表仅包含对其他本地和远程表的引用——因此无法直接重建索引。相反，应重建其引用的表的索引。

当 Manticore 接收到针对分布式表的查询时，会执行以下步骤：

1. 连接到配置的远程代理
2. 将查询发送给它们
3. 同时搜索配置的本地表（在远程代理搜索的同时）
4. 从远程代理检索搜索结果
5. 合并所有结果，去重
6. 将合并后的结果发送给客户端

从应用程序的角度来看，通过常规表或分布式表搜索没有区别。换言之，分布式表对应用程序完全透明，无法判断查询的表是分布式还是本地的。

了解更多关于[远程节点](../Creating_a_cluster/Remote_nodes.md)的信息。

<!-- proofread -->

