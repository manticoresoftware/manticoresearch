# तालिकाओं को मर्ज करना
दो मौजूदा **सरल** तालिकाओं को मर्ज करना डेटा को नए सिरे से अनुक्रमित करने की तुलना में अधिक कुशल हो सकता है और कुछ मामलों में इसकी आवश्यकता हो सकती है (जैसे 'मुख्य' और 'डेल्टा' तालिकाओं को मर्ज करना, बजाय 'मुख्य' को 'मुख्य+डेल्टा' विभाजन योजना में सामान्य रूप से पुनर्निर्माण करने के)। इसलिए, `indexer` इसे करने का एक विकल्प प्रदान करता है। तालिकाओं को मर्ज करना सामान्यत: पुनर्निर्माण से तेज होता है, लेकिन फिर भी विशाल तालिकाओं के लिए **तुरंत** नहीं होता। मूल रूप से, इसे दोनों तालिकाओं की सामग्री को एक बार पढ़ने और परिणाम को एक बार लिखने की आवश्यकता होती है। उदाहरण के लिए, 100 जीबी और 1 जीबी तालिका को मर्ज करने से 202 जीबी की I/O होगी (लेकिन यह फिर भी संभवतः नए सिरे से अनुक्रमित करने की आवश्यकताओं से कम है)।
बुनियादी कमांड सिंटैक्स निम्नलिखित है:
```bash
sudo -u manticore indexer --merge DSTINDEX SRCINDEX [--rotate] [--drop-src]
```
जब तक `--drop-src` निर्दिष्ट नहीं किया गया है, केवल DSTINDEX तालिका पर प्रभाव पड़ेगा: SRCINDEX की सामग्री इसमें मर्ज की जाएगी।
यदि DSTINDEX पहले से ही `searchd` द्वारा प्रदत्त है, तो `--rotate` स्विच की आवश्यकता है।
सामान्य उपयोग पैटर्न यह है कि SRCINDEX से एक छोटे अपडेट को DSTINDEX में मर्ज किया जाए। इसलिए, जब विशेषताओं को मर्ज करते समय, यदि डुप्लिकेट दस्तावेज़ ID उत्पन्न होते हैं तो SRCINDEX से मान प्राथमिकता लेंगे। हालाँकि, ध्यान दें कि "पुराने" कीवर्ड ऐसे मामलों में **स्वतः** हटा दिए जाएंगे। उदाहरण के लिए, यदि DSTINDEX में दस्तावेज़ 123 से जुड़े एक कीवर्ड "पुराना" है, और SRCINDEX में इसके साथ जुड़े एक कीवर्ड "नया" है, तो मर्ज के बाद दस्तावेज़ 123 दोनों कीवर्ड द्वारा पाया जाएगा। आप DSTINDEX से दस्तावेज़ों को हटाने के लिए एक स्पष्ट स्थिति प्रदान कर सकते हैं; संबंधित स्विच `--merge-dst-range` है:
```bash
sudo -u manticore indexer --merge main delta --merge-dst-range deleted 0 0
```
यह स्विच मर्जिंग के साथ-साथ गंतव्य तालिका पर फ़िल्टर लागू करने की अनुमति देता है। कई फ़िल्टर हो सकते हैं; परिणामस्वरूप मर्ज की गई तालिका में दस्तावेज़ को शामिल करने के लिए उनकी सभी शर्तों को पूरा करना आवश्यक है। ऊपर के उदाहरण में, फ़िल्टर केवल उन रिकॉर्ड को पारित करता है जहां 'deleted' 0 है, सभी रिकॉर्ड को समाप्त करता है जो हटा दिए जाने के रूप में चिह्नित थे।
`--drop-src` मर्ज के बाद और तालिकाओं को घुमाने से पहले SRCINDEX को हटाने को सक्षम करता है, जो महत्वपूर्ण है यदि आप DSTINDEX के `killlist_target` में DSTINDEX निर्दिष्ट करते हैं। अन्यथा, जब तालिकाओं को घुमाया जा रहा है, तो दस्तावेज़ जो DSTINDEX में मर्ज किए गए हैं, SRCINDEX द्वारा दबाए जा सकते हैं।
<!-- proofread -->









