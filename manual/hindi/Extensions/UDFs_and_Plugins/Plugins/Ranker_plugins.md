# रैंकर प्लगइन 

रैंकर प्लगइन आपको एक कस्टम रैंकर लागू करने की अनुमति देता है जो दस्तावेज़ में मेल खाती हुई सभी कीवर्ड की घटनाओं को प्राप्त करता है, और एक `WEIGHT()` मान की गणना करता है। उन्हें निम्नलिखित तरीकों से कॉल किया जा सकता है:

```sql
SELECT id, attr1 FROM test WHERE match('hello') OPTION ranker=myranker('option1=1');
```
कॉल वर्कफ़्लो इस प्रकार जारी रहता है:

1. `XXX_init()` प्रति तालिका प्रत्येक क्वेरी के लिए एक बार, बिल्कुल शुरुआत में कॉल किया जाता है। कई क्वेरी-व्यापी विकल्प इसे एक `SPH_RANKER_INIT` संरचना के माध्यम से पास किए जाते हैं, जिसमें उपयोगकर्ता विकल्प स्ट्रिंग शामिल हैं (उदाहरण के लिए, ऊपर दिए गए उदाहरण में "option1=1")।
2. `XXX_update()` प्रत्येक मेल खाते दस्तावेज़ के लिए कई बार कॉल किया जाता है, हर मेल खाते कीवर्ड की घटना को इसके पैरामीटर के रूप में प्रदान किया जाता है, एक `SPH_RANKER_HIT` संरचना। प्रत्येक दस्तावेज़ के भीतर घटनाओं को `hit->hit_pos` मूल्यों के क्रम में बढ़ते क्रम में पास किए जाने की गारंटी दी जाती है।
3. `XXX_finalize()` प्रत्येक मेल खाती दस्तावेज़ के लिए एक बार कॉल किया जाता है जब और कोई कीवर्ड की घटनाएँ नहीं होती हैं। इसे `WEIGHT()` मान लौटाना चाहिए। यह फ़ंक्शन एकमात्र अनिवार्य है।
4. `XXX_deinit()` प्रति क्वेरी, बिल्कुल अंत में एक बार कॉल किया जाता है।

<!-- proofread -->

