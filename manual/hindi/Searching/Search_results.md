# खोज परिणाम

## SQL

<!-- example sql1 -->
जब आप MySQL प्रोटोकॉल के माध्यम से SQL के माध्यम से एक क्वेरी चलाते हैं, तो आपको अनुरोधित कॉलम परिणाम के रूप में मिलते हैं या यदि कुछ नहीं मिलता है तो एक खाली परिणाम सेट मिलता है।

<!-- request SQL -->
```sql
SELECT * FROM tbl;
```

<!-- response SQL -->
```sql
+------+------+--------+
| id   | age  | name   |
+------+------+--------+
|    1 |   25 | joe    |
|    2 |   25 | mary   |
|    3 |   33 | albert |
+------+------+--------+
3 rows in set (0.00 sec)
```
<!-- end -->

<!-- example sql2 -->
इसके अतिरिक्त, आप नवीनतम क्वेरी के बारे में अतिरिक्त मेटा-जानकारी देखने के लिए [SHOW META](../Node_info_and_management/SHOW_META.md) कॉल का उपयोग कर सकते हैं।

<!-- request SQL -->
```sql
SELECT id,story_author,comment_author FROM hn_small WHERE story_author='joe' LIMIT 3; SHOW META;
```

<!-- response SQL -->
```sql
| id     | story_author | comment_author |
+--------+--------------+----------------+
| 152841 | joe          | SwellJoe       |
| 161323 | joe          | samb           |
| 163735 | joe          | jsjenkins168   |
+--------+--------------+----------------+
3 rows in set (0.01 sec)

+----------------+-------+
| Variable_name  | Value |
+----------------+-------+
| total          | 3     |
| total_found    | 20    |
| total_relation | gte   |
| time           | 0.010 |
+----------------+-------+
4 rows in set (0.00 sec)
```
<!-- end -->

<!-- example sql3 -->
कुछ मामलों में, जैसे [फैस्टीड खोज](../Searching/Faceted_search.md) करते समय, आपको SQL क्वेरी के जवाब के रूप में कई परिणाम सेट मिल सकते हैं।

<!-- request SQL -->
```sql
SELECT * FROM tbl WHERE MATCH('joe') FACET age;
```

<!-- response SQL -->
```sql
+------+------+
| id   | age  |
+------+------+
|    1 |   25 |
+------+------+
1 row in set (0.00 sec)

+------+----------+
| age  | count(*) |
+------+----------+
|   25 |        1 |
+------+----------+
1 row in set (0.00 sec)
```
<!-- end -->

<!-- example sql4 -->
चेतावनी की स्थिति में, परिणाम सेट में एक चेतावनी ध्वज शामिल होगा, और आप [SHOW WARNINGS](../Node_info_and_management/SHOW_WARNINGS.md) का उपयोग करके चेतावनी देख सकते हैं।
<!-- request SQL -->
```sql
SELECT * from tbl where match('"joe"/3'); show warnings;
```

<!-- response SQL -->
```sql
+------+------+------+
| id   | age  | name |
+------+------+------+
|    1 |   25 | joe  |
+------+------+------+
1 row in set, 1 warning (0.00 sec)

+---------+------+--------------------------------------------------------------------------------------------+
| Level   | Code | Message                                                                                    |
+---------+------+--------------------------------------------------------------------------------------------+
| warning | 1000 | quorum threshold too high (words=1, thresh=3); replacing quorum operator with AND operator |
+---------+------+--------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)
```
<!-- end -->

<!-- example sql5 -->
यदि आपकी क्वेरी विफल हो जाती है, तो आपको एक त्रुटि मिलेगी:

<!-- request SQL -->
```sql
SELECT * from tbl where match('@surname joe');
```

<!-- response SQL -->
```sql
ERROR 1064 (42000): index idx: query error: no field 'surname' found in schema
```

<!-- end -->


## HTTP

HTTP JSON इंटरफ़ेस के माध्यम से, क्वेरी परिणाम एक JSON दस्तावेज़ के रूप में भेजा जाता है। उदाहरण:

```json
{
  "took":10,
  "timed_out": false,
  "hits":
  {
    "total": 2,
    "hits":
    [
      {
        "_id": 1,
        "_score": 1,
        "_source": { "gid": 11 }
      },
      {
        "_id": 2,
        "_score": 1,
        "_source": { "gid": 12 }
      }
    ]
  }
}
```

* `took`: खोज निष्पादित करने में लगे समय में मिलीसेकंड
* `timed_out`: क्या क्वेरी समय समाप्त हो गई या नहीं
* `hits`: खोज परिणाम, जिसमें निम्नलिखित गुण हैं:
  - `total`: मेल खाते दस्तावेजों की कुल संख्या
  - `hits`: मैचों को समाहित करने वाला एक ऐरे

क्वेरी परिणाम में क्वेरी प्रोफ़ाइल जानकारी भी शामिल हो सकती है। [क्वेरी प्रोफ़ाइल](../Node_info_and_management/Profiling/Query_profile.md) देखें।

`hits` ऐरे में प्रत्येक मैच में निम्नलिखित गुण होते हैं:

* `_id`: मैच आईडी
* `_score`: मैच का वजन, जिसे रेंकर द्वारा गणना की जाती है
* `_source`: इस मैच के गुणों को समाहित करने वाला एक ऐरे

### स्रोत चयन

डिफ़ॉल्ट रूप से, `_source` ऐरे में सभी गुण लौटाए जाते हैं। आप परिणाम सेट में शामिल करने के लिए फ़ील्ड को चुनने के लिए अनुरोध पेलोड में `_source` प्रॉपर्टी का उपयोग कर सकते हैं। उदाहरण:

```json
{
  "table":"test",
  "_source":"attr*",
  "query": { "match_all": {} }
}
```

आप क्वेरी परिणाम में शामिल करने के लिए गुणों को एक स्ट्रिंग (`"_source": "attr*"`) या स्ट्रिंग्स के एक एरे (`"_source": [ "attr1", "attri*" ]"`) के रूप में निर्दिष्ट कर सकते हैं। प्रत्येक प्रविष्टि एक गुण का नाम या एक वाइल्डकार्ड हो सकता है (`*`, `%` और `?` के प्रतीकों का समर्थन किया जाता है)।

आप परिणाम सेट से शामिल करने और बाहर करने के लिए विशिष्ट गुणों को भी स्पष्ट रूप से निर्दिष्ट कर सकते हैं, जिसका उपयोग `includes` और `excludes` प्रॉपर्टीज़ के द्वारा किया जा सकता है:

```json
"_source":
{
  "includes": [ "attr1", "attri*" ],
  "excludes": [ "*desc*" ]
}
```

शामिल करने की एक खाली सूची का अर्थ "सभी गुणों को शामिल करें" है, जबकि बाहर करने की एक खाली सूची किसी से भी मेल नहीं खाती। यदि कोई गुण दोनों शामिल और बाहर में मेल खाता है, तो बाहरी गुण जीतता है।

<!-- proofread -->



