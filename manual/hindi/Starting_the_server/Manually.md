# मैन्युअल रूप से Manticore प्रारंभ करना

आप सीधे `searchd` (Manticore Search सर्वर बाइनरी) को कॉल करके Manticore Search शुरू कर सकते हैं:

```shell
searchd [OPTIONS]
```

ध्यान दें कि यदि आप कॉन्फ़िगरेशन फ़ाइल के लिए एक पथ निर्दिष्ट नहीं करते, तो `searchd` ऑपरेटिंग सिस्टम के आधार पर कई स्थानों में इसे खोजने की कोशिश करेगा।


## searchd कमांड लाइन विकल्प


सभी ऑपरेटिंग सिस्टम में `searchd` के लिए उपलब्ध विकल्प हैं:

* `--help` (`-h` संक्षेप में) सभी पैरामीटर की सूची बताता है जिन्हें आपके विशेष निर्माण के लिए `searchd` में उपयोग किया जा सकता है।
* `--version` (`-v` संक्षेप में) Manticore Search संस्करण जानकारी दिखाता है।
* `--config <file>` (`-c <file>` संक्षेप में) `searchd` को निर्दिष्ट फ़ाइल को अपनी कॉन्फ़िगरेशन के रूप में उपयोग करने के लिए बताता है।
* `--stop` का उपयोग `searchd` को असिंक्रोनस तरीके से स्टॉप करने के लिए किया जाता है, जो Manticore कॉन्फ़िगरेशन फ़ाइल में निर्दिष्ट PID फ़ाइल के विवरण का उपयोग करता है। इसलिए, आपको यह भी सुनिश्चित करने की आवश्यकता हो सकती है कि `searchd` के लिए किस कॉन्फ़िगरेशन फ़ाइल का उपयोग किया जाए `--config` विकल्प के साथ। उदाहरण:

  ```bash
  $ searchd --config /etc/manticoresearch/manticore.conf --stop
  ```

* `--stopwait` का उपयोग `searchd` को सिंक्रोनस तरीके से स्टॉप करने के लिए किया जाता है। `--stop` मूल रूप से चल रहे उदाहरण को बाहर निकलने के लिए कहता है (उसे एक SIGTERM भेजकर) और फिर तुरंत वापस लौटता है। `--stopwait` भी कोशिश करेगा कि चल रहा `searchd` उदाहरण वास्तव में शटडाउन (उदाहरण के लिए, सभी पेंडिंग विशेषता परिवर्तन को सहेजना) समाप्त करता है और बाहर निकलता है। उदाहरण:

  ```bash
  $ searchd --config /etc/manticoresearch/manticore.conf --stopwait
  ```
  संभावित निकासी कोड इस प्रकार हैं:
    * 0 सफल होने पर
    * 1 यदि चल रहे `searchd` सर्वर से कनेक्शन विफल हो जाता है
    * 2 यदि सर्वर ने शटडाउन के दौरान एक त्रुटि रिपोर्ट की
    * 3 यदि सर्वर शटडाउन के दौरान क्रैश हो गया

* `--status` कमांड का उपयोग चल रहे `searchd` उदाहरण की स्थिति का अनुरोध करने के लिए किया जाता है, (वैकल्पिक रूप से) प्रदान की गई कॉन्फ़िगरेशन फ़ाइल से कनेक्शन विवरण का उपयोग करते हुए। यह कॉन्फ़िगरेशन फ़ाइल से पहले पाए गए UNIX सॉकेट या TCP पोर्ट का उपयोग करके चल रहे उदाहरण से कनेक्ट करने की कोशिश करेगा। सफल होने पर यह स्थिति और प्रदर्शन काउंटर मानों की संख्या के लिए पूछता है और उन्हें प्रिंट करता है। आप [SHOW STATUS](../Node_info_and_management/Node_status.md#SHOW-STATUS) कमांड का उपयोग करके SQL प्रोटोकॉल के माध्यम से समान काउंटरों को भी एक्सेस कर सकते हैं। उदाहरण:

  ```bash
  $ searchd --status
  $ searchd --config /etc/manticoresearch/manticore.conf --status
  ```

* `--pidfile` का उपयोग PID फ़ाइल का उपयोग करने के लिए स्पष्ट रूप से मजबूर करने के लिए किया जाता है (जहां `searchd` प्रक्रिया पहचान संख्या संग्रहीत होती है) किसी अन्य डिबगिंग विकल्प के बावजूद जो कुछ और कहता है (उदाहरण के लिए, `--console`)। यह एक डिबगिंग विकल्प है।

  ```bash
  $ searchd --console --pidfile
  ```

* `--console` का उपयोग `searchd` को कंसोल मोड में मजबूर करने के लिए किया जाता है। सामान्यतः, Manticore एक पारंपरिक सर्वर अनुप्रयोग के रूप में चलता है और लॉग फ़ाइलों में जानकारी लॉग करता है (जैसा कि कॉन्फ़िगरेशन फ़ाइल में निर्दिष्ट किया गया है)। हालांकि, जब कॉन्फ़िगरेशन या स्वयं सर्वर में समस्याओं को डिबग करते समय, या कठिन-से-निष्कर्ष समस्याओं का निदान करने का प्रयास करते समय, इसे सीधे कंसोल/कमांड लाइन पर जानकारी डंप करने के लिए मजबूर करना आसान हो सकता है, जिससे इसे कॉल किया जा रहा है। कंसोल मोड में चलाने का अर्थ यह भी है कि प्रक्रिया को फोर्क नहीं किया जाएगा (इसलिए खोजें अनुक्रम में की जाती हैं) और लॉग में कुछ नहीं लिखा जाएगा। (यह ध्यान दिया जाना चाहिए कि कंसोल मोड `searchd` चलाने का इरादा विधि नहीं है।) आप इसे इस तरह से बुला सकते हैं:

  ```bash
  $ searchd --config /etc/manticoresearch/manticore.conf --console
  ```

* `--logdebug`, `--logreplication`, `--logdebugv`, और `--logdebugvv` विकल्प सर्वर लॉग में अतिरिक्त डिबग आउटपुट सक्षम करते हैं। ये लॉगिंग की विस्तृतता स्तर के द्वारा भिन्न होते हैं। ये डिबगिंग विकल्प हैं और सामान्यतः सक्षम नहीं होने चाहिए, क्योंकि ये लॉग को बहुत प्रदूषित कर सकते हैं। इन्हें जटिल डिबगिंग सत्रों की सहायता के लिए अनुरोध पर अस्थायी रूप से उपयोग किया जा सकता है।

* `--iostats` का उपयोग लॉगिंग विकल्पों के साथ मिलकर किया जाता है ( `manticore.conf` में `query_log` को सक्रिय करना आवश्यक है) ताकि उस क्वेरी के दौरान किए गए इनपुट/आउटपुट संचालन के बारे में अधिक विस्तृत जानकारी प्रदान की जा सके, थोड़ा प्रदर्शन हिट और थोड़े बड़े लॉग के साथ। IO सांख्यिकी विशेषताओं के लिए IO संचालन के बारे में जानकारी शामिल नहीं करती हैं, क्योंकि इन्हें mmap के साथ लोड किया जाता है। इसे सक्षम करने के लिए, आप `searchd` को निम्नलिखित तरीके से शुरू कर सकते हैं:

  ```bash
  $ searchd --config /etc/manticoresearch/manticore.conf --iostats
  ```

* `--cpustats` का उपयोग दोनों क्वेरी लॉग फ़ाइल (प्रत्येक दिए गए क्वेरी के लिए) और स्थिति रिपोर्ट (संक्षिप्त) में वास्तविक CPU समय रिपोर्ट (दीवार समय के साथ) प्रदान करने के लिए किया जाता है। यह `clock_gettime()` Linux सिस्टम कॉल पर निर्भर करता है या कुछ सिस्टम पर कम सटीक कॉल में गिर जाता है। आप इस प्रकार `searchd` शुरू कर सकते हैं:

  ```bash
  $ searchd --config /etc/manticoresearch/manticore.conf --cpustats
  ```

*  `--port portnumber` (`-p` संक्षेप में) उस पोर्ट को निर्दिष्ट करने के लिए उपयोग किया जाता है जिस पर Manticore बाइनरी प्रोटोकॉल अनुरोधों को स्वीकार करने के लिए सुननी चाहिए, जो आमतौर पर डिबगिंग उद्देश्यों के लिए होता है। यह आमतौर पर 9312 पर डिफ़ॉल्ट होता है, लेकिन कभी-कभी आपको इसे विभिन्न पोर्ट पर चलाना पड़ सकता है। कमांड लाइन में इसे निर्दिष्ट करना कॉन्फ़िगरेशन फ़ाइल में निर्दिष्ट किसी भी चीज़ को अधिलेखित करेगा। वैध सीमा 0 से 65535 है, लेकिन 1024 और नीचे के नंबर वाले पोर्ट चलाने के लिए आमतौर पर एक विशेषाधिकार प्राप्त खाते की आवश्यकता होती है।

  उपयोग का एक उदाहरण:

  ```bash
  $ searchd --port 9313
  ```
* `--listen ( address ":" port | port | path ) [ ":" protocol ]` (या `-l` संक्षेप में) `--port` की तरह काम करता है, लेकिन आपको केवल पोर्ट निर्दिष्ट करने की अनुमति नहीं देता, बल्कि पूर्ण पथ, IP पता और पोर्ट, या यूनिक्स-डोमेन सॉकेट पथ निर्दिष्ट करने की अनुमति देता है जिस पर `searchd` सुनता है। दूसरे शब्दों में, आप या तो एक IP पता (या होस्टनाम) और पोर्ट नंबर, केवल एक पोर्ट नंबर, या एक यूनिक्स सॉकेट पथ निर्दिष्ट कर सकते हैं। यदि आप एक पोर्ट नंबर निर्दिष्ट करते हैं लेकिन पता निर्दिष्ट नहीं करते हैं, तो searchd सभी नेटवर्क इंटरफेस पर सुनेगा। एक यूनिक्स पथ एक प्रारंभिक स्लैश द्वारा पहचाना जाता है। अंतिम पैरामीटर के रूप में, आप इस सॉकेट पर कनेक्शनों के लिए उपयोग किए जाने के लिए एक प्रोटोकॉल हैंडलर (सुनने वाला) भी निर्दिष्ट कर सकते हैं। समर्थित प्रोटोकॉल मान 'sphinx' और 'mysql' हैं (4.1 से उपयोग किए गए MySQL प्रोटोकॉल)।

* `--force-preread` सर्वर को किसी भी आने वाली कनेक्शन की सेवा करने से मना करता है जब तक टेबल फ़ाइलों की प्रीरिडिंग पूरी नहीं हो जाती। डिफ़ॉल्ट रूप से, प्रारंभ में, सर्वर कनेक्शनों को स्वीकार करता है जबकि टेबल फ़ाइलें मेमोरी में लेज़ी-लोड हो रही होती हैं। यह व्यवहार को बढ़ाता है और फ़ाइलों के लोड होने तक इंतज़ार करता है।

* `--index (--table) <table>` (या `-i (-t) <table>` संक्षेप में) इस `searchd` के उदाहरण को केवल निर्दिष्ट टेबल की सेवा करने के लिए मजबूर करता है। जैसे ऊपर `--port`, यह आमतौर पर डिबगिंग उद्देश्यों के लिए होता है; अधिक दीर्घकालिक परिवर्तन सामान्यतः कॉन्फ़िगरेशन फ़ाइल पर लागू किए जाएंगे।

* `--strip-path` सभी फ़ाइल नामों से पथ नामों को हटा देता है जो टेबल से संदर्भित हैं (स्टॉपवर्ड, वर्डफॉर्म, अपवाद, आदि)। यह अन्य मशीनों पर बने टेबलों को उठाने के लिए उपयोगी है जिनकी संभावित रूप से अलग पथ लेआउट होते हैं।

* `--replay-flags=<OPTIONS>` स्विच का उपयोग अतिरिक्त बाइनरी लॉग पुनःप्रारंभ विकल्पों की एक सूची निर्दिष्ट करने के लिए किया जा सकता है। समर्थित विकल्प हैं:
    * `accept-desc-timestamp`, अवनत लेनदेन timestamps की अनदेखी करें और फिर भी ऐसे लेनदेन को पुनःप्रारंभ करें (डिफ़ॉल्ट व्यवहार एक त्रुटि के साथ बाहर निकलना है)।
    * `ignore-open-errors`, गायब बिनलॉग फ़ाइलों की अनदेखी करें (डिफ़ॉल्ट व्यवहार एक त्रुटि के साथ बाहर निकलना है)।
    * `ignore-trx-errors`, किसी भी लेनदेन त्रुटियों की अनदेखी करें और वर्तमान बिनलॉग फ़ाइल को छोड़ दें (डिफ़ॉल्ट व्यवहार एक त्रुटि के साथ बाहर निकलना है)।
    * `ignore-all-errors`, ऊपर वर्णित किसी भी त्रुटियों की अनदेखी करें (डिफ़ॉल्ट व्यवहार एक त्रुटि के साथ बाहर निकलना है)।

    उदाहरण:

    ```bash
    $ searchd --replay-flags=accept-desc-timestamp
    ```

* `--coredump` का उपयोग क्रैश पर सर्वर का कोर फ़ाइल या मिनीडंप सहेजने के लिए सक्षम करने के लिए किया जाता है। क्रैश पर सर्वर के पुनःप्रारंभ को तेज करने के लिए डिफ़ॉल्ट रूप से बंद किया गया है। यह डिबगिंग उद्देश्यों के लिए उपयोगी है।

  ```bash
  $ searchd --config /etc/manticoresearch/manticore.conf --coredump
  ```

* `--new-cluster` एक प्रतिकृति क्लस्टर को बूटस्ट्रैप करता है और सर्वर को एक संदर्भ नोड बनाता है जिसमें [क्लस्टर पुनःप्रारंभ](../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) सुरक्षा होती है। लिनक्स पर आप `manticore_new_cluster` भी चला सकते हैं। यह systemd के माध्यम से `--new-cluster` मोड में Manticore शुरू करेगा।

* `--new-cluster-force` एक प्रतिकृति क्लस्टर को बूटस्ट्रैप करता है और सर्वर को एक संदर्भ नोड बनाता है [क्लस्टर पुनःप्रारंभ](../Creating_a_cluster/Setting_up_replication/Restarting_a_cluster.md) सुरक्षा को बायपास करता है। लिनक्स पर आप `manticore_new_cluster --force` भी चला सकते हैं। यह systemd के माध्यम से `--new-cluster-force` मोड में Manticore शुरू करेगा।

* `--mockstack` आवर्ती अभिव्यक्ति मूल्यांकन, पैटर्न मिलान संचालन और फ़िल्टर प्रसंस्करण के लिए आवश्यक स्टैक आकारों का विश्लेषण और रिपोर्ट करता है। यह डिबगिंग विकल्प अनुकूलन उद्देश्यों के लिए कंसोल पर गणना किए गए स्टैक आवश्यकताओं को आउटपुट करता है। आउटपुट पर्यावरण भेरिएबल प्रदान करता है जो विभिन्न संचालन के लिए स्टैक आवश्यकताओं को कॉन्फ़िगर करने के लिए उपयोग किए जा सकते हैं।

  उदाहरण:
  ```bash
  $ searchd --mockstack
  Manticore 7.4.7 e90b5afbb@25032706 dev (columnar 4.1.2 15bbcc7@25031206) (secondary 4.1.2 15bbcc7@25031206) (knn 4.1.2 15bbcc7@25031206)
  Copyright (c) 2001-2016, Andrew Aksyonoff
  Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)
  Copyright (c) 2017-2025, Manticore Software LTD (https://manticoresearch.com)

  export MANTICORE_KNOWN_CREATE_SIZE=200
  export MANTICORE_START_KNOWN_CREATE_SIZE=4504
  export MANTICORE_KNOWN_EXPR_SIZE=16
  export MANTICORE_START_KNOWN_EXPR_SIZE=200
  export MANTICORE_NONE=32
  export MANTICORE_START_NONE=104
  export MANTICORE_KNOWN_FILTER_SIZE=224
  export MANTICORE_START_KNOWN_FILTER_SIZE=11192
  export MANTICORE_KNOWN_MATCH_SIZE=320
  export MANTICORE_START_KNOWN_MATCH_SIZE=14552
  export NO_STACK_CALCULATION=1
  ```

### Windows विकल्प

`searchd` के लिए कुछ विकल्प हैं जो Windows प्लेटफ़ॉर्म पर विशिष्ट हैं, सेवा के रूप में संचालन से संबंधित हैं, और केवल Windows बाइनरी में उपलब्ध हैं।

ध्यान दें कि Windows में searchd डिफ़ॉल्ट रूप से `--console` मोड पर होगा, जब तक कि आप इसे एक सेवा के रूप में स्थापित नहीं करते।

* `--install` `searchd` को Microsoft प्रबंधन कंसोल (कंट्रोल पैनल / व्यवस्थापक उपकरण / सेवाएं) में एक सेवा के रूप में स्थापित करता है। किसी भी अन्य पैरामीटर जो कमांड लाइन पर निर्दिष्ट किए जाते हैं, जहां `--install` निर्दिष्ट किया गया है, वे भी सेवा के भविष्य के प्रारंभ पर कमांड लाइन का हिस्सा बन जाएंगे। उदाहरण के लिए, `searchd` को कॉल करते समय, आपको संभवतः `--config` के साथ कॉन्फ़िगरेशन फ़ाइल भी निर्दिष्ट करने की आवश्यकता होगी, और आप इसे `--install` निर्दिष्ट करने के साथ-साथ करेंगे। एक बार इसे कॉल करने के बाद, प्रबंधन कंसोल के माध्यम से सामान्य प्रारंभ / रोकने की सुविधाएं उपलब्ध हो जाएंगी, इसलिए कोई भी विधियाँ जो सेवाओं को प्रारंभ, रोकने और पुनःप्रारंभ करने के लिए उपयोग की जा सकती हैं, वे `searchd` पर भी लागू होंगी। उदाहरण:

  ```bat
  C:\WINDOWS\system32> C:\Manticore\bin\searchd.exe --install
     --config C:\Manticore\manticore.conf
  ```

  यदि आप चाहते हैं कि प्रत्येक बार जब आप `searchd` प्रारंभ करते हैं, तो I/O सांख्यिकी प्राप्त करें, तो आपको `--install` कमांड के साथ उसी लाइन पर विकल्प निर्दिष्ट करना होगा इस प्रकार:

  ```bat
  C:\WINDOWS\system32> C:\Manticore\bin\searchd.exe --install
     --config C:\Manticore\manticore.conf --iostats
  ```
* `--delete` Microsoft प्रबंधन कंसोल और अन्य स्थानों से सेवा को हटाता है जहां सेवाएं पंजीकृत हैं, पहले `--install` के साथ स्थापित होने के बाद। ध्यान दें कि यह सॉफ़्टवेयर को अनइंस्टॉल नहीं करता है या तालिकाओं को हटाता है। इसका अर्थ है कि सेवा को सेवाओं के सिस्टम से नहीं बुलाया जाएगा, और मशीन के अगले आरंभ पर इसे शुरू नहीं किया जाएगा। यदि वर्तमान में सेवा के रूप में चल रहा है, तो वर्तमान उदाहरण को समाप्त नहीं किया जाएगा (अगले रीबूट तक या `--stop` तक)। यदि सेवा को एक कस्टम नाम के साथ स्थापित किया गया था ( `--servicename` के साथ), तो अनइंस्टॉल करने के लिए कॉल करते समय उसी नाम को `--servicename` के साथ निर्दिष्ट करने की आवश्यकता होगी। उदाहरण:

  ```bat
  C:\WINDOWS\system32> C:\Manticore\bin\searchd.exe --delete
  ```

* `--servicename <name>` `searchd` को स्थापित करते या सेवा हटाते समय दिए गए नाम को लागू करता है, जैसा कि यह प्रबंधन कंसोल में दिखाई देगा; यह डिफ़ॉल्ट रूप से searchd होगा, लेकिन यदि इसे उन सर्वरों पर तैनात किया जा रहा है जहां कई प्रशासक सिस्टम में लॉग इन कर सकते हैं, या एक सिस्टम जिसमें कई `searchd` उदाहरण हैं, तो एक अधिक वर्णनात्मक नाम लागू हो सकता है। ध्यान दें कि जब तक इसे `--install` या `--delete` के साथ संयोजित नहीं किया जाता, यह विकल्प कुछ नहीं करता है। उदाहरण:
  ```bat
  C:\WINDOWS\system32> C:\Manticore\bin\searchd.exe --install
     --config C:\Manticore\manticore.conf --servicename ManticoreSearch
  ```

* `--ntservice` एक विकल्प है जो Microsoft प्रबंधन कंसोल द्वारा `searchd` को विंडोज प्लेटफार्मों पर सेवा के रूप में चलाने के लिए पास किया जाता है। सामान्यतः इसे सीधे कॉल करने की आवश्यकता नहीं होगी; इसे सामान्यतः Windows द्वारा तब कॉल किया जाएगा जब सेवा शुरू की जाती है, हालाँकि यदि आप इसे कमांड-लाइन से एक नियमित सेवा के रूप में कॉल करना चाहते थे (जो `--console` का पूरक है) तो सिद्धांत रूप में आप ऐसा कर सकते थे।

* `--safetrace` `searchd` को केवल सिस्टम के backtrace() कॉल का उपयोग करने के लिए मजबूर करता है क्रैश रिपोर्ट में। कुछ (दुर्लभ) परिदृश्यों में, यह रिपोर्ट प्राप्त करने का एक "सुरक्षित" तरीका हो सकता है। यह एक डिबगिंग विकल्प है।

* `--nodetach` स्विच (लिनक्स केवल) `searchd` को बैकग्राउंड में अलग नहीं करने के लिए कहता है। यह लॉग प्रविष्टियों को कंसोल में प्रिंट करने का कारण भी बनेगा। क्वेरी प्रोसेसिंग सामान्य रूप से कार्य करती है। यह एक डिबगिंग विकल्प है और जब आप Manticore को एक Docker कंटेनर में चलाते हैं, तो इसका आउटपुट कैप्चर करने में सहायक हो सकता है।

## प्लगइन dir

Manticore [plugin_dir](../Server_settings/Common.md#plugin_dir) का उपयोग Manticore Buddy प्लगइन्स को स्टोर और उपयोग करने के लिए करता है। डिफ़ॉल्ट रूप से, यह मान "manticore" उपयोगकर्ता के लिए एक मानक स्थापना में सुलभ है। हालाँकि, यदि आप अलग उपयोगकर्ता के साथ searchd डेमन को मैन्युअल रूप से शुरू करते हैं, तो डेमन के पास `plugin_dir` पर पहुँच नहीं हो सकती है। इस समस्या को हल करने के लिए, सुनिश्चित करें कि आप सामान्य अनुभाग में एक `plugin_dir` निर्दिष्ट करें जिसमें searchd डेमन चला रहा उपयोगकर्ता लिख सकता है।

## सिग्नल

`searchd` कई संकेतों का समर्थन करता है:

* `SIGTERM` - एक स्वच्छ शटडाउन की शुरुआत करता है। नई क्वेरियों को संबोधित नहीं किया जाएगा, लेकिन जो क्वेरी पहले से शुरू हो चुकी हैं, उन्हें बलात् बाधित नहीं किया जाएगा।
* `SIGHUP` - तालिकाओं का घुमाव शुरू करता है। [seamless_rotate](../Server_settings/Searchd.md#seamless_rotate) सेटिंग के मान के आधार पर, नई क्वेरियाँ कुछ समय के लिए रुकी रह सकती हैं; क्लाइंट को अस्थायी त्रुटियाँ प्राप्त होंगी।
* `SIGUSR1` - लॉग और क्वेरी लॉग फ़ाइलों को फिर से खोलने के लिए मजबूर करता है, लॉग फ़ाइल घुमाव की अनुमति देता है।

## पर्यावरण चर

* `MANTICORE_TRACK_DAEMON_SHUTDOWN=1` searchd के बंद होने के दौरान विस्तृत लॉगिंग सक्षम करता है। यह कुछ शटडाउन समस्याओं के मामले में उपयोगी है, जैसे जब Manticore को बंद होने में अधिक समय लगता है या शटडाउन प्रक्रिया के दौरान फ्रीज़ हो जाता है।
<!-- proofread -->

