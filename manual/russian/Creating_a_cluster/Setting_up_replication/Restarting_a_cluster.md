# Перезапуск кластера

В кластере с многими мастерами точка отсчета должна быть установлена, прежде чем другие узлы смогут присоединиться и сформировать кластер. Это называется начальной загрузкой кластера и включает в себя запуск одного узла в качестве `первичного компонента`. Перезапуск одного узла или повторное подключение после завершения работы можно выполнить в обычном режиме.

В случае полного выключения кластера сервер, который был остановлен последним, должен быть запущен первым с помощью опции командной строки `--new-cluster` или запустив `manticore_new_cluster` через systemd. Чтобы убедиться, что сервер может быть точкой отсчета, файл `grastate.dat`, расположенный по [пути](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster), должен быть обновлен со значением 1 для опции `safe_to_bootstrap`. Обе условия, `--new-cluster` и `safe_to_bootstrap=1`, должны быть выполнены. Если любой другой узел будет запущен без установки этих опций, произойдет ошибка. Опция командной строки `--new-cluster-force` может быть использована для обхода этой защиты и принудительного запуска кластера с другого сервера. В качестве альтернативы, вы можете выполнить `manticore_new_cluster --force` для использования systemd.

В случае жесткого сбоя или некорректного завершения работы всех серверов в кластере, необходимо идентифицировать и запустить самый продвинутый узел с наибольшим `seqno` в файле `grastate.dat`, расположенном по [пути](../../Creating_a_cluster/Setting_up_replication/Setting_up_replication.md#Replication-cluster), с помощью ключа командной строки `--new-cluster-force`.

<!-- proofread -->
