# ПЕРЕЗАГРУЗКА ПЛАГИНОВ

```sql
RELOAD PLUGINS FROM SONAME 'plugin_library'
```

Перезагружает все плагины (UDF, ранкеры и т.д.) из указанной библиотеки. В некотором смысле процесс перезагрузки является транзакционным и гарантирует:
1. что все плагины будут успешно обновлены до новых версий;
2. что обновление атомарно, то есть все плагины заменяются одновременно. Эта атомарность гарантирует, что запросы, использующие несколько функций из перезагруженной библиотеки, никогда не будут смешивать старые и новые версии.

Во время `RELOAD` набор плагинов гарантированно будет согласованным; либо все будут старыми, либо все новыми.

Процесс перезагрузки также бесшовный, так как для параллельных запросов всегда будет доступна какая-либо версия перезагруженного плагина, без временных сбоев. Это улучшение по сравнению с использованием пары операторов `DROP` и `CREATE` для перезагрузки. При таком подходе существует короткий промежуток времени между `DROP` и последующим `CREATE`, когда запросы технически обращаются к неизвестному плагину и поэтому завершаются с ошибкой.

В случае любой ошибки `RELOAD PLUGINS` ничего не делает, сохраняет старые плагины и сообщает об ошибке.

В Windows перезапись или удаление DLL-библиотеки, которая в данный момент используется, может вызывать проблемы. Однако вы всё ещё можете переименовать её, поместить новую версию под старым именем, и тогда `RELOAD` сработает. После успешной перезагрузки вы также сможете удалить переименованную старую библиотеку.

```sql
mysql> RELOAD PLUGINS FROM SONAME 'udfexample.dll';
Query OK, 0 rows affected (0.00 sec)
```
<!-- proofread -->

