# ПЕРЕЗАГРУЗКА ПЛАГИНОВ

```sql
RELOAD PLUGINS FROM SONAME 'plugin_library'
```

Перезагружает все плагины (UDF, ранкеры и т. д.) из заданной библиотеки. В некотором смысле процесс перезагрузки является транзакционным, обеспечивая:
1. успешное обновление всех плагинов до их новых версий;
2. атомарность обновления, что означает, что все плагины заменяются одновременно. Эта атомарность гарантирует, что запросы, использующие несколько функций из перезагруженной библиотеки, никогда не будут смешивать старые и новые версии.

Во время `RELOAD` набор плагинов гарантированно будет согласованным; они будут либо все старыми, либо все новыми.

Процесс перезагрузки также безболезненный, так как некоторые версии перезагруженного плагина всегда будут доступны для параллельных запросов, без каких-либо временных перебоев. Это улучшение по сравнению с использованием пары операторов `DROP` и `CREATE` для перезагрузки. С ними существует короткое окно между `DROP` и последующим `CREATE`, в течение которого запросы технически ссылаются на неизвестный плагин и, следовательно, будут проваливаться.

Если произойдет ошибка, `RELOAD PLUGINS` ничего не сделает, сохранит старые плагины и сообщит об ошибке.

В Windows перезапись или удаление библиотеки DLL, которая в настоящее время используется, может вызвать проблемы. Тем не менее, вы все равно можете переименовать ее, поместить новую версию под старым именем, и тогда `RELOAD` будет работать. После успешной перезагрузки вы также сможете удалить переименованную старую библиотеку.

```sql
mysql> RELOAD PLUGINS FROM SONAME 'udfexample.dll';
Query OK, 0 rows affected (0.00 sec)
```
<!-- proofread -->
