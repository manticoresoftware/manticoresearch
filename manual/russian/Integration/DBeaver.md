# Интеграция с DBeaver

> ЗАМЕТКА: Интеграция с DBeaver требует [Manticore Buddy](../Installation/Manticore_Buddy.md). Если это не работает, убедитесь, что Buddy установлен.

[DBeaver](https://dbeaver.io/) — это приложение для работы с SQL и инструмент администрирования баз данных. Для баз данных MySQL он применяет интерфейс программирования приложений JDBC для взаимодействия с ними через драйвер JDBC.

Manticore позволяет вам использовать DBeaver для работы с данными, хранящимися в таблицах Manticore, так же, как если бы они хранились в базе данных MySQL.

## Настройки для использования

Чтобы начать работу с Manticore в DBeaver, выполните следующие шаги:

- Выберите опцию `Новое соединение с базой данных` в интерфейсе DBeaver
- Выберите `SQL` -> `MySQL` в качестве драйвера базы данных DBeaver
- Установите параметры `Сервер` и `Порт`, соответствующие хосту и порту вашего экземпляра Manticore (оставьте поле `база данных` пустым)
- Установите `root/<пустой пароль>` в качестве учетных данных для аутентификации


## Доступные функции

Поскольку Manticore не полностью поддерживает MySQL, только часть функциональности DBeaver доступна при работе с Manticore.

Вы сможете:
- Просматривать, создавать, удалять и переименовывать таблицы
- Добавлять и удалять столбцы таблиц
- Вставлять, удалять и обновлять данные в столбцах

Вы не сможете:
- Использовать механизмы проверки целостности базы данных (`MyISAM` будет установлен как единственный доступный движок хранения)
- Использовать процедуры, триггеры, события и т. д. MySQL
- Управлять пользователями базы данных
- Устанавливать другие параметры администрирования базы данных


## Обработка типов данных

Некоторые типы данных MySQL в настоящее время не поддерживаются Manticore и, следовательно, не могут быть использованы при создании новой таблицы с помощью DBeaver. Кроме того, некоторые из поддерживаемых типов данных преобразуются в наиболее сходные типы Manticore с игнорированием точности типов при таком преобразовании. Ниже приведён список поддерживаемых типов данных MySQL и соответствующих им типов Manticore:

- `BIGINT UNSIGNED` => `bigint`
- `BOOL` => `boolean`
- `DATE`, `DATETIME`, `TIMESTAMP`  => `timestamp`
- `FLOAT` => `float`
- `INT` => `int`
- `INT UNSIGNED`, `SMALLINT UNSIGNED`, `TINYINT UNSIGNED`, `BIT` => `uint`
- `JSON` => `json`
- `TEXT`, `LONGTEXT`, `MEDIUMTEXT`, `TINYTEXT`, `BLOB`, `LONGBLOB`, `MEDIUMBLOB`, `TINYBLOB`  => `text`
- `VARCHAR`, `LONG VARCHAR`, `BINARY`, `CHAR`, `VARBINARY`, `LONG VARBINARY`  => `string`

Вы можете найти更多 подробностей о типах данных Manticore [здесь](Creating_a_table/Data_types.md#Data-types).

### О типах даты

Manticore может обрабатывать типы данных `DATE`, `DATETIME` и `TIMESTAMP`, однако это требует включения [Buddy](Starting_the_server/Docker.md#Manticore-Columnar-Library-and-Manticore-Buddy). В противном случае попытка работать с одним из этих типов приведет к ошибке.

Обратите внимание, что тип `TIME` не поддерживается.

## Возможные нюансы

- Опция DBeaver `Preferences` -> `Connections` -> `Client identification` не должна быть отключена или переопределена.
  Для правильной работы с DBeaver Manticore необходимо отличать свои запросы от других. Для этого он использует информацию о клиентских уведомлениях, отправляемую DBeaver в заголовках запросов. Отключение клиентского уведомления приведет к неправильному определению и, следовательно, к неправильной функциональности Manticore.

- Когда вы впервые попытаетесь обновить данные в вашей таблице, вы увидите всплывающее сообщение `Нет уникального ключа` и вас попросят определить пользовательский уникальный ключ.
  Когда вы получите это сообщение, выполните следующие шаги:

  - Выберите опцию `Пользовательский уникальный ключ`
  - Выберите только столбец `id` в списке столбцов
  - Нажмите `Ok`

  После этого вы сможете безопасно обновлять свои данные.
