# Введение

Manticore Search — это высокопроизводительная многохранилищная база данных, созданная специально для поиска и аналитики, предлагающая молниеносный полнотекстовый поиск, индексирование в реальном времени и продвинутые возможности, такие как векторный поиск и колонковое хранение для эффективного анализа данных. Разработана для работы с малыми и большими наборами данных, обеспечивая бесшовную масштабируемость и мощные аналитические возможности для современных приложений.

Как база данных с открытым исходным кодом (доступна на [GitHub](https://github.com/manticoresoftware/manticoresearch/)), Manticore Search была создана в 2017 году как продолжение движка [Sphinx Search](https://sphinxsearch.com/). Наша команда разработчиков взяла все лучшие функции Sphinx и значительно улучшила его функциональность, исправив сотни ошибок (подробности смотрите в нашем [Changelog](https://manual.manticoresearch.com/Changelog)). Manticore Search — современная, быстрая и легковесная база данных с исключительными возможностями полнотекстового поиска, построенная на практически полном переписывании своего предшественника.

## Ключевые особенности Manticore:
#### Мощный и быстрый полнотекстовый поиск, хорошо работающий с малыми и крупными наборами данных

  * [Автодополнение запросов](Searching/Autocomplete.md)
  * [Нечеткий поиск](Searching/Spell_correction.md#Fuzzy-Search)
  * Более 20 [операторов полнотекстового поиска](https://play.manticoresearch.com/fulltextintro/)<!--{target="_blank"}--> и более 20 факторов ранжирования
  * [Пользовательское ранжирование](Searching/Sorting_and_ranking.md#Ranking-overview)
  * [Стемминг](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Лемматизация](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Стоп-слова](Creating_a_table/NLP_and_tokenization/Ignoring_stop-words.md)
  * [Синонимы](Creating_a_table/NLP_and_tokenization/Exceptions.md)
  * [Формы слов](Creating_a_table/NLP_and_tokenization/Wordforms.md)
  * [Продвинутая токенизация на уровне символов и слов](Creating_a_table/NLP_and_tokenization/Low-level_tokenization.md)
  * [Корректная сегментация китайского языка](Creating_a_table/NLP_and_tokenization/Languages_with_continuous_scripts.md)
  * [Подсветка текста](Searching/Highlighting.md)

#### Возможности векторного поиска
Manticore Search поддерживает добавление эмбеддингов, сгенерированных вашими моделями машинного обучения, к каждому документу с последующим выполнением [поиска ближайших соседей](Searching/KNN.md). Это позволяет создавать функции, такие как поиск похожих объектов, рекомендации, семантический поиск и ранжирование релевантности на основе NLP-алгоритмов, включая поиск по изображениям, видео и звуку.

#### JOIN
Manticore Search поддерживает [JOIN](Searching/Joining.md) запросы через SQL и JSON, позволяя объединять данные из нескольких таблиц.

#### Многопоточность
Manticore Search использует умное параллелизирование запросов для снижения времени отклика и полного использования всех ядер процессора при необходимости.

#### Оптимизатор запросов на основе стоимости
Оптимизатор запросов на основе стоимости использует статистические данные про индексированные данные для оценки относительных затрат различных планов выполнения заданного запроса. Это позволяет оптимизатору определять наиболее эффективный план извлечения нужных результатов, учитывая такие факторы, как размер индексированных данных, сложность запроса и доступные ресурсы.

#### Варианты хранения
Manticore предлагает оба варианта хранения — [строчно-ориентированное и колонковое](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages), чтобы удовлетворить потребности наборов данных разных размеров. Традиционный и по умолчанию используемый вариант — строчно-ориентированное хранение, доступное для наборов всех размеров — малых, средних и больших, тогда как колонковое хранение предоставляется через Manticore Columnar Library для ещё больших наборов данных. Ключевое различие между этими вариантами в том, что строчно-ориентированное хранение требует, чтобы все атрибуты (кроме полнотекстовых полей) хранились в ОЗУ для оптимальной производительности, тогда как колонковое хранение этого не требует, обеспечивая меньшее потребление ОЗУ, но потенциально немного более медленную производительность (как показано в статистике на https://db-benchmarks.com/).

#### Автоматические вторичные индексы
[Manticore Columnar Library](https://github.com/manticoresoftware/columnar/) использует [индекс Piecewise Geometric Model](https://github.com/gvinciguerra/PGM-index), который использует обучаемое отображение между индексированными ключами и их расположением в памяти. Краткость этого отображения, в сочетании с особым рекурсивным алгоритмом построения, делает PGM-индекс структурой данных, превосходящей традиционные индексы по объему памяти на порядки и при этом предлагающей лучшее время выполнения запросов и обновлений. Вторичные индексы включены по умолчанию для всех числовых и строковых полей и могут быть включены для json-атрибутов.

#### SQL в первую очередь
Родной синтаксис Manticore — это SQL, поддерживающий SQL по HTTP и протокол MySQL, что позволяет подключаться через популярные mysql-клиенты на любом языке программирования.

#### JSON по HTTP
Для более программного подхода к управлению данными и схемами Manticore предоставляет протокол [HTTP JSON](Searching/Full_text_matching/Basic_usage.md#HTTP-JSON), аналогичный Elasticsearch.

#### Совместимость с Elasticsearch для записи
Вы можете выполнять совместимые с Elasticsearch JSON-запросы на [вставку](Data_creation_and_modification/Adding_documents_to_a_table/Adding_documents_to_a_real-time_table.md#Adding-documents-to-a-real-time-table) и [замену](Data_creation_and_modification/Updating_documents/REPLACE.md#REPLACE), что позволяет использовать Manticore с такими инструментами, как Logstash (версии < 7.13), Filebeat и другими из семейства Beats.

#### Декларативное и императивное управление схемами
Просто создавайте, обновляйте и удаляйте таблицы онлайн или с помощью конфигурационного файла.

#### Преимущества C++ и удобство PHP
Демон Manticore Search разработан на C++, что обеспечивает быстрое время запуска и эффективное использование памяти. Оптимизации на низком уровне дополнительно повышают производительность. Другой важный компонент, под названием [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy), написан на PHP и используется для высокоуровневой функциональности, которая не требует сверхбыстрой реакции или чрезвычайно высокой вычислительной мощности. Хотя внесение вклада в код на C++ может быть сложной задачей, добавление новой SQL/JSON команды с помощью Manticore Buddy должно быть простым процессом.

#### Вставки в реальном времени
Добавленные или обновленные документы можно сразу же читать.

#### Интерактивные курсы для легкого обучения
Мы предлагаем [бесплатные интерактивные курсы](https://play.manticoresearch.com/), чтобы обучение было легким.

#### Транзакции
Хотя Manticore не полностью соответствует требованиям ACID, он поддерживает изолированные транзакции для атомарных изменений и бинарное логирование для безопасных записей.

#### Встроенная репликация и балансировка нагрузки
Данные могут быть распределены между серверами и центрами обработки данных, при этом любой узел Manticore Search может выступать как балансировщик нагрузки и как узел данных. Manticore реализует практически синхронную многомастерскую [репликацию](https://play.manticoresearch.com/replication/) с использованием [библиотеки Galera](https://galeracluster.com/), что обеспечивает согласованность данных на всех узлах, предотвращает потерю данных и предоставляет исключительную производительность репликации.

#### Встроенные возможности резервного копирования
Manticore оснащен внешним инструментом [manticore-backup](Securing_and_compacting_a_table/Backup_and_restore.md) и SQL-командой [BACKUP](Securing_and_compacting_a_table/Backup_and_restore.md#BACKUP-SQL-command-reference) для упрощения процесса резервного копирования и восстановления данных. В качестве альтернативы вы можете использовать [mysqldump](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html) для [логического резервного копирования](Securing_and_compacting_a_table/Backup_and_restore.md#Backup-and-restore-with-mysqldump).

#### Готовая синхронизация данных
Инструмент `indexer` и обширный синтаксис конфигурации Manticore упрощают синхронизацию данных из таких источников, как MySQL, PostgreSQL, базы, совместимые с ODBC, XML и CSV.

#### Варианты интеграции
Вы можете интегрировать Manticore Search с сервером MySQL/MariaDB с помощью [движка FEDERATED](Extensions/FEDERATED.md) или через [ProxySQL](https://manticoresearch.com/blog/using-proxysql-to-route-inserts-in-a-distributed-realtime-index/).

Вы можете использовать [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/) и [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) для визуализации данных, хранящихся в Manticore. Для интерактивной разработки запросов Manticore можно использовать различные MySQL инструменты, такие как [HeidiSQL](https://www.heidisql.com/) и [DBForge](https://www.devart.com/dbforge/).

Вы также можете использовать Manticore Search с [Kibana](Integration/Kibana.md).

#### Простая фильтрация потоков
Manticore предлагает специальный тип таблицы — "[percolate](Creating_a_table/Local_tables/Percolate_table.md)", который позволяет искать запросы вместо данных, что делает его эффективным инструментом для фильтрации полнотекстовых потоков данных. Просто сохраняйте ваши запросы в таблице, обрабатывайте поток данных, отправляя каждую партию документов в Manticore Search и получайте только результаты, которые совпадают с вашими сохраненными запросами.

#### Возможные применения
Manticore Search универсален и может применяться в различных сценариях, включая:

- **Полнотекстовый поиск**:
  - Идеален для платформ электронной коммерции, обеспечивая быстрый и точный поиск товаров с такими возможностями, как автозаполнение и нечеткий поиск.
  - Отлично подходит для сайтов с большим объемом контента, позволяя пользователям быстро находить релевантные статьи или документы.

- **Аналитика данных**:
  - Ввод данных в Manticore Search с использованием [Beats/Logstash](https://manticoresearch.com/blog/integration-of-manticore-with-logstash-filebeat/), [Vector.dev](https://manticoresearch.com/blog/integration-of-manticore-with-vectordev/), [Fluentbit](https://manticoresearch.com/blog/integration-of-manticore-with-fluentbit/).
  - Эффективный анализ больших наборов данных с использованием колоннарного хранилища Manticore и возможностей OLAP.
  - Выполнение сложных запросов по терабайтам данных с минимальной задержкой.
  - Визуализация данных с помощью Kibana, [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) или [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/).

- **Фасетный поиск**:
  - Позволяет пользователям фильтровать результаты поиска по категориям, например цене, бренду или дате, для более точного результата.

- **Геопространственный поиск**:
  - Реализация поиска по местоположению, например, поиск ближайших ресторанов или магазинов, с использованием геопространственных возможностей Manticore.

- **Исправление опечаток**:
  - Автоматическая коррекция опечаток пользователей в поисковых запросах для улучшения точности поиска и удобства пользователей.

- **Автозаполнение**:
  - Предоставление подсказок в реальном времени по мере ввода, улучшая удобство и скорость поиска.

- **Фильтрация потоков данных**:
  - Использование percolate таблиц для фильтрации и обработки потоков данных в реальном времени, таких как ленты социальных сетей или данные логов, эффективно.


## Требования

* Архитектура: arm64 или x86_64
* ОС: на базе Debian (например, Debian, Ubuntu, Mint), на базе RHEL (например, RHEL, CentOS, Alma, Oracle Linux, Amazon Linux), Windows или MacOS.
* [Библиотека Manticore Columnar](https://github.com/manticoresoftware/columnar), которая обеспечивает [колоннарное хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) и [вторичные индексы](Introduction.md#Automatic-secondary-indexes), требует процессор с SSE >= 4.2.
* Специальных требований к дисковому пространству или оперативной памяти нет. Пустой экземпляр Manticore Search занимает около 40 МБ RSS памяти.

<!-- proofread -->

