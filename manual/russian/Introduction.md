# Введение

Manticore Search — это высокопроизводительная многосхрановая база данных, специально созданная для поиска и аналитики, предлагающая молниеносный полнотекстовый поиск, индексирование в реальном времени и расширенные функции, такие как векторный поиск и колонковое хранение для эффективного анализа данных. Разработанная для работы как с малыми, так и с большими наборами данных, она обеспечивает бесшовную масштабируемость и мощные аналитические возможности для современных приложений.

Как база данных с открытым исходным кодом (доступна на [GitHub](https://github.com/manticoresoftware/manticoresearch/)), Manticore Search была создана в 2017 году как продолжение движка [Sphinx Search](https://sphinxsearch.com/). Наша команда разработчиков взяла все лучшие функции Sphinx и значительно улучшила его функциональность, исправив сотни ошибок по пути (подробности в нашем [Changelog](https://manual.manticoresearch.com/Changelog)). Manticore Search — это современная, быстрая и легковесная база данных с исключительными возможностями полнотекстового поиска, построенная на почти полном переписывании своего предшественника.

## Ключевые особенности Manticore:
#### Мощный и быстрый полнотекстовый поиск, хорошо работающий как с малыми, так и с большими наборами данных

  * [Автозаполнение запросов](Searching/Autocomplete.md)
  * [Нечеткий поиск](Searching/Spell_correction.md#Fuzzy-Search)
  * Более 20 [операторов полнотекстового поиска](https://play.manticoresearch.com/fulltextintro/)<!--{target="_blank"}--> и более 20 факторов ранжирования
  * [Пользовательское ранжирование](Searching/Sorting_and_ranking.md#Ranking-overview)
  * [Стемминг](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Лемматизация](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Стоп-слова](Creating_a_table/NLP_and_tokenization/Ignoring_stop-words.md)
  * [Синонимы](Creating_a_table/NLP_and_tokenization/Exceptions.md)
  * [Формы слов](Creating_a_table/NLP_and_tokenization/Wordforms.md)
  * [Продвинутая токенизация на уровне символов и слов](Creating_a_table/NLP_and_tokenization/Low-level_tokenization.md)
  * [Корректная сегментация китайского языка](Creating_a_table/NLP_and_tokenization/Languages_with_continuous_scripts.md)
  * [Подсветка текста](Searching/Highlighting.md)

#### Возможности векторного поиска
Manticore Search поддерживает возможность добавления эмбеддингов, сгенерированных вашими моделями машинного обучения, к каждому документу, а затем выполнения [поиска ближайших соседей](Searching/KNN.md) по ним. Это позволяет создавать функции, такие как поиск по сходству, рекомендации, семантический поиск и ранжирование релевантности на основе алгоритмов обработки естественного языка, а также поиск по изображениям, видео и звуку.

#### JOIN
Manticore Search поддерживает [JOIN](Searching/Joining.md) запросы через SQL и JSON, позволяя объединять данные из нескольких таблиц.

#### Многопоточность
Manticore Search использует умную параллелизацию запросов для снижения времени отклика и полного использования всех ядер процессора при необходимости.

#### Оптимизатор запросов на основе стоимости
Оптимизатор запросов на основе стоимости использует статистические данные об индексированных данных для оценки относительных затрат различных планов выполнения для данного запроса. Это позволяет оптимизатору определить наиболее эффективный план для получения нужных результатов, учитывая такие факторы, как размер индексированных данных, сложность запроса и доступные ресурсы.

#### Варианты хранения
Manticore предлагает как [построчное, так и колонковое хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) для работы с наборами данных различных размеров. Традиционный и по умолчанию используемый построчный вариант хранения доступен для наборов данных любого размера — малых, средних и больших, в то время как колонковое хранение предоставляется через Manticore Columnar Library для еще больших наборов данных. Ключевое отличие этих вариантов хранения в том, что построчное хранение требует, чтобы все атрибуты (за исключением полнотекстовых полей) хранились в оперативной памяти для оптимальной производительности, тогда как колонковое хранение этого не требует, что обеспечивает меньшее потребление ОЗУ, но с потенциально немного более медленной производительностью (что демонстрируют статистические данные на https://db-benchmarks.com/).

#### Автоматические вторичные индексы
[Manticore Columnar Library](https://github.com/manticoresoftware/columnar/) использует [индекс Piecewise Geometric Model](https://github.com/gvinciguerra/PGM-index), который использует обученную взаимосвязь между индексируемыми ключами и их расположением в памяти. Компактность этого отображения, в сочетании с особенностями рекурсивного алгоритма построения, делает PGM-индекс структурой данных, которая превосходит традиционные индексы по объему памяти на порядки, при этом обеспечивая лучшее время выполнения запросов и обновлений. Вторичные индексы включены по умолчанию для всех числовых и строковых полей и могут быть включены для json-атрибутов.

#### SQL в первую очередь
Родной синтаксис Manticore — SQL, и он поддерживает SQL через HTTP и протокол MySQL, что позволяет подключаться через популярные mysql-клиенты на любом языке программирования.

#### JSON через HTTP
Для более программного подхода к управлению данными и схемами Manticore предоставляет протокол [HTTP JSON](Searching/Full_text_matching/Basic_usage.md#HTTP-JSON), аналогичный Elasticsearch.

#### Записи, совместимые с Elasticsearch
Вы можете выполнять совместимые с Elasticsearch [insert](Data_creation_and_modification/Adding_documents_to_a_table/Adding_documents_to_a_real-time_table.md#Adding-documents-to-a-real-time-table) и [replace](Data_creation_and_modification/Updating_documents/REPLACE.md#REPLACE) JSON-запросы, что позволяет использовать Manticore с такими инструментами, как Logstash (версия < 7.13), Filebeat и другими инструментами из семейства Beats.

#### Декларативное и императивное управление схемами
Легко создавать, обновлять и удалять таблицы онлайн или через конфигурационный файл.

#### Преимущества C++ и удобство PHP
Демон Manticore Search разработан на C++, обеспечивая быстрое время запуска и эффективное использование памяти. Оптимизации на низком уровне дополнительно повышают производительность. Другой важный компонент, называемый [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy), написан на PHP и используется для функциональности высокого уровня, которая не требует молниеносного времени отклика или чрезвычайно высокой вычислительной мощности. Хотя внесение изменений в код на C++ может быть сложной задачей, добавление новой SQL/JSON команды с использованием Manticore Buddy должно быть простым процессом.

#### Вставки в реальном времени
Новые или обновленные документы можно сразу же читать.

#### Интерактивные курсы для легкого обучения
Мы предлагаем [бесплатные интерактивные курсы](https://play.manticoresearch.com/), чтобы обучение было простым.

#### Транзакции
Хотя Manticore не полностью соответствует стандарту ACID, он поддерживает изолированные транзакции для атомарных изменений и бинарное логирование для безопасной записи.

#### Встроенная репликация и балансировка нагрузки
Данные могут распределяться между серверами и дата-центрами, при этом любой узел Manticore Search может выступать как балансировщиком нагрузки, так и узлом данных. Manticore реализует практически синхронную мульти-мастер [репликацию](https://play.manticoresearch.com/replication/) с использованием [библиотеки Galera](https://galeracluster.com/), обеспечивая согласованность данных на всех узлах, предотвращая потерю данных и обеспечивая исключительную производительность репликации.

#### Встроенные возможности резервного копирования
Manticore оснащен внешним инструментом [manticore-backup](Securing_and_compacting_a_table/Backup_and_restore.md) и SQL-командой [BACKUP](Securing_and_compacting_a_table/Backup_and_restore.md#BACKUP-SQL-command-reference) для упрощения процесса резервного копирования и восстановления данных. В качестве альтернативы можно использовать [mysqldump](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html) для [создания логических резервных копий](Securing_and_compacting_a_table/Backup_and_restore.md#Backup-and-restore-with-mysqldump).

#### Готовая синхронизация данных
Инструмент `indexer` и обширный синтаксис конфигурации Manticore упрощают синхронизацию данных из источников, таких как MySQL, PostgreSQL, базы данных, совместимые с ODBC, XML и CSV.

#### Варианты интеграции
Вы можете интегрировать Manticore Search с сервером MySQL/MariaDB, используя [FEDERATED engine](Extensions/FEDERATED.md) или через [ProxySQL](https://manticoresearch.com/blog/using-proxysql-to-route-inserts-in-a-distributed-realtime-index/).

Вы можете использовать [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/) и [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) для визуализации данных, хранящихся в Manticore. Для интерактивной разработки запросов Manticore можно использовать различные инструменты MySQL, такие как [HeidiSQL](https://www.heidisql.com/) и [DBForge](https://www.devart.com/dbforge/).

Также можно использовать Manticore Search с [Kibana](Integration/Kibana.md).

#### Упрощенная фильтрация потоков
Manticore предлагает специальный тип таблиц — "[percolate](Creating_a_table/Local_tables/Percolate_table.md)", который позволяет искать запросы вместо данных, что делает его эффективным инструментом для фильтрации полнотекстовых потоков данных. Просто сохраните ваши запросы в таблице, обрабатывайте поток данных, отправляя каждую партию документов в Manticore Search, и получайте только результаты, соответствующие вашим сохраненным запросам.

#### Возможные применения
Manticore Search универсален и может применяться в различных сценариях, включая:

- **Полнотекстовый поиск**:
  - Идеально подходит для платформ электронной коммерции, обеспечивая быстрый и точный поиск товаров с такими функциями, как автозаполнение и нечеткий поиск.
  - Отлично подходит для сайтов с большим количеством контента, позволяя пользователям быстро находить релевантные статьи или документы.

- **Аналитика данных**:
  - Загружайте данные в Manticore Search с помощью [Beats/Logstash](https://manticoresearch.com/blog/integration-of-manticore-with-logstash-filebeat/), [Vector.dev](https://manticoresearch.com/blog/integration-of-manticore-with-vectordev/), [Fluentbit](https://manticoresearch.com/blog/integration-of-manticore-with-fluentbit/).
  - Эффективно анализируйте большие наборы данных с помощью колоннарного хранения и OLAP-возможностей Manticore.
  - Выполняйте сложные запросы по терабайтам данных с минимальной задержкой.
  - Визуализируйте данные с помощью Kibana, [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) или [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/).

- **Фасетный поиск**:
  - Позвольте пользователям фильтровать результаты поиска по категориям, таким как цена, бренд или дата, для более точного поиска.

- **Геопространственный поиск**:
  - Реализуйте поиск по местоположению, например, поиск ближайших ресторанов или магазинов, используя геопространственные возможности Manticore.

- **Коррекция орфографии**:
  - Автоматически исправляйте опечатки пользователей в поисковых запросах для повышения точности поиска и удобства использования.

- **Автозаполнение**:
  - Предлагайте подсказки в реальном времени по мере ввода пользователями, улучшая удобство и скорость поиска.

- **Фильтрация потоков данных**:
  - Используйте percolate таблицы для фильтрации и обработки потоков данных в реальном времени, таких как ленты социальных сетей или данные журналов, эффективно.


## Требования

* Архитектура: arm64 или x86_64
* ОС: на базе Debian (например, Debian, Ubuntu, Mint), на базе RHEL (например, RHEL, CentOS, Alma, Oracle Linux, Amazon Linux), Windows или MacOS.
* [Manticore Columnar Library](https://github.com/manticoresoftware/columnar), которая обеспечивает [колоннарное хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) и [вторичные индексы](Introduction.md#Automatic-secondary-indexes), требует процессор с SSE >= 4.2.
* Нет специфических требований к дисковому пространству или оперативной памяти. Пустой экземпляр Manticore Search использует около 40 МБ RSS RAM.

<!-- proofread -->

