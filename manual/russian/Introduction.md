# Введение

Manticore Search — это высокопроизводительная мультихранилищная база данных, специально созданная для поиска и аналитики, предлагающая молниеносный полнотекстовый поиск, индексацию в реальном времени и расширенные возможности, такие как векторный поиск и колоночное хранение для эффективного анализа данных. Разработана для работы как с малыми, так и с большими наборами данных, обеспечивая бесшовную масштабируемость и мощные возможности для получения аналитики в современных приложениях.

Как база данных с открытым исходным кодом (доступна на [GitHub](https://github.com/manticoresoftware/manticoresearch/)), Manticore Search была создана в 2017 году как продолжение движка [Sphinx Search](https://sphinxsearch.com/). Наша команда разработчиков взяла все лучшие функции Sphinx и значительно улучшила его функциональность, устранив сотни ошибок (подробности доступны в нашем [Changelog](https://manual.manticoresearch.com/Changelog)). Manticore Search — это современная, быстрая и лёгкая база данных с исключительными возможностями полнотекстового поиска, построенная на основе практически полного переписывания своего предшественника.

## Основные особенности Manticore:
#### Мощный и быстрый полнотекстовый поиск, хорошо работающий как с малыми, так и с большими наборами данных

  * [Автозаполнение запросов](Searching/Autocomplete.md)
  * [Нечёткий поиск](Searching/Spell_correction.md#Fuzzy-Search)
  * Более 20 [операторов полнотекстового поиска](https://play.manticoresearch.com/fulltextintro/)<!--{target="_blank"}--> и более 20 факторов ранжирования
  * [Пользовательское ранжирование](Searching/Sorting_and_ranking.md#Ranking-overview)
  * [Стемминг](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Лемматизация](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Стоп-слова](Creating_a_table/NLP_and_tokenization/Ignoring_stop-words.md)
  * [Синонимы](Creating_a_table/NLP_and_tokenization/Exceptions.md)
  * [Формы слов](Creating_a_table/NLP_and_tokenization/Wordforms.md)
  * [Продвинутая токенизация на уровне символов и слов](Creating_a_table/NLP_and_tokenization/Low-level_tokenization.md)
  * [Корректное сегментирование китайского языка](Creating_a_table/NLP_and_tokenization/Languages_with_continuous_scripts.md)
  * [Подсветка текста](Searching/Highlighting.md)

#### Возможности векторного поиска
Manticore Search поддерживает возможность добавления эмбеддингов, сгенерированных вашими моделями машинного обучения, к каждому документу, а затем выполнения [поиска ближайших соседей](Searching/KNN.md) по ним. Это позволяет создавать такие функции, как поиск по схожести, рекомендации, семантический поиск и ранжирование релевантности на основе алгоритмов обработки естественного языка (NLP), включая поиск по изображениям, видео и звуку.

#### JOIN
Manticore Search поддерживает [JOIN](Searching/Joining.md) запросы через SQL и JSON, позволяя объединять данные из нескольких таблиц.

#### Многопоточность
Manticore Search использует умную параллелизацию запросов для снижения времени отклика и полного использования всех ядер процессора при необходимости.

#### Оптимизатор запросов на основе стоимости
Оптимизатор запросов на основе стоимости использует статистические данные об индексированных данных для оценки относительных затрат различных планов выполнения для данного запроса. Это позволяет оптимизатору определить наиболее эффективный план для получения необходимых результатов с учётом таких факторов, как размер индексированных данных, сложность запроса и доступные ресурсы.

#### Варианты хранения
Manticore предлагает как [построчное, так и колоночное хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) для работы с наборами данных разных размеров. Традиционный и стандартный вариант построчного хранения доступен для наборов данных любого размера — малых, средних и больших, в то время как колоночное хранение предоставляется через Manticore Columnar Library для ещё больших наборов данных. Главное отличие этих вариантов в том, что построчное хранение требует, чтобы все атрибуты (за исключением полнотекстовых полей) хранились в ОЗУ для оптимальной производительности, тогда как колоночное хранение этого не требует, что обеспечивает меньшее потребление ОЗУ, но с потенциально чуть более низкой производительностью (что демонстрируется статистикой на https://db-benchmarks.com/).

#### Автоматические вторичные индексы
[Manticore Columnar Library](https://github.com/manticoresoftware/columnar/) использует индекс [Piecewise Geometric Model](https://github.com/gvinciguerra/PGM-index), который использует обученную связь между индексированными ключами и их расположением в памяти. Компактность этого отображения вместе с особым рекурсивным алгоритмом построения делает PGM-индекс структурой данных, которая превосходит традиционные индексы по пространству в несколько порядков при сохранении лучшего времени выполнения запросов и обновлений. Вторичные индексы включены по умолчанию для всех числовых и строковых полей и могут быть включены для json-атрибутов.

#### SQL в первую очередь
Родной синтаксис Manticore — это SQL, поддерживается SQL через HTTP и протокол MySQL, что позволяет подключаться через популярные mysql-клиенты на любом языке программирования.

#### JSON через HTTP
Для более программного подхода к управлению данными и схемами Manticore предоставляет протокол [HTTP JSON](Searching/Full_text_matching/Basic_usage.md#HTTP-JSON), аналогичный протоколу Elasticsearch.

#### Совместимые с Elasticsearch операции записи
Вы можете выполнять совместимые с Elasticsearch запросы [insert](Data_creation_and_modification/Adding_documents_to_a_table/Adding_documents_to_a_real-time_table.md#Adding-documents-to-a-real-time-table) и [replace](Data_creation_and_modification/Updating_documents/REPLACE.md#REPLACE) в формате JSON, что позволяет использовать Manticore с такими инструментами, как Logstash (версии < 7.13), Filebeat и другими инструментами из семейства Beats.

#### Декларативное и императивное управление схемами
Легко создавать, обновлять и удалять таблицы онлайн или через конфигурационный файл.

#### Преимущества C++ и удобство PHP
Демон поисковой системы Manticore Search разработан на C++, обеспечивая быстрое время запуска и эффективное использование памяти. Оптимизации на низком уровне дополнительно повышают производительность. Другой важный компонент, называемый [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy), написан на PHP и используется для функционала высокого уровня, который не требует молниеносного времени отклика или чрезвычайно высокой вычислительной мощности. Хотя внесение изменений в код на C++ может быть сложной задачей, добавление новой SQL/JSON команды с использованием Manticore Buddy должно быть простой процедурой.

#### Вставки в реальном времени
Новые или обновленные документы могут быть сразу же прочитаны.

#### Интерактивные курсы для легкого обучения
Мы предлагаем [бесплатные интерактивные курсы](https://play.manticoresearch.com/), чтобы обучение было простым.

#### Транзакции
Хотя Manticore не полностью соответствует ACID, он поддерживает изолированные транзакции для атомарных изменений и бинарный лог для безопасной записи.

#### Встроенное реплицирование и балансировка нагрузки
Данные могут распределяться между серверами и центрами обработки данных, при этом любой узел Manticore Search может выступать как балансировщик нагрузки, так и узел данных. Manticore реализует практически синхронное мульти-мастер [реплицирование](https://play.manticoresearch.com/replication/) с использованием [библиотеки Galera](https://galeracluster.com/), обеспечивая согласованность данных на всех узлах, предотвращая потерю данных и обеспечивая выдающуюся производительность репликации.

#### Встроенные возможности резервного копирования
Manticore оснащен внешним инструментом [manticore-backup](Securing_and_compacting_a_table/Backup_and_restore.md) и SQL-командой [BACKUP](Securing_and_compacting_a_table/Backup_and_restore.md#BACKUP-SQL-command-reference), упрощающими процесс резервного копирования и восстановления данных. Кроме того, вы можете использовать [mysqldump](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html) для [создания логических резервных копий](Securing_and_compacting_a_table/Backup_and_restore.md#Backup-and-restore-with-mysqldump).

#### Готовая к использованию синхронизация данных
Инструмент `indexer` и полный синтаксис конфигурации Manticore упрощают синхронизацию данных из источников, таких как MySQL, PostgreSQL, совместимые с ODBC базы данных, XML и CSV.

#### Варианты интеграции
Вы можете интегрировать Manticore Search с сервером MySQL/MariaDB с помощью [механизма FEDERATED](Extensions/FEDERATED.md) или через [ProxySQL](https://manticoresearch.com/blog/using-proxysql-to-route-inserts-in-a-distributed-realtime-index/).

Для визуализации данных, хранящихся в Manticore, можно использовать [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/), Kibana и [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/). Различные инструменты MySQL помогают интерактивно разрабатывать запросы для Manticore, такие как [HeidiSQL](https://www.heidisql.com/) и [DBForge](https://www.devart.com/dbforge/).

Вы можете использовать Manticore Search с [Kibana](Integration/Kibana.md).

#### Легкая фильтрация потоков
Manticore предлагает специальный тип таблиц, "[percolate](Creating_a_table/Local_tables/Percolate_table.md)", который позволяет искать запросы, а не данные, что делает его эффективным инструментом для фильтрации полнотекстовых потоков данных. Просто сохраните свои запросы в таблице, обрабатывайте поток данных, отправляя каждую партию документов в Manticore Search, и получайте только результаты, соответствующие вашим сохраненным запросам.

#### Возможные области применения
Manticore Search универсален и может применяться в различных сценариях, включая:

- **Полнотекстовый поиск**:
  - Идеально подходит для платформ электронной коммерции, обеспечивая быстрый и точный поиск товаров с такими функциями, как автозаполнение и нечёткий поиск.
  - Прекрасно подходит для контентных сайтов, позволяя пользователям быстро находить релевантные статьи или документы.

- **Аналитика данных**:
  - Импорт данных в Manticore Search с помощью [Beats/Logstash](https://manticoresearch.com/blog/integration-of-manticore-with-logstash-filebeat/), [Vector.dev](https://manticoresearch.com/blog/integration-of-manticore-with-vectordev/), [Fluentbit](https://manticoresearch.com/blog/integration-of-manticore-with-fluentbit/).
  - Эффективный анализ больших наборов данных с помощью колоночного хранения и OLAP возможностей Manticore.
  - Выполнение сложных запросов по терабайтам данных с минимальной задержкой.
  - Визуализация данных с использованием Kibana, [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) или [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/).

- **Фасетный поиск**:
  - Позволяет пользователям фильтровать результаты поиска по категориям, таким как цена, бренд или дата, для более точного поиска.

- **Геопространственный поиск**:
  - Реализация поиска по местоположению, например, поиск ближайших ресторанов или магазинов, с использованием геопространственных возможностей Manticore.

- **Коррекция опечаток**:
  - Автоматическая корректировка опечаток пользователей в поисковых запросах для улучшения точности поиска и удобства пользователей.

- **Автозаполнение**:
  - Предоставление предложений в реальном времени во время ввода, повышая удобство и скорость поиска.

- **Фильтрация потоков данных**:
  - Использование таблиц percolate для фильтрации и обработки потоков данных в реальном времени, таких как ленты социальных сетей или лог-файлы, эффективно и быстро.


## Требования

* Архитектура: arm64 или x86_64
* ОС: на базе Debian (например, Debian, Ubuntu, Mint), на базе RHEL (например, RHEL, CentOS, Alma, Oracle Linux, Amazon Linux), Windows или MacOS.
* [Manticore Columnar Library](https://github.com/manticoresoftware/columnar), которая обеспечивает [колоночное хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) и [вторичные индексы](Introduction.md#Automatic-secondary-indexes), требует процессор с SSE >= 4.2.
* Специфических требований к дисковому пространству или оперативной памяти нет. Пустой экземпляр Manticore Search использует около 40 МБ RSS RAM.

<!-- proofread -->

