# Введение

Manticore Search — это высокопроизводительная мультихранилищная база данных, разработанная специально для поиска и аналитики, предлагающая молниеносный полнотекстовый поиск, индексацию в реальном времени и продвинутые функции, такие как поиск по векторам и колонковое хранение для эффективного анализа данных. Созданная для работы как с малыми, так и с большими наборами данных, она обеспечивает бесшовную масштабируемость и мощную аналитическую отдачу для современных приложений.

Как база данных с открытым исходным кодом (доступная на [GitHub](https://github.com/manticoresoftware/manticoresearch/)), Manticore Search была создана в 2017 году как продолжение движка [Sphinx Search](https://sphinxsearch.com/). Наша команда разработчиков взяла все лучшие функции Sphinx и значительно улучшила его функциональность, исправив сотни ошибок по пути (подробности изложены в нашем [Changelog](https://manual.manticoresearch.com/Changelog)). Manticore Search — это современная, быстрая и лёгкая база данных с исключительными возможностями полнотекстового поиска, построенная на основе почти полной переработки своего предшественника.

## Ключевые особенности Manticore:
#### Мощный и быстрый полнотекстовый поиск, хорошо работающий как с малыми, так и с большими наборами данных

  * [Автозаполнение запроса](Searching/Autocomplete.md)
  * [Нечёткий поиск](Searching/Spell_correction.md#Fuzzy-Search)
  * Более 20 [операторов полнотекстового поиска](https://play.manticoresearch.com/fulltextintro/)<!--{target="_blank"}--> и более 20 факторов ранжирования
  * [Пользовательское ранжирование](Searching/Sorting_and_ranking.md#Ranking-overview)
  * [Стемминг](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Лемматизация](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Стоп-слова](Creating_a_table/NLP_and_tokenization/Ignoring_stop-words.md)
  * [Синонимы](Creating_a_table/NLP_and_tokenization/Exceptions.md)
  * [Формы слова](Creating_a_table/NLP_and_tokenization/Wordforms.md)
  * [Продвинутая токенизация на уровне символов и слов](Creating_a_table/NLP_and_tokenization/Low-level_tokenization.md)
  * [Корректное сегментирование китайского языка](Creating_a_table/NLP_and_tokenization/Languages_with_continuous_scripts.md)
  * [Выделение текста](Searching/Highlighting.md)

#### Векторный поиск
Manticore Search поддерживает возможность добавления эмбеддингов, сгенерированных вашими моделями машинного обучения, к каждому документу, а затем выполнения по ним [поиска ближайших соседей](Searching/KNN.md). Это позволяет создавать функции, такие как поиск сходств, рекомендации, семантический поиск и ранжирование релевантности на основе алгоритмов NLP, а также, среди прочего, поиск по изображениям, видео и звуку.

#### JOIN
Manticore Search поддерживает [JOIN](Searching/Joining.md) запросы через SQL и JSON, что позволяет объединять данные из нескольких таблиц.

#### Многопоточность
Manticore Search использует интеллектуальную параллелизацию запросов для снижения времени отклика и полного использования всех ядер процессора при необходимости.

#### Костно-ориентированный оптимизатор запросов
Костно-ориентированный оптимизатор запросов использует статистические данные об индексированных данных для оценки относительных затрат различных планов выполнения конкретного запроса. Это позволяет оптимизатору определить наиболее эффективный план для получения желаемых результатов с учётом таких факторов, как размер индексированных данных, сложность запроса и доступные ресурсы.

#### Варианты хранения
Manticore предлагает оба варианта хранения — [построчное и колонковое](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) — для работы с наборами данных разных размеров. Традиционный и по умолчанию построчный вариант хранения доступен для наборов данных всех размеров — малых, средних и больших, тогда как колонковое хранение предоставляется через Manticore Columnar Library для ещё более крупных наборов данных. Главное различие между этими вариантами хранения состоит в том, что при построчном хранении все атрибуты (кроме полнотекстовых полей) должны находиться в оперативной памяти для оптимальной производительности, в то время как колонковое хранение этого не требует, позволяя снизить потребление ОЗУ, но с потенциально немного меньшей производительностью (как показано в статистике на https://db-benchmarks.com/).

#### Автоматические вторичные индексы
[Manticore Columnar Library](https://github.com/manticoresoftware/columnar/) использует [индекс Piecewise Geometric Model](https://github.com/gvinciguerra/PGM-index), который использует обученную связь между индексированными ключами и их расположением в памяти. Компактность этой связи вместе со специфическим рекурсивным алгоритмом построения делает PGM-индекс структурой данных, которая превосходит традиционные индексы по объёму памяти на порядки, при этом предлагая лучшую производительность запросов и обновлений. Вторичные индексы включены по умолчанию для всех числовых и строковых полей и могут быть включены для json-атрибутов.

#### SQL в первую очередь
Нативным синтаксисом Manticore является SQL, и он поддерживает SQL по HTTP и протокол MySQL, позволяя подключаться через популярные mysql-клиенты на любом языке программирования.

#### JSON по HTTP
Для более программно-ориентированного подхода к управлению данными и схемами Manticore предоставляет протокол [HTTP JSON](Searching/Full_text_matching/Basic_usage.md#HTTP-JSON), аналогичный тому, что используется в Elasticsearch.

#### Записи, совместимые с Elasticsearch
Вы можете выполнять совместимые с Elasticsearch [insert](Data_creation_and_modification/Adding_documents_to_a_table/Adding_documents_to_a_real-time_table.md#Adding-documents-to-a-real-time-table) и [replace](Data_creation_and_modification/Updating_documents/REPLACE.md#REPLACE) JSON-запросы, что позволяет использовать Manticore с такими инструментами, как Logstash (версия < 7.13), Filebeat и другими инструментами из семейства Beats.

#### Декларативное и императивное управление схемами
Простое создание, обновление и удаление таблиц онлайн или через конфигурационный файл.

#### Преимущества C++ и удобство PHP
Демон Manticore Search разработан на C++, обеспечивая быстрое время запуска и эффективное использование памяти. Низкоуровневые оптимизации дополнительно улучшают производительность. Другой важный компонент, называемый [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy), написан на PHP и используется для высокоуровневой функциональности, которая не требует молниеносного времени ответа или крайне высокой вычислительной мощности. Хотя работа с кодом на C++ может быть сложной, добавление новой команды SQL/JSON с использованием Manticore Buddy должно быть прямолинейным процессом.

#### Ввод данных в реальном времени
Новые или обновленные документы могут быть немедленно прочитаны.

#### Интерактивные курсы для лёгкого обучения
Мы предлагаем [бесплатные интерактивные курсы](https://play.manticoresearch.com/) для облегчения процесса обучения.

#### Транзакции
Хотя Manticore не полностью соответствует стандарту ACID, он поддерживает изолированные транзакции для атомарных изменений и двоичное логирование для безопасной записи.

#### Встроенная репликация и балансировка нагрузки
Данные могут быть распределены по серверам и дата-центрам, где любой узел Manticore Search может действовать как балансировщик нагрузки и узел данных. Manticore реализует практически синхронную многомастеровую [репликацию](https://play.manticoresearch.com/replication/) с использованием [библиотеки Galera](https://galeracluster.com/), обеспечивая согласованность данных на всех узлах, предотвращая потерю данных и обеспечивая исключительную производительность репликации.

#### Встроенные возможности резервного копирования
Manticore оснащен внешним инструментом [manticore-backup](Securing_and_compacting_a_table/Backup_and_restore.md) и SQL-командой [BACKUP](Securing_and_compacting_a_table/Backup_and_restore.md#BACKUP-SQL-command-reference) для упрощения процесса резервного копирования и восстановления данных. Кроме того, вы можете использовать [mysqldump](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html) для [логического резервного копирования](Securing_and_compacting_a_table/Backup_and_restore.md#Backup-and-restore-with-mysqldump).

#### Настройка синхронизации данных "из коробки"
Инструмент `indexer` и всеобъемлющий синтаксис конфигурации Manticore упрощают синхронизацию данных из источников, таких как MySQL, PostgreSQL, базы данных, совместимые с ODBC, XML и CSV.

#### Варианты интеграции
Вы можете интегрировать Manticore Search с сервером MySQL/MariaDB, используя [движок FEDERATED](Extensions/FEDERATED.md) или через [ProxySQL](https://manticoresearch.com/blog/using-proxysql-to-route-inserts-in-a-distributed-realtime-index/).

Вы можете использовать [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/), Kibana и [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) для визуализации данных, хранящихся в Manticore. Различные инструменты MySQL могут быть использованы для интерактивной разработки запросов к Manticore, такие как [HeidiSQL](https://www.heidisql.com/) и [DBForge](https://www.devart.com/dbforge/).

Вы можете использовать Manticore Search с [Kibana](Integration/Kibana.md).

#### Фильтрация потоков данных, упрощенная
Manticore предлагает специальный тип таблицы, "[percolate](Creating_a_table/Local_tables/Percolate_table.md)", который позволяет вам искать запросы вместо данных, что делает его эффективным инструментом для фильтрации потоков полнотекстовых данных. Просто сохраните свои запросы в таблице, обработайте поток данных, отправив каждую партию документов в Manticore Search, и получите только результаты, соответствующие вашим сохраненным запросам.

#### Возможные применения
Manticore Search многофункционален и может применяться в различных сценариях, включая:

- **Полнотекстовый поиск**:
  - Идеально подходит для платформ электронной коммерции, позволяя быстро и точно искать продукты с такими функциями, как автозаполнение и нечеткий поиск.
  - Отлично подходит для контентных сайтов, позволяя пользователям быстро находить актуальные статьи или документы.

- **Аналитика данных**:
  - Импортируйте данные в Manticore Search с помощью [Beats/Logstash](https://manticoresearch.com/blog/integration-of-manticore-with-logstash-filebeat/), [Vector.dev](https://manticoresearch.com/blog/integration-of-manticore-with-vectordev/), [Fluentbit](https://manticoresearch.com/blog/integration-of-manticore-with-fluentbit/).
  - Эффективно анализируйте большие наборы данных, используя колонковое хранение и возможности OLAP Manticore.
  - Выполняйте сложные запросы на терабайтах данных с минимальной задержкой.
  - Визуализируйте данные с помощью Kibana, [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) или [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/).

- **Фасетный поиск**:
  - Позвольте пользователям фильтровать результаты поиска по категориям, таким как цена, бренд или дата, для более точного поиска.

- **Геопространственный поиск**:
  - Реализуйте поиск на основе местоположения, например, находя ближайшие рестораны или магазины, с возможностями геопространственного поиска Manticore.

- **Коррекция орфографии**:
  - Автоматически исправляйте опечатки пользователей в поисковых запросах, чтобы улучшить точность поиска и пользовательский опыт.

- **Автозаполнение**:
  - Предлагайте реальные предложения по мере ввода пользователем, увеличивая удобство поиска и скорость.

- **Фильтрация потоков данных**:
  - Используйте перколяторные таблицы для фильтрации и обработки потоков данных в реальном времени, таких как ленты социальных медиа или журнальные данные.


## Требования

* Архитектура: arm64 или x86_64
* Операционная система: основанная на Debian (например, Debian, Ubuntu, Mint), основанная на RHEL (например, RHEL, CentOS, Alma, Oracle Linux, Amazon Linux), Windows или MacOS.
* [Библиотека Manticore Columnar](https://github.com/manticoresoftware/columnar), которая предоставляет [колонковое хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) и [вторичные индексы](Introduction.md#Automatic-secondary-indexes), требует процессор с SSE >= 4.2.
* Конкретные требования к дисковому пространству или ОЗУ не требуются. Пустой экземпляр Manticore Search использует всего около 40 МБ RSS ОЗУ.

<!-- proofread -->

