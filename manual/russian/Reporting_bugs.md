# –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, Manticore –µ—â–µ –Ω–µ –Ω–∞ 100% —Å–≤–æ–±–æ–¥–µ–Ω –æ—Ç –±–∞–≥–æ–≤, —Ö–æ—Ç—è –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —É—Å–µ—Ä–¥–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ —ç—Ç–æ–π —Ü–µ–ª—å—é. –í—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏.
–û—á–µ–Ω—å –≤–∞–∂–Ω–æ —Å–æ–æ–±—â–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–µ, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –µ—ë –∏—Å–ø—Ä–∞–≤–∏—Ç—å.
–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É, –µ—ë –Ω—É–∂–Ω–æ –ª–∏–±–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –ª–∏–±–æ –≤—ã–≤–µ—Å—Ç–∏ –ø—Ä–∏—á–∏–Ω—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –≤–∞–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

### –¢—Ä–µ–∫–µ—Ä –æ—à–∏–±–æ–∫
–û—à–∏–±–∫–∏ –∏ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ [Github](https://github.com/manticoresoftware/manticore/issues). –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∏–∫–µ—Ç –∏ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞—Ç—å –≤–∞—à—É –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –∫–∞–∫ —Å–≤–æ—ë, —Ç–∞–∫ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (—Ç–æ, —á—Ç–æ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —Å–µ–π—á–∞—Å) —Ç–∞–∫–∂–µ –¥–µ–ª–∞—é—Ç—Å—è –Ω–∞ [Github](https://github.com/manticoresoftware/manticoresearch/tree/master/manual).

### –°–±–æ–∏

Manticore Search –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ C++, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º —è–∑—ã–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º –¥–ª—è –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –û–¥–Ω–∞–∫–æ —É —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –µ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –Ω–µ –ø–æ–ª—É—á–∏—Ç—å—Å—è –∏–∑—è—â–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É, –∑–∞–ø–∏—Å–∞–≤ –µ—ë –≤ –ª–æ–≥ –∏ –ø—Ä–æ–ø—É—Å—Ç–∏–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã, –≤—ã–∑–≤–∞–≤—à–µ–π –ø—Ä–æ–±–ª–µ–º—É. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

–ö–æ–≥–¥–∞ Manticore Search –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –≤–∞–∂–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–º–∞–Ω–¥—É Manticore, [—Å–æ–∑–¥–∞–≤ –æ—Ç—á—ë—Ç –æ–± –æ—à–∏–±–∫–µ](https://github.com/manticoresoftware/manticoresearch/issues/new?assignees=&labels=&template=bug_report.md&title=) –Ω–∞ GitHub –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã Manticore –≤ –≤–∞—à–µ–º –ø—Ä–∏–≤–∞—Ç–Ω–æ–º helpdesk. –ö–æ–º–∞–Ω–¥–µ Manticore –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

1. –õ–æ–≥ searchd
2. Coredump
3. –õ–æ–≥ –∑–∞–ø—Ä–æ—Å–æ–≤

–¢–∞–∫–∂–µ –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ gdb –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è coredump:
```
gdb /usr/bin/searchd </path/to/coredump>
```
2. –ù–∞–π–¥–∏—Ç–µ ID –∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ coredump (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å `%p` –≤ /proc/sys/kernel/core_pattern), –Ω–∞–ø—Ä–∏–º–µ—Ä `core.work_6.29050.server_name.1637586599` –æ–∑–Ω–∞—á–∞–µ—Ç thread_id=29050
3. –í gdb –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```
set pagination off
info threads
# find thread number by it's id (e.g. for `LWP 29050` it will be thread number 8
thread apply all bt
thread <thread number>
bt full
info locals
quit
```
4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ Manticore Search –∑–∞–≤–∏—Å?

–ï—Å–ª–∏ Manticore Search –∑–∞–≤–∏—Å, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–±—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `show threads option format=all` —á–µ—Ä–µ–∑ [VIP –ø–æ—Ä—Ç](https://manual.manticoresearch.com/Connecting_to_the_server/HTTP#VIP-connection)
2. –°–æ–±–µ—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã lsof, —Ç–∞–∫ –∫–∞–∫ –∑–∞–≤–∏—Å–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤.
```
lsof -p `cat /var/run/manticore/searchd.pid`
```
3. –°–Ω–∏–º–∏—Ç–µ core dump:
```
gcore `cat /var/run/manticore/searchd.pid`
```
(–î–∞–º–ø –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.)

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ gdb:
```
gdb /usr/bin/searchd `cat /var/run/manticore/searchd.pid`
```
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–π searchd, –Ω–æ –µ—Å–ª–∏ –æ–Ω —É–∂–µ –∑–∞–≤–∏—Å, —ç—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π.
5. –í gdb –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```
set pagination off
info threads
thread apply all bt
quit
```
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å–µ –≤—ã–≤–æ–¥—ã –∏ —Ñ–∞–π–ª—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –∏—Ö –≤ –æ—Ç—á—ë—Ç–µ –æ–± –æ—à–∏–±–∫–µ.

–î–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤: –º–∞–∫—Ä–æ—Å—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ [—ç—Ç–æ–º –∫–æ–º–º–∏—Ç–µ](https://github.com/manticoresoftware/manticoresearch/commit/e317f7aa30aad51cb19d34595458bb7c8811be21), –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ coredump –ø—Ä–∏ —Å–±–æ–µ?

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ searchd —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--coredump`. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ https://manual.manticoresearch.com/Starting_the_server/Linux#Custom-startup-flags-using-systemd . –ù–∞–ø—Ä–∏–º–µ—Ä::

```
[root@srv lib]# systemctl set-environment _ADDITIONAL_SEARCHD_PARAMS='--coredump'
[root@srv lib]# systemctl restart manticore
[root@srv lib]# ps aux|grep searchd
mantico+  1955  0.0  0.0  61964  1580 ?        S    11:02   0:00 /usr/bin/searchd --config /etc/manticoresearch/manticore.conf --coredump
mantico+  1956  0.6  0.0 392744  2664 ?        Sl   11:02   0:00 /usr/bin/searchd --config /etc/manticoresearch/manticore.conf --coredump
```

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ core dump, –ø—Ä–æ–≤–µ—Ä–∏–≤, —á—Ç–æ: `/proc/sys/kernel/core_pattern` –Ω–µ –ø—É—Å—Ç. –≠—Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è core dumps. –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å core dump –≤ —Ñ–∞–π–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä `core.searchd.1773.centos-4gb-hel1-1.1636454937`, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
echo "/cores/core.%e.%p.%h.%t" > /proc/sys/kernel/core_pattern
```

* searchd –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å `ulimit -c unlimited`. –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ Manticore —á–µ—Ä–µ–∑ systemctl, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ª–∏–º–∏—Ç –Ω–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ —Ñ–∞–π–ª–∞ manticore.service:
```
[root@srv lib]# grep CORE /lib/systemd/system/manticore.service
LimitCORE=infinity
```

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã?

Manticore Search –∏ Manticore Columnar Library –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ C++, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –≤–∞—à–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ. –û–¥–Ω–∞–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–º–µ–Ω–∞–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–π, –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤. –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö "debuginfo" –∏–ª–∏ "symbol packages".

–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –∏ –æ—Ç–ª–∞–¥–∫–∏, —Ç–∞–∫ –∫–∞–∫ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤–æ –≤—Ä–µ–º—è —Å–±–æ—è, –≤–∫–ª—é—á–∞—è –∏–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π. Manticore Search –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ –≤ –ª–æ–≥–µ searchd –∏ —Å–æ–∑–¥–∞—ë—Ç coredump, –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω —Å —Ñ–ª–∞–≥–æ–º --coredump. –ë–µ–∑ —Å–∏–º–≤–æ–ª–æ–≤ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –∏–ª–∏ –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ—è. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç—á—ë—Ç –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ —Å–±–æ–µ, –∫–æ–º–∞–Ω–¥–∞ Manticore —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –ø–æ–º–æ—â–∏.

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã Manticore Search/Manticore Columnar Library, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç `*debuginfo*` –¥–ª—è CentOS, `*dbgsym*` –¥–ª—è Ubuntu –∏ Debian –∏–ª–∏ `*dbgsymbols*` –¥–ª—è Windows –∏ macOS. –≠—Ç–∏ –ø–∞–∫–µ—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Manticore. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Manticore Search –≤ Centos 8 –∏–∑ –ø–∞–∫–µ—Ç–∞ https://repo.manticoresearch.com/repository/manticoresearch/release/centos/8/x86_64/manticore-4.0.2_210921.af497f245-1.el8.x86_64.rpm , —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø–∞–∫–µ—Ç–æ–º —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –±—É–¥–µ—Ç https://repo.manticoresearch.com/repository/manticoresearch/release/centos/8/x86_64/manticore-debuginfo-4.0.2_210921.af497f245-1.el8.x86_64.rpm

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ–±–∞ –ø–∞–∫–µ—Ç–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–º–º–∏—Ç–∞ `af497f245`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–º–∏—Ç—É, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–∞ —Å–æ–±—Ä–∞–Ω–∞ —ç—Ç–∞ –≤–µ—Ä—Å–∏—è.

–ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Manticore –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è APT/YUM Manticore, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
* `debuginfo-install` –≤ CentOS 7
* `dnf debuginfo-install` –≤ CentOS 8
* `find-dbgsym-packages` –≤ Debian –∏ Ubuntu

–¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–∞ —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏.

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤?

1. –ù–∞–π–¥–∏—Ç–µ build ID –≤ –≤—ã–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã `file /usr/bin/searchd`:

```
[root@srv lib]# file /usr/bin/searchd
/usr/bin/searchd: ELF 64-bit LSB executable, x86-64, version 1 (GNU/Linux), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=2c582e9f564ea1fbeb0c68406c271ba27034a6d3, stripped
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ build ID —Ä–∞–≤–µ–Ω 2c582e9f564ea1fbeb0c68406c271ba27034a6d3.

2. –ù–∞–π–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã –≤ `/usr/lib/debug/.build-id` –≤–æ—Ç —Ç–∞–∫:

```
[root@srv ~]# ls -la /usr/lib/debug/.build-id/2c/582e9f564ea1fbeb0c68406c271ba27034a6d3*
lrwxrwxrwx. 1 root root 23 Nov  9 10:42 /usr/lib/debug/.build-id/2c/582e9f564ea1fbeb0c68406c271ba27034a6d3 -> ../../../../bin/searchd
lrwxrwxrwx. 1 root root 27 Nov  9 10:42 /usr/lib/debug/.build-id/2c/582e9f564ea1fbeb0c68406c271ba27034a6d3.debug -> ../../usr/bin/searchd.debug
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

<!-- example s3 -->
–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤–∞—à—É –æ—à–∏–±–∫—É, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –µ—ë –ª–æ–∫–∞–ª—å–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ –∏–º –Ω–µ–æ–±—Ö–æ–¥–∏–º –≤–∞—à –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª, —Ñ–∞–π–ª—ã —Ç–∞–±–ª–∏—Ü, binlog (–µ—Å–ª–∏ –µ—Å—Ç—å), –∞ –∏–Ω–æ–≥–¥–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â –∏–ª–∏ XML/CSV —Ñ–∞–π–ª—ã) –∏ –∑–∞–ø—Ä–æ—Å—ã.

–ü—Ä–∏–∫—Ä–µ–ø–ª—è–π—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ [—Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∏–∫–µ—Ç–∞ –Ω–∞ Github](https://github.com/manticoresoftware/manticoresearch/issues/new). –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö –≤ –Ω–∞—à–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ S3 —Å —Ä–µ–∂–∏–º–æ–º —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–∏ –ø–æ –∞–¥—Ä–µ—Å—É `s3://s3.manticoresearch.com/write-only/`.

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —ç—Ç–æ–≥–æ –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker-–æ–±—Ä–∞–∑–∞. –≠—Ç–æ—Ç –æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –Ω–∞—à–µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ [github.com/manticoresoftware/s3-upload](https://github.com/manticoresoftware/s3-upload) –∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤–∞–º –ª–µ–≥–∫–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Manticore —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∞–π–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å, –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   docker run -it --rm -v $(pwd):/upload manticoresearch/upload
   ```
2. –≠—Ç–æ:
   - –ü–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –≤–≤–µ—Å—Ç–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–π URL/–Ω–æ–º–µ—Ä –∑–∞–¥–∞—á–∏
   - –ó–∞–≥—Ä—É–∑–∏—Ç **–≤—Å–µ —Ñ–∞–π–ª—ã –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ** –≤ –Ω–∞—à–µ S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏
   - –í –∫–æ–Ω—Ü–µ –ø–æ–∫–∞–∂–µ—Ç –ø—É—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º –ø—É—Ç–µ–º —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏.

<!-- intro -->
–ü—Ä–∏–º–µ—Ä:

<!-- request Example -->
```bash
docker run -it --rm -v $(pwd):/upload manticoresearch/upload
```

<!-- response Example -->
```bash
üöÄ Welcome to Manticore Search Upload Tool! üöÄ

üìÇ Files to be uploaded:
  tt (800)

üîó Please enter the related issue URL/number
(e.g., https://github.com/manticoresoftware/manticoresearch/issues/123 or just 123):
123

üì§ Starting upload process...
INFO: Cache file not found or empty, creating/populating it.
INFO: Compiling list of local files...
INFO: Running stat() and reading/calculating MD5 values on 23 files, this may take some time...
INFO: Summary: 23 local files to upload
upload: './tt/tt.0.spa' -> 's3://write-only/issue-20250219-123/tt/tt.0.spa'  [1 of 23]
 40 of 40   100% in    2s    15.03 B/s  done
upload: './tt/tt.0.spd' -> 's3://write-only/issue-20250219-123/tt/tt.0.spd'  [2 of 23]
 1 of 1   100% in    0s     1.99 B/s  done
upload: './tt/tt.0.spe' -> 's3://write-only/issue-20250219-123/tt/tt.0.spe'  [3 of 23]
 1 of 1   100% in    0s     2.02 B/s  done
upload: './tt/tt.0.sph' -> 's3://write-only/issue-20250219-123/tt/tt.0.sph'  [4 of 23]
 420 of 420   100% in    0s   895.32 B/s  done
upload: './tt/tt.0.sphi' -> 's3://write-only/issue-20250219-123/tt/tt.0.sphi'  [5 of 23]
 66 of 66   100% in    0s   142.67 B/s  done
upload: './tt/tt.0.spi' -> 's3://write-only/issue-20250219-123/tt/tt.0.spi'  [6 of 23]
 18 of 18   100% in    0s    39.13 B/s  done
upload: './tt/tt.0.spidx' -> 's3://write-only/issue-20250219-123/tt/tt.0.spidx'  [7 of 23]
 145 of 145   100% in    0s   313.38 B/s  done
upload: './tt/tt.0.spm' -> 's3://write-only/issue-20250219-123/tt/tt.0.spm'  [8 of 23]
 4 of 4   100% in    0s     8.36 B/s  done
upload: './tt/tt.0.spp' -> 's3://write-only/issue-20250219-123/tt/tt.0.spp'  [9 of 23]
 1 of 1   100% in    0s     2.15 B/s  done
upload: './tt/tt.0.spt' -> 's3://write-only/issue-20250219-123/tt/tt.0.spt'  [10 of 23]
 36 of 36   100% in    0s    78.35 B/s  done
upload: './tt/tt.1.spa' -> 's3://write-only/issue-20250219-123/tt/tt.1.spa'  [11 of 23]
 48 of 48   100% in    0s    81.35 B/s  done
upload: './tt/tt.1.spd' -> 's3://write-only/issue-20250219-123/tt/tt.1.spd'  [12 of 23]
 1 of 1   100% in    0s     1.65 B/s  done
upload: './tt/tt.1.spe' -> 's3://write-only/issue-20250219-123/tt/tt.1.spe'  [13 of 23]
 1 of 1   100% in    0s     1.95 B/s  done
upload: './tt/tt.1.sph' -> 's3://write-only/issue-20250219-123/tt/tt.1.sph'  [14 of 23]
 420 of 420   100% in    0s   891.58 B/s  done
upload: './tt/tt.1.sphi' -> 's3://write-only/issue-20250219-123/tt/tt.1.sphi'  [15 of 23]
 82 of 82   100% in    0s   166.42 B/s  done
upload: './tt/tt.1.spi' -> 's3://write-only/issue-20250219-123/tt/tt.1.spi'  [16 of 23]
 18 of 18   100% in    0s    39.46 B/s  done
upload: './tt/tt.1.spidx' -> 's3://write-only/issue-20250219-123/tt/tt.1.spidx'  [17 of 23]
 183 of 183   100% in    0s   374.04 B/s  done
upload: './tt/tt.1.spm' -> 's3://write-only/issue-20250219-123/tt/tt.1.spm'  [18 of 23]
 4 of 4   100% in    0s     8.42 B/s  done
upload: './tt/tt.1.spp' -> 's3://write-only/issue-20250219-123/tt/tt.1.spp'  [19 of 23]
 1 of 1   100% in    0s     1.28 B/s  done
upload: './tt/tt.1.spt' -> 's3://write-only/issue-20250219-123/tt/tt.1.spt'  [20 of 23]
 50 of 50   100% in    1s    34.60 B/s  done
upload: './tt/tt.lock' -> 's3://write-only/issue-20250219-123/tt/tt.lock'  [21 of 23]
 0 of 0     0% in    0s     0.00 B/s  done
upload: './tt/tt.meta' -> 's3://write-only/issue-20250219-123/tt/tt.meta'  [22 of 23]
 456 of 456   100% in    0s   923.34 B/s  done
upload: './tt/tt.settings' -> 's3://write-only/issue-20250219-123/tt/tt.settings'  [23 of 23]
 3 of 3   100% in    0s     6.41 B/s  done

‚úÖ Upload complete!
üìã Please share this path with the developers:
issue-20250219-123

üí° Tip: Make sure to include this path when communicating with the Manticore team
```
<!-- end -->

–ò–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å S3 [–∫–ª–∏–µ–Ω—Ç Minio](https://min.io/docs/minio/linux/reference/minio-mc.html) –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Amazon [s3cmd](https://s3tools.org/s3cmd) –¥–ª—è —Ç–æ–≥–æ –∂–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç https://min.io/docs/minio/linux/reference/minio-mc.html#install-mc
–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è 64-–±–∏—Ç–Ω–æ–≥–æ Linux:
   ```
   curl https://dl.min.io/client/mc/release/linux-amd64/mc \
   --create-dirs \
   -o $HOME/minio-binaries/mc
   chmod +x $HOME/minio-binaries/mc
   export PATH=$PATH:$HOME/minio-binaries/
   ```
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—à s3 —Ö–æ—Å—Ç (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥): `cd $HOME/minio-binaries` –∑–∞—Ç–µ–º `./mc config host add manticore http://s3.manticoresearch.com:9000 manticore manticore`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ —Ñ–∞–π–ª—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥): `cd $HOME/minio-binaries` –∑–∞—Ç–µ–º `./mc cp -r issue-1234/ manticore/write-only/issue-1234`. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è –ø–∞–ø–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏ –ª—É—á—à–µ –≤—Å–µ–≥–æ, –µ—Å–ª–∏ –æ–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–∫–µ—Ç—É –Ω–∞ GitHub, –≥–¥–µ –≤—ã –æ–ø–∏—Å–∞–ª–∏ –æ—à–∏–±–∫—É.

### DEBUG

```sql
DEBUG [ subcommand ]
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `DEBUG` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–ª–∏ VIP –∫–æ–º–∞–Ω–¥. –û–¥–Ω–∞–∫–æ –æ–Ω –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, —Ç–∞–∫ –∫–∞–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞  `subcommand` –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ –ª—é–±–æ–π —Å–±–æ—Ä–∫–µ.

–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `DEBUG`, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤–∏—Ç–µ `DEBUG` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

```sql
mysql> debug;
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| command                                                                 | meaning                                                                                |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| flush logs                                                              | emulate USR1 signal                                                                    |
| reload indexes                                                          | emulate HUP signal                                                                     |
| debug token <password>                                                  | calculate token for password                                                           |
| debug malloc_stats                                                      | perform 'malloc_stats', result in searchd.log                                          |
| debug malloc_trim                                                       | pefrorm 'malloc_trim' call                                                             |
| debug sleep <N>                                                         | sleep for <N> seconds                                                                  |
| debug tasks                                                             | display global tasks stat (use select from @@system.tasks instead)                     |
| debug sched                                                             | display task manager schedule (use select from @@system.sched instead)                 |
| debug merge <TBL> [chunk] <X> [into] [chunk] <Y> [option sync=1,byid=0] | For RT table <TBL> merge disk chunk X into disk chunk Y                                |
| debug drop [chunk] <X> [from] <TBL> [option sync=1]                     | For RT table <TBL> drop disk chunk X                                                   |
| debug files <TBL> [option format=all|external]                          | list files belonging to <TBL>. 'all' - including external (wordforms, stopwords, etc.) |
| debug close                                                             | ask server to close connection from it's side                                          |
| debug compress <TBL> [chunk] <X> [option sync=1]                        | Compress disk chunk X of RT table <TBL> (wipe out deleted documents)                   |
| debug split <TBL> [chunk] <X> on @<uservar> [option sync=1]             | Split disk chunk X of RT table <TBL> using set of DocIDs from @uservar                 |
| debug wait <cluster> [like 'xx'] [option timeout=3]                     | wait <cluster> ready, but no more than 3 secs.                                         |
| debug wait <cluster> status <N> [like 'xx'] [option timeout=13]         | wait <cluster> commit achieve <N>, but no more than 13 secs                            |
| debug meta                                                              | Show max_matches/pseudo_shards. Needs set profiling=1                                  |
| debug trace OFF|'path/to/file' [<N>]                                    | trace flow to file until N bytes written, or 'trace OFF'                               |
| debug curl <URL>                                                        | request given url via libcurl                                                          |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
19 rows in set (0.00 sec)
```

–¢–æ –∂–µ –∏–∑ VIP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:
```sql
mysql> debug;
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| command                                                                 | meaning                                                                                |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| flush logs                                                              | emulate USR1 signal                                                                    |
| reload indexes                                                          | emulate HUP signal                                                                     |
| debug shutdown <password>                                               | emulate TERM signal                                                                    |
| debug crash <password>                                                  | crash daemon (make SIGSEGV action)                                                     |
| debug token <password>                                                  | calculate token for password                                                           |
| debug malloc_stats                                                      | perform 'malloc_stats', result in searchd.log                                          |
| debug malloc_trim                                                       | pefrorm 'malloc_trim' call                                                             |
| debug procdump                                                          | ask watchdog to dump us                                                                |
| debug setgdb on|off                                                     | enable or disable potentially dangerous crash dumping with gdb                         |
| debug setgdb status                                                     | show current mode of gdb dumping                                                       |
| debug sleep <N>                                                         | sleep for <N> seconds                                                                  |
| debug tasks                                                             | display global tasks stat (use select from @@system.tasks instead)                     |
| debug sched                                                             | display task manager schedule (use select from @@system.sched instead)                 |
| debug merge <TBL> [chunk] <X> [into] [chunk] <Y> [option sync=1,byid=0] | For RT table <TBL> merge disk chunk X into disk chunk Y                                |
| debug drop [chunk] <X> [from] <TBL> [option sync=1]                     | For RT table <TBL> drop disk chunk X                                                   |
| debug files <TBL> [option format=all|external]                          | list files belonging to <TBL>. 'all' - including external (wordforms, stopwords, etc.) |
| debug close                                                             | ask server to close connection from it's side                                          |
| debug compress <TBL> [chunk] <X> [option sync=1]                        | Compress disk chunk X of RT table <TBL> (wipe out deleted documents)                   |
| debug split <TBL> [chunk] <X> on @<uservar> [option sync=1]             | Split disk chunk X of RT table <TBL> using set of DocIDs from @uservar                 |
| debug wait <cluster> [like 'xx'] [option timeout=3]                     | wait <cluster> ready, but no more than 3 secs.                                         |
| debug wait <cluster> status <N> [like 'xx'] [option timeout=13]         | wait <cluster> commit achieve <N>, but no more than 13 secs                            |
| debug meta                                                              | Show max_matches/pseudo_shards. Needs set profiling=1                                  |
| debug trace OFF|'path/to/file' [<N>]                                    | trace flow to file until N bytes written, or 'trace OFF'                               |
| debug curl <URL>                                                        | request given url via libcurl                                                          |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
24 rows in set (0.00 sec)
```

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã `debug XXX` —Å–ª–µ–¥—É–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, –ø–æ—ç—Ç–æ–º—É –Ω–µ —É–¥–∏–≤–ª—è–π—Ç–µ—Å—å, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–º–µ–Ω—è—Ç—Å—è. –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –º–æ–∂–µ—Ç –Ω–µ –æ—Ç—Ä–∞–∂–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –ø–æ—ç—Ç–æ–º—É –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –≤–∞—à–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ—Ç, –∫—Ä–æ–º–µ –∫–æ—Ä–æ—Ç–∫–æ–π –∫–æ–ª–æ–Ω–∫–∏ 'meaning'.

–î–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å–∞–Ω—ã –Ω–∏–∂–µ –¥–≤–µ –∫–æ–º–∞–Ω–¥—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è VIP –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî shutdown –∏ crash. –û–±–µ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–¥–∫–æ–º–∞–Ω–¥–æ–π debug token –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä [shutdown_token](Server_settings/Searchd.md#shutdown_token) –≤ —Å–µ–∫—Ü–∏–∏ searchd –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞. –ï—Å–ª–∏ —Ç–∞–∫–æ–π —Å–µ–∫—Ü–∏–∏ –Ω–µ—Ç, –∏–ª–∏ –µ—Å–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ö—ç—à –ø–∞—Ä–æ–ª—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–æ–∫–µ–Ω–æ–º –≤ –∫–æ–Ω—Ñ–∏–≥–µ, –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—é—Ç.

```sql
mysql> debug token hello;
+-------------+------------------------------------------+
| command     | result                                   |
+-------------+------------------------------------------+
| debug token | aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d |
+-------------+------------------------------------------+
1 row in set (0,00 sec)
```

–ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ `shutdown` –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–µ—Ä–≤–µ—Ä—É —Å–∏–≥–Ω–∞–ª TERM, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø–∞—Å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –Ω–∏–∫—Ç–æ –Ω–µ —Ö–æ—á–µ—Ç —Å–ª—É—á–∞–π–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–∏—Å. –ü–æ—ç—Ç–æ–º—É –Ω—É–∂–µ–Ω VIP –¥–æ—Å—Ç—É–ø –∏ –ø–∞—Ä–æ–ª—å.

–ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ `crash` –±—É–∫–≤–∞–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–±–æ–π. –≠—Ç–æ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∞–º–ø–æ–≤ –ø–∞–º—è—Ç–∏.

–ï—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ–∫–∞–∂—É—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º–∏ –≤ –±–æ–ª–µ–µ –æ–±—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –∏—Ö –º–æ–≥—É—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∏–∑ debug –ø–æ–¥–∫–æ–º–∞–Ω–¥ –≤ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ (–ø—Ä–∏–º–µ—Ä–æ–º —Å–ª—É–∂–∞—Ç `debug tasks` –∏ `debug sched` –∏–∑ —Ç–∞–±–ª–∏—Ü—ã).

<!-- proofread -->

