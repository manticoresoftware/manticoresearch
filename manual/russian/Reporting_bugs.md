# –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, Manticore –µ—â–µ –Ω–µ –Ω–∞ 100% —Å–≤–æ–±–æ–¥–µ–Ω –æ—Ç –æ—à–∏–±–æ–∫, —Ö–æ—Ç—è –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —É—Å–µ—Ä–¥–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–¥ —ç—Ç–æ–π —Ü–µ–ª—å—é. –í—ã –º–æ–∂–µ—Ç–µ –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞–ª–∫–∏–≤–∞—Ç—å—Å—è —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏. 
–í–∞–∂–Ω–æ —Å–æ–æ–±—â–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–µ, —á—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.
–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ª–∏–±–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –µ–µ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –ª–∏–±–æ –≤—ã—è—Å–Ω–∏—Ç—å –µ–µ –ø—Ä–∏—á–∏–Ω—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –≤–∞–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–º –Ω–∏–∂–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.

### –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
–û—à–∏–±–∫–∏ –∏ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –Ω–∞ [Github](https://github.com/manticoresoftware/manticore/issues). –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∏–∫–µ—Ç –∏ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞—Ç—å —Å–≤–æ—é –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –∫–∞–∫ —Å–µ–±–µ, —Ç–∞–∫ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (—Ç–æ, —á—Ç–æ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —Å–µ–π—á–∞—Å) —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–æ–¥—è—Ç—Å—è –Ω–∞ [Github](https://github.com/manticoresoftware/manticoresearch/tree/master/manual).

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–±–æ–∏

Manticore Search –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ C++, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —è–∑—ã–∫–æ–º –Ω–∏–∑–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –ø–æ–∑–≤–æ–ª—è—é—â–∏–º –Ω–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, —Ç–∞–∫ –∫–∞–∫ –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É, –∑–∞–ø–∏—Å–∞–≤ –µ–µ –≤ –∂—É—Ä–Ω–∞–ª –∏ –ø—Ä–æ–ø—É—Å—Ç–∏–≤ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥—ã, –≤—ã–∑–≤–∞–≤—à–µ–π –ø—Ä–æ–±–ª–µ–º—É. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –∞–≤–∞—Ä–∏–π–Ω–æ, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —á–µ–≥–æ –æ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏ –µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å.

–ö–æ–≥–¥–∞ Manticore Search –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –≤–∞–∂–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –∫–æ–º–∞–Ω–¥–µ Manticore, –æ—Ç–ø—Ä–∞–≤–∏–≤ [—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ](https://github.com/manticoresoftware/manticoresearch/issues/new?assignees=&labels=&template=bug_report.md&title=) –Ω–∞ GitHub –∏–ª–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ Manticore –≤ –≤–∞—à–µ–º –ª–∏—á–Ω–æ–º —Å–ø—Ä–∞–≤–æ—á–Ω–æ–º —Ü–µ–Ω—Ç—Ä–µ. –ö–æ–º–∞–Ω–¥–∞ Manticore —Ç—Ä–µ–±—É–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

1. –ñ—É—Ä–Ω–∞–ª searchd
2. –û–±—Ä–∞–∑ –ø–∞–º—è—Ç–∏ (coredump)
3. –ñ—É—Ä–Ω–∞–ª –∑–∞–ø—Ä–æ—Å–æ–≤

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ gdb –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –ø–∞–º—è—Ç–∏:
```
gdb /usr/bin/searchd </path/to/coredump>
```
2. –ù–∞–π–¥–∏—Ç–µ ID –ø–æ—Ç–æ–∫–∞ —Å –æ—à–∏–±–∫–æ–π –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –æ–±—Ä–∞–∑–∞ –ø–∞–º—è—Ç–∏ (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å `%p` –≤ /proc/sys/kernel/core_pattern), –Ω–∞–ø—Ä–∏–º–µ—Ä, `core.work_6.29050.server_name.1637586599` –æ–∑–Ω–∞—á–∞–µ—Ç thread_id=29050
3. –í gdb –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```
set pagination off
info threads
# –Ω–∞–π–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø–æ—Ç–æ–∫–∞ –ø–æ –µ–≥–æ ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `LWP 29050` —ç—Ç–æ –±—É–¥–µ—Ç –Ω–æ–º–µ—Ä –ø–æ—Ç–æ–∫–∞ 8)
thread apply all bt
thread <–Ω–æ–º–µ—Ä –ø–æ—Ç–æ–∫–∞>
bt full
info locals
quit
```
4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –≤—ã–≤–æ–¥—ã

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –∫–æ–≥–¥–∞ Manticore Search –∑–∞–≤–∏—Å–∞–µ—Ç?

–ï—Å–ª–∏ Manticore Search –∑–∞–≤–∏—Å–∞–µ—Ç, –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –ø–æ–ª–µ–∑–Ω–æ–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã. –í–æ—Ç –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ `show threads option format=all` —á–µ—Ä–µ–∑ [VIP –ø–æ—Ä—Ç](https://manual.manticoresearch.com/Connecting_to_the_server/HTTP#VIP-connection)
2. –°–æ–±–µ—Ä–∏—Ç–µ –≤—ã–≤–æ–¥ lsof, –ø–æ—Å–∫–æ–ª—å–∫—É –∑–∞–≤–∏—Å–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤.
```
lsof -p `cat /var/run/manticore/searchd.pid`
```
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ–±—Ä–∞–∑ –ø–∞–º—è—Ç–∏:
```
gcore `cat /var/run/manticore/searchd.pid`
```
(–≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –¥–∞–º–ø –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ.)

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ gdb:
```
gdb /usr/bin/searchd `cat /var/run/manticore/searchd.pid`
```
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤–∞—à —Ä–∞–±–æ—Ç–∞—é—â–∏–π searchd, –Ω–æ –µ—Å–ª–∏ –æ–Ω —É–∂–µ –∑–∞–≤–∏—Å, —ç—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ —Å—Ç–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π.
5. –í gdb –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```
set pagination off
info threads
thread apply all bt
quit
```
6. –°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ –≤—ã–≤–æ–¥—ã –∏ —Ñ–∞–π–ª—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –∏—Ö –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ–± –æ—à–∏–±–∫–µ.

–î–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤: –º–∞–∫—Ä–æ—Å—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ [—ç—Ç–æ–º –∫–æ–º–º–∏—Ç–µ](https://github.com/manticoresoftware/manticoresearch/commit/e317f7aa30aad51cb19d34595458bb7c8811be21), –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Å–±–æ–µ?

* —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ searchd —Å `--coredump`. –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ https://manual.manticoresearch.com/Starting_the_server/Linux#Custom-startup-flags-using-systemd. –ù–∞–ø—Ä–∏–º–µ—Ä::

```
[root@srv lib]# systemctl set-environment _ADDITIONAL_SEARCHD_PARAMS='--coredump'
[root@srv lib]# systemctl restart manticore
[root@srv lib]# ps aux|grep searchd
mantico+  1955  0.0  0.0  61964  1580 ?        S    11:02   0:00 /usr/bin/searchd --config /etc/manticoresearch/manticore.conf --coredump
mantico+  1956  0.6  0.0 392744  2664 ?        Sl   11:02   0:00 /usr/bin/searchd --config /etc/manticoresearch/manticore.conf --coredump
```

* –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—Ä–∞–∑—ã –ø–∞–º—è—Ç–∏, –ø—Ä–æ–≤–µ—Ä–∏–≤, —á—Ç–æ: `/proc/sys/kernel/core_pattern` –Ω–µ –ø—É—Å—Ç. –≠—Ç–æ –º–µ—Å—Ç–æ, –∫—É–¥–∞ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –æ–±—Ä–∞–∑—ã –ø–∞–º—è—Ç–∏. –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞–∑—ã –ø–∞–º—è—Ç–∏ –≤ —Ñ–∞–π–ª, —Ç–∞–∫–æ–π –∫–∞–∫ `core.searchd.1773.centos-4gb-hel1-1.1636454937`, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
```
echo "/cores/core.%e.%p.%h.%t" > /proc/sys/kernel/core_pattern
```

* searchd –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω —Å `ulimit -c unlimited`. –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ Manticore —Å –ø–æ–º–æ—â—å—é systemctl, —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ª–∏–º–∏—Ç –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ —Ñ–∞–π–ª–∞ manticore.service:
```
[root@srv lib]# grep CORE /lib/systemd/system/manticore.service
LimitCORE=infinity
```

### –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã?

Manticore Search –∏ Manticore Columnar Library –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ C++, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ –≤–∞—à–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ. –û–¥–Ω–∞–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–º–µ–Ω–∞–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–π, –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤. –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö "debuginfo" –∏–ª–∏ "symbol packages."

–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –∏ –æ—Ç–ª–∞–¥–∫–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤ –º–æ–º–µ–Ω—Ç —Å–±–æ—è, –≤–∫–ª—é—á–∞—è –∏–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π. Manticore Search –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É —Å—Ç–µ–∫–∞ –≤ –∂—É—Ä–Ω–∞–ª–µ searchd –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–∑ –ø–∞–º—è—Ç–∏, –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω —Å —Ñ–ª–∞–≥–æ–º --coredump. –ë–µ–∑ —Å–∏–º–≤–æ–ª–æ–≤ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç –∏–ª–∏ —Å–¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ—è. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–µ –∏–∑-–∑–∞ —Å–±–æ—è, –∫–æ–º–∞–Ω–¥–µ Manticore —á–∞—Å—Ç–æ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º.
–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ Manticore Search/Manticore Columnar Library –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç `*debuginfo*` –¥–ª—è CentOS, –ø–∞–∫–µ—Ç `*dbgsym*` –¥–ª—è Ubuntu –∏ Debian, –∏–ª–∏ –ø–∞–∫–µ—Ç `*dbgsymbols*` –¥–ª—è Windows –∏ macOS. –≠—Ç–∏ –ø–∞–∫–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–π –∂–µ –≤–µ—Ä—Å–∏–∏, —á—Ç–æ –∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Manticore. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Manticore Search –≤ CentOS 8 –∏–∑ –ø–∞–∫–µ—Ç–∞ https://repo.manticoresearch.com/repository/manticoresearch/release/centos/8/x86_64/manticore-4.0.2_210921.af497f245-1.el8.x86_64.rpm , —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∞–∫–µ—Ç —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –±—É–¥–µ—Ç https://repo.manticoresearch.com/repository/manticoresearch/release/centos/8/x86_64/manticore-debuginfo-4.0.2_210921.af497f245-1.el8.x86_64.rpm

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ–±–∞ –ø–∞–∫–µ—Ç–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–º–º–∏—Ç–∞ `af497f245`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–º–º–∏—Ç—É, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–∞ —Å–æ–±—Ä–∞–Ω–∞ —ç—Ç–∞ –≤–µ—Ä—Å–∏—è.

–ï—Å–ª–∏ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Manticore –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è APT/YUM Manticore, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
* `debuginfo-install` –≤ CentOS 7
* `dnf debuginfo-install` –≤ CentOS 8
* `find-dbgsym-packages` –≤ Debian –∏ Ubuntu

—á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –ø–∞–∫–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –≤–∞—Å.

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –ª–∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã?

1. –ù–∞–π–¥–∏—Ç–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–±–æ—Ä–∫–∏ –≤ –≤—ã–≤–æ–¥–µ `file /usr/bin/searchd`:

```
[root@srv lib]# file /usr/bin/searchd
/usr/bin/searchd: ELF 64-bit LSB executable, x86-64, version 1 (GNU/Linux), –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–ª–∏–Ω–∫–æ–≤–∞–Ω–Ω—ã–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏), –¥–ª—è GNU/Linux 2.6.32, BuildID[sha1]=2c582e9f564ea1fbeb0c68406c271ba27034a6d3, –æ—á–∏—â–µ–Ω–Ω—ã–π
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–±–æ—Ä–∫–∏ - 2c582e9f564ea1fbeb0c68406c271ba27034a6d3.

2. –ù–∞–π–¥–∏—Ç–µ —Å–∏–º–≤–æ–ª—ã –≤ `/usr/lib/debug/.build-id` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```
[root@srv ~]# ls -la /usr/lib/debug/.build-id/2c/582e9f564ea1fbeb0c68406c271ba27034a6d3*
lrwxrwxrwx. 1 root root 23 Nov  9 10:42 /usr/lib/debug/.build-id/2c/582e9f564ea1fbeb0c68406c271ba27034a6d3 -> ../../../../bin/searchd
lrwxrwxrwx. 1 root root 27 Nov  9 10:42 /usr/lib/debug/.build-id/2c/582e9f564ea1fbeb0c68406c271ba27034a6d3.debug -> ../../usr/bin/searchd.debug
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

<!-- example s3 -->
–ß—Ç–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤–∞—à—É –æ—à–∏–±–∫—É, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º —á–∞—Å—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –µ—ë –ª–æ–∫–∞–ª—å–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ –∏–º –Ω—É–∂–µ–Ω –≤–∞—à —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ñ–∞–π–ª—ã —Ç–∞–±–ª–∏—Ü, binlog (–µ—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è), –∏ –∏–Ω–æ–≥–¥–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â –∏–ª–∏ XML/CSV —Ñ–∞–π–ª—ã) –∏ –∑–∞–ø—Ä–æ—Å—ã. 

–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ, –∫–æ–≥–¥–∞ –≤—ã [—Å–æ–∑–¥–∞–µ—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ GitHub](https://github.com/manticoresoftware/manticoresearch/issues/new). –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –∏–ª–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ, –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö –≤ –Ω–∞—à–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ –∞–¥—Ä–µ—Å—É `s3://s3.manticoresearch.com/write-only/`. 

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ, –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–±—Ä–∞–∑–∞ Docker. –≠—Ç–æ—Ç –æ–±—Ä–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ –Ω–∞—à–µ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ [github.com/manticoresoftware/s3-upload](https://github.com/manticoresoftware/s3-upload) –∏ –ø–æ–º–æ–≥–∞–µ—Ç –≤–∞–º –ª–µ–≥–∫–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Manticore. –í–æ—Ç –∫–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å, –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   docker run -it --rm -v $(pwd):/upload manticoresearch/upload
   ```
2. –≠—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:
   - –ü–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –≤–≤–µ—Å—Ç–∏ URL-–∞–¥—Ä–µ—Å/–Ω–æ–º–µ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø—Ä–æ–±–ª–µ–º—ã
   - –ó–∞–≥—Ä—É–∑–∏—Ç **–≤—Å–µ —Ñ–∞–π–ª—ã –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ** –≤ –Ω–∞—à–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –í –∫–æ–Ω—Ü–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø—É—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º –ø—É—Ç–µ–º —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏.

<!-- intro -->
–ü—Ä–∏–º–µ—Ä:

<!-- request Example -->
```bash
docker run -it --rm -v $(pwd):/upload manticoresearch/upload
```

<!-- response Example -->
```bash
üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ Manticore Search! üöÄ

üìÇ –§–∞–π–ª—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏:
  tt (800)

üîó –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ URL-–∞–¥—Ä–µ—Å/–Ω–æ–º–µ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø—Ä–æ–±–ª–µ–º—ã
(–Ω–∞–ø—Ä–∏–º–µ—Ä, https://github.com/manticoresoftware/manticoresearch/issues/123 –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ 123):
123

üì§ –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏...
INFO: –§–∞–π–ª –∫—ç—à–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø—É—Å—Ç, —Å–æ–∑–¥–∞–µ–º/–∑–∞–ø–æ–ª–Ω—è–µ–º –µ–≥–æ.
INFO: –°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...
INFO: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è stat() –∏ —á—Ç–µ–Ω–∏–µ/—Ä–∞—Å—á–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–π MD5 –Ω–∞ 23 —Ñ–∞–π–ª–∞—Ö, —ç—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è...
INFO: –†–µ–∑—É–ª—å—Ç–∞—Ç: 23 –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
upload: './tt/tt.0.spa' -> 's3://write-only/issue-20250219-123/tt/tt.0.spa'  [1 –∏–∑ 23]
 40 –∏–∑ 40   100% –∑–∞    2s    15.03 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spd' -> 's3://write-only/issue-20250219-123/tt/tt.0.spd'  [2 –∏–∑ 23]
 1 –∏–∑ 1   100% –∑–∞    0s     1.99 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spe' -> 's3://write-only/issue-20250219-123/tt/tt.0.spe'  [3 –∏–∑ 23]
 1 –∏–∑ 1   100% –∑–∞    0s     2.02 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.sph' -> 's3://write-only/issue-20250219-123/tt/tt.0.sph'  [4 –∏–∑ 23]
 420 –∏–∑ 420   100% –∑–∞    0s   895.32 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.sphi' -> 's3://write-only/issue-20250219-123/tt/tt.0.sphi'  [5 –∏–∑ 23]
 66 –∏–∑ 66   100% –∑–∞    0s   142.67 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spi' -> 's3://write-only/issue-20250219-123/tt/tt.0.spi'  [6 –∏–∑ 23]
 18 –∏–∑ 18   100% –∑–∞    0s    39.13 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spidx' -> 's3://write-only/issue-20250219-123/tt/tt.0.spidx'  [7 –∏–∑ 23]
 145 –∏–∑ 145   100% –∑–∞    0s   313.38 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spm' -> 's3://write-only/issue-20250219-123/tt/tt.0.spm'  [8 –∏–∑ 23]
 4 –∏–∑ 4   100% –∑–∞    0s     8.36 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spp' -> 's3://write-only/issue-20250219-123/tt/tt.0.spp'  [9 –∏–∑ 23]
 1 –∏–∑ 1   100% –∑–∞    0s     2.15 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.0.spt' -> 's3://write-only/issue-20250219-123/tt/tt.0.spt'  [10 –∏–∑ 23]
 36 –∏–∑ 36   100% –∑–∞    0s    78.35 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.1.spa' -> 's3://write-only/issue-20250219-123/tt/tt.1.spa'  [11 –∏–∑ 23]
 48 –∏–∑ 48   100% –∑–∞    0s    81.35 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.1.spd' -> 's3://write-only/issue-20250219-123/tt/tt.1.spd'  [12 –∏–∑ 23]
 1 –∏–∑ 1   100% –∑–∞    0s     1.65 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.1.spe' -> 's3://write-only/issue-20250219-123/tt/tt.1.spe'  [13 –∏–∑ 23]
 1 –∏–∑ 1   100% –∑–∞    0s     1.95 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.1.sph' -> 's3://write-only/issue-20250219-123/tt/tt.1.sph'  [14 –∏–∑ 23]
 420 –∏–∑ 420   100% –∑–∞    0s   891.58 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.1.sphi' -> 's3://write-only/issue-20250219-123/tt/tt.1.sphi'  [15 –∏–∑ 23]
 82 –∏–∑ 82   100% –∑–∞    0s   166.42 B/s  –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
upload: './tt/tt.1.spi' -> 's3://write-only/issue-20250219-123/tt/tt.1.spi'  [16 –∏–∑ 23]
 18 –∏–∑ 18   100% –∑–∞    0—Å    39.46 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.1.spidx' -> 's3://write-only/issue-20250219-123/tt/tt.1.spidx'  [17 –∏–∑ 23]
 183 –∏–∑ 183   100% –∑–∞    0—Å   374.04 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.1.spm' -> 's3://write-only/issue-20250219-123/tt/tt.1.spm'  [18 –∏–∑ 23]
 4 –∏–∑ 4   100% –∑–∞    0—Å     8.42 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.1.spp' -> 's3://write-only/issue-20250219-123/tt/tt.1.spp'  [19 –∏–∑ 23]
 1 –∏–∑ 1   100% –∑–∞    0—Å     1.28 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.1.spt' -> 's3://write-only/issue-20250219-123/tt/tt.1.spt'  [20 –∏–∑ 23]
 50 –∏–∑ 50   100% –∑–∞    1—Å    34.60 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.lock' -> 's3://write-only/issue-20250219-123/tt/tt.lock'  [21 –∏–∑ 23]
 0 –∏–∑ 0     0% –∑–∞    0—Å     0.00 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.meta' -> 's3://write-only/issue-20250219-123/tt/tt.meta'  [22 –∏–∑ 23]
 456 –∏–∑ 456   100% –∑–∞    0—Å   923.34 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ
upload: './tt/tt.settings' -> 's3://write-only/issue-20250219-123/tt/tt.settings'  [23 –∏–∑ 23]
 3 –∏–∑ 3   100% –∑–∞    0—Å     6.41 B/c  –∑–∞–≤–µ—Ä—à–µ–Ω–æ

‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
üìã –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º –ø—É—Ç–µ–º —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏:
issue-20250219-123

üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ —ç—Ç–æ—Ç –ø—É—Ç—å –ø—Ä–∏ –æ–±—â–µ–Ω–∏–∏ —Å –∫–æ–º–∞–Ω–¥–æ–π Manticore
```
<!-- end -->

–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å S3 [Minio client](https://min.io/docs/minio/linux/reference/minio-mc.html) –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Amazon [s3cmd](https://s3tools.org/s3cmd) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Ö –∂–µ –¥–µ–π—Å—Ç–≤–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç https://min.io/docs/minio/linux/reference/minio-mc.html#install-mc
–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 64-–±–∏—Ç–Ω–æ–º Linux:
   ```
   curl https://dl.min.io/client/mc/release/linux-amd64/mc \
   --create-dirs \
   -o $HOME/minio-binaries/mc
   chmod +x $HOME/minio-binaries/mc
   export PATH=$PATH:$HOME/minio-binaries/
   ```
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—à —Ö–æ—Å—Ç s3 (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥): `cd $HOME/minio-binaries` –∏ –∑–∞—Ç–µ–º `./mc config host add manticore http://s3.manticoresearch.com:9000 manticore manticore`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ —Ñ–∞–π–ª—ã (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥): `cd $HOME/minio-binaries` –∏ –∑–∞—Ç–µ–º `./mc cp -r issue-1234/ manticore/write-only/issue-1234` . –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è –ø–∞–ø–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏ –ª—É—á—à–µ –≤—Å–µ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–±–ª–µ–º–µ –Ω–∞ GitHub, –≥–¥–µ –≤—ã –æ–ø–∏—Å–∞–ª–∏ –æ—à–∏–±–∫—É.

### –û–¢–õ–ê–î–ö–ê

```sql
–û–¢–õ–ê–î–ö–ê [ –ø–æ–¥–∫–æ–º–∞–Ω–¥–∞ ]
```

–ö–æ–º–∞–Ω–¥–∞ `–û–¢–õ–ê–î–ö–ê` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–ª–∏ VIP-–∫–æ–º–∞–Ω–¥. –û–¥–Ω–∞–∫–æ –æ–Ω–∞ –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ, —Ç–∞–∫ –∫–∞–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `–ø–æ–¥–∫–æ–º–∞–Ω–¥–∞` –º–æ–∂–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å—Å—è –≤ –ª—é–±–æ–π —Å–±–æ—Ä–∫–µ.

–ß—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –ø–æ–¥–∫–æ–º–∞–Ω–¥ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã `–û–¢–õ–ê–î–ö–ê`, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ —Ç–µ–∫—É—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤–∏—Ç–µ `–û–¢–õ–ê–î–ö–ê` –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

```sql
mysql> debug;
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| –∫–æ–º–∞–Ω–¥–∞                                                                 | –∑–Ω–∞—á–µ–Ω–∏–µ                                                                                |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| —Å–±—Ä–æ—Å–∏—Ç—å –ª–æ–≥–∏                                                            | —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª USR1                                                                |
| –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã                                                    | —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª HUP                                                                  |
| –æ—Ç–ª–∞–¥–∫–∞ —Ç–æ–∫–µ–Ω–∞ <–ø–∞—Ä–æ–ª—å>                                                  | –≤—ã—á–∏—Å–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è –ø–∞—Ä–æ–ª—è                                                            |
| –æ—Ç–ª–∞–¥–∫–∞ malloc_stats                                                      | –≤—ã–ø–æ–ª–Ω–∏—Ç—å 'malloc_stats', —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ searchd.log                                       |
| –æ—Ç–ª–∞–¥–∫–∞ malloc_trim                                                       | –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã–∑–æ–≤ 'malloc_trim'                                                          |
| –æ—Ç–ª–∞–¥–∫–∞ —Å–æ–Ω <N>                                                         | —Å–ø–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ <N> —Å–µ–∫—É–Ω–¥                                                              |
| –æ—Ç–ª–∞–¥–∫–∞ –∑–∞–¥–∞—á–∏                                                           | –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–¥–∞—á (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ select from @@system.tasks –≤–º–µ—Å—Ç–æ) |
| –æ—Ç–ª–∞–¥–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è                                                       | –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ select from @@system.sched –≤–º–µ—Å—Ç–æ) |
| –æ—Ç–ª–∞–¥–∫–∞ —Å–ª–∏—è–Ω–∏—è <TBL> [—á–∞—Å—Ç—å] <X> [–≤] [—á–∞—Å—Ç—å] <Y> [–æ–ø—Ü–∏—è sync=1,byid=0] | –î–ª—è RT —Ç–∞–±–ª–∏—Ü—ã <TBL> —Å–ª–∏—Ç—å –¥–∏—Å–∫ —á–∞—Å—Ç—å X –≤ –¥–∏—Å–∫ —á–∞—Å—Ç—å Y                                 |
| –æ—Ç–ª–∞–¥–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è [—á–∞—Å—Ç—å] <X> [–∏–∑] <TBL> [–æ–ø—Ü–∏—è sync=1]                   | –î–ª—è RT —Ç–∞–±–ª–∏—Ü—ã <TBL> —É–¥–∞–ª–∏—Ç—å –¥–∏—Å–∫ —á–∞—Å—Ç—å X                                            |
| –æ—Ç–ª–∞–¥–∫–∞ —Ñ–∞–π–ª—ã <TBL> [–æ–ø—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç=all|external]                         | –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å —Ñ–∞–π–ª—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ <TBL>. 'all' - –≤–∫–ª—é—á–∞—è –≤–Ω–µ—à–Ω–∏–µ (—Å–ª–æ–≤–æ—Ñ–æ—Ä–º—ã, —Å—Ç–æ–ø-—Å–ª–æ–≤–∞ –∏ –¥—Ä.) |
| –æ—Ç–ª–∞–¥–∫–∞ –∑–∞–∫—Ä—ã—Ç—å                                                          | –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∑–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –µ–≥–æ —Å—Ç–æ—Ä–æ–Ω—ã                                     |
| –æ—Ç–ª–∞–¥–∫–∞ —Å–∂–∞—Ç–∏–µ <TBL> [—á–∞—Å—Ç—å] <X> [–æ–ø—Ü–∏—è sync=1]                        | –°–∂–∞—Ç—å –¥–∏—Å–∫ —á–∞—Å—Ç—å X RT —Ç–∞–±–ª–∏—Ü—ã <TBL> (—É–¥–∞–ª–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã)                      |
| –æ—Ç–ª–∞–¥–∫–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç—å <TBL> [—á–∞—Å—Ç—å] <X> –Ω–∞ @<uservar> [–æ–ø—Ü–∏—è sync=1]         | –†–∞–∑–¥–µ–ª–∏—Ç—å –¥–∏—Å–∫ —á–∞—Å—Ç—å X RT —Ç–∞–±–ª–∏—Ü—ã <TBL>, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞–±–æ—Ä DocIDs –∏–∑ @uservar           |
| –æ—Ç–ª–∞–¥–∫–∞ –æ–∂–∏–¥–∞—Ç—å <–∫–ª–∞—Å—Ç–µ—Ä> [–∫–∞–∫ 'xx'] [–æ–ø—Ü–∏—è timeout=3]                 | –æ–∂–∏–¥–∞—Ç—å, –ø–æ–∫–∞ <–∫–ª–∞—Å—Ç–µ—Ä> –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 3 —Å–µ–∫—É–Ω–¥.                           |
| –æ—Ç–ª–∞–¥–∫–∞ –æ–∂–∏–¥–∞—Ç—å <–∫–ª–∞—Å—Ç–µ—Ä> —Å—Ç–∞—Ç—É—Å <N> [–∫–∞–∫ 'xx'] [–æ–ø—Ü–∏—è timeout=13]     | –æ–∂–∏–¥–∞—Ç—å, –ø–æ–∫–∞ <–∫–ª–∞—Å—Ç–µ—Ä> –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∫–æ–º–º–∏—Ç–∞ <N>, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 13 —Å–µ–∫—É–Ω–¥                   |
| debug meta                                                              | –ü–æ–∫–∞–∂–∏—Ç–µ max_matches/pseudo_shards. –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å profiling=1                     |
| debug trace OFF|'path/to/file' [<N>]                                    | —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –≤ —Ñ–∞–π–ª –¥–æ –∑–∞–ø–∏—Å–∏ N –±–∞–π—Ç –∏–ª–∏ 'trace OFF'                             |
| debug curl <URL>                                                        | –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–π URL —Å –ø–æ–º–æ—â—å—é libcurl                                                |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
19 rows in set (0.00 sec)
```

–¢–æ –∂–µ —Å–∞–º–æ–µ –æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VIP:
```sql
mysql> debug;
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| command                                                                 | meaning                                                                                |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
| flush logs                                                              | —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª USR1                                                                |
| reload indexes                                                          | —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª HUP                                                                  |
| debug shutdown <password>                                               | —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª TERM                                                                 |
| debug crash <password>                                                  | –∞–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–µ–º–æ–Ω–∞ (—Å–¥–µ–ª–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ SIGSEGV)                                 |
| debug token <password>                                                  | –≤—ã—á–∏—Å–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è –ø–∞—Ä–æ–ª—è                                                             |
| debug malloc_stats                                                      | –≤—ã–ø–æ–ª–Ω–∏—Ç—å 'malloc_stats', —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ searchd.log                                      |
| debug malloc_trim                                                       | –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—ã–∑–æ–≤ 'malloc_trim'                                                           |
| debug procdump                                                          | –ø–æ–ø—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å                                            |
| debug setgdb on|off                                                     | –≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–π —Å–±—Ä–æ—Å –ø—Ä–∏ –∞–≤–∞—Ä–∏–∏ —Å gdb                      |
| debug setgdb status                                                     | –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —Å–±—Ä–æ—Å–∞ gdb                                                      |
| debug sleep <N>                                                         | —Å–ø–∞—Ç—å <N> —Å–µ–∫—É–Ω–¥                                                                        |
| debug tasks                                                             | –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞–¥–∞—á (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–±–æ—Ä –∏–∑ @@system.tasks –≤–º–µ—Å—Ç–æ)     |
| debug sched                                                             | –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∑–∞–¥–∞—á (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–±–æ—Ä –∏–∑ @@system.sched –≤–º–µ—Å—Ç–æ)     |
| debug merge <TBL> [chunk] <X> [into] [chunk] <Y> [option sync=1,byid=0] | –î–ª—è RT —Ç–∞–±–ª–∏—Ü—ã <TBL> –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–∏—Å–∫ —á–∞–Ω–∫ X –≤ –¥–∏—Å–∫ —á–∞–Ω–∫ Y                            |
| debug drop [chunk] <X> [from] <TBL> [option sync=1]                     | –î–ª—è RT —Ç–∞–±–ª–∏—Ü—ã <TBL> —É–¥–∞–ª–∏—Ç—å –¥–∏—Å–∫ —á–∞–Ω–∫ X                                             |
| debug files <TBL> [option format=all|external]                          | –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å —Ñ–∞–π–ª—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ <TBL>. 'all' - –≤–∫–ª—é—á–∞—è –≤–Ω–µ—à–Ω–∏–µ (—Ñ–æ—Ä–º—ã —Å–ª–æ–≤, —Å—Ç–æ–ø-—Å–ª–æ–≤–∞ –∏ —Ç.–¥.) |
| debug close                                                             | –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∑–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –µ–≥–æ —Å—Ç–æ—Ä–æ–Ω—ã                                      |
| debug compress <TBL> [chunk] <X> [option sync=1]                        | –°–∂–∞—Ç—å –¥–∏—Å–∫ —á–∞–Ω–∫ X —Ç–∞–±–ª–∏—Ü—ã RT <TBL> (—É–¥–∞–ª–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã)                       |
| debug split <TBL> [chunk] <X> on @<uservar> [option sync=1]             | –†–∞–∑–¥–µ–ª–∏—Ç—å –¥–∏—Å–∫ —á–∞–Ω–∫ X —Ç–∞–±–ª–∏—Ü—ã RT <TBL> —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–∞–±–æ—Ä–∞ DocIDs –∏–∑ @uservar       |
| debug wait <cluster> [like 'xx'] [option timeout=3]                     | –∂–¥–∞—Ç—å, –ø–æ–∫–∞ <cluster> –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 3 —Å–µ–∫—É–Ω–¥.                             |
| debug wait <cluster> status <N> [like 'xx'] [option timeout=13]         | –∂–¥–∞—Ç—å, –ø–æ–∫–∞ <cluster> –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∫–æ–º–º–∏—Ç–∞ <N>, –Ω–æ –Ω–µ –±–æ–ª–µ–µ 13 —Å–µ–∫—É–Ω–¥                    |
| debug meta                                                              | –ü–æ–∫–∞–∂–∏—Ç–µ max_matches/pseudo_shards. –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å profiling=1                     |
| debug trace OFF|'path/to/file' [<N>]                                    | —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –≤ —Ñ–∞–π–ª –¥–æ –∑–∞–ø–∏—Å–∏ N –±–∞–π—Ç –∏–ª–∏ 'trace OFF'                             |
| debug curl <URL>                                                        | –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–π URL —Å –ø–æ–º–æ—â—å—é libcurl                                                |
+-------------------------------------------------------------------------+----------------------------------------------------------------------------------------+
24 rows in set (0.00 sec)
```

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã `debug XXX` —Å–ª–µ–¥—É–µ—Ç —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏ –ø–æ–¥–ª–µ–∂–∞—â–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è, –ø–æ—ç—Ç–æ–º—É –Ω–µ —É–¥–∏–≤–ª—è–π—Ç–µ—Å—å, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–º–µ–Ω—è—Ç—Å—è. –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –º–æ–∂–µ—Ç –Ω–µ –æ—Ç—Ä–∞–∂–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –ø–æ—ç—Ç–æ–º—É –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –≤–∞—à–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ–¥—Ä–æ–±–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∫—Ä–æ–º–µ —ç—Ç–æ–≥–æ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ '–∑–Ω–∞—á–µ–Ω–∏–µ', –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ.
–í –∫–∞—á–µ—Å—Ç–≤–µ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –Ω–∏–∂–µ –æ–ø–∏—Å–∞–Ω—ã –¥–≤–µ –∫–æ–º–∞–Ω–¥—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–∞–º VIP - shutdown –∏ crash. –û–±–µ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã debug token –∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä [shutdown_token](Server_settings/Searchd.md#shutdown_token) –≤ —Ä–∞–∑–¥–µ–ª–µ searchd —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ —Ç–∞–∫–æ–π —Ä–∞–∑–¥–µ–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏–ª–∏ –µ—Å–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Ö–µ—à –ø–∞—Ä–æ–ª—è –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–∫–µ–Ω—É, —Ö—Ä–∞–Ω—è—â–µ–º—É—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø–æ–¥–∫–æ–º–∞–Ω–¥—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—é—Ç.

```sql
mysql> debug token hello;
+-------------+------------------------------------------+
| command     | result                                   |
+-------------+------------------------------------------+
| debug token | aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d |
+-------------+------------------------------------------+
1 row in set (0,00 sec)
```

–ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ `shutdown` –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–∏–≥–Ω–∞–ª TERM —Å–µ—Ä–≤–µ—Ä—É, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –µ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—é. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø–∞—Å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –Ω–∏–∫—Ç–æ –Ω–µ —Ö–æ—á–µ—Ç —Å–ª—É—á–∞–π–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–π —Å–µ—Ä–≤–∏—Å. –ü–æ—ç—Ç–æ–º—É –æ–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç VIP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è.

–ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ `crash` –±—É–∫–≤–∞–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–±–æ–π. –û–Ω–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ü–µ–ª—è—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∞–º–ø–æ–≤ –ø–∞–º—è—Ç–∏.

–ï—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ–∫–∞–∂—É—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º–∏ –≤ –±–æ–ª–µ–µ –æ–±—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ, –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –∏–∑ –ø–æ–¥–∫–æ–º–∞–Ω–¥ –æ—Ç–ª–∞–¥–∫–∏ –≤ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏ –æ–±—â–µ–µ –º–µ—Å—Ç–æ (–∫–∞–∫ —ç—Ç–æ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ `debug tasks` –∏ `debug sched` –≤ —Ç–∞–±–ª–∏—Ü–µ).

<!-- proofread -->


