# Распределенный поиск

Manticore разработан для эффективного масштабирования благодаря своим возможностям распределенного поиска. Распределенный поиск полезен для улучшения латентности запросов (т.е. времени поиска) и пропускной способности (т.е. макс. запросов/сек) в многосерверных, многопроцессорных или многоядерных средах. Это критически важно для приложений, которые должны искать по огромным объемам данных (т.е. миллиардам записей и терабайтам текста).

Основная концепция заключается в горизонтальном разделении запрашиваемых данных по узлам поиска и параллельной их обработке.

Разделение выполняется вручную. Чтобы его настроить, вам необходимо:

* Настроить несколько экземпляров Manticore на разных серверах
* Распределить разные части вашего набора данных между различными экземплярами
* Настроить специальную [распределенную таблицу](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) на некоторых из экземпляров `searchd`
* Направить ваши запросы в распределенную таблицу

Этот тип таблицы содержит только ссылки на другие локальные и удаленные таблицы - поэтому ее нельзя напрямую переиндексировать. Вместо этого вам следует переиндексировать таблицы, на которые она ссылается.

Когда Manticore получает запрос к распределенной таблице, он выполняет следующие шаги:

1. Подключается к настроенным удаленным агентам
2. Отправляет им запрос
3. Одновременно осуществляет поиск в настроенных локальных таблицах (в то время как удаленные агенты ищут)
4. Получает результаты поиска от удаленных агентов
5. Объединяет все результаты, удаляя дубликаты
6. Отправляет объединенные результаты клиенту

С точки зрения приложения нет никаких различий между поиском в обычной таблице или распределенной таблице. Другими словами, распределенные таблицы полностью прозрачны для приложения, и нет способа определить, была ли таблица, которую вы запрашивали, распределенной или локальной.

Узнайте больше о [удаленных узлах](../Creating_a_cluster/Remote_nodes.md).

<!-- proofread -->
