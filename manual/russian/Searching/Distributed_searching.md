# Распределённый поиск

Manticore разработан для эффективного масштабирования за счёт возможностей распределённого поиска. Распределённый поиск полезен для улучшения задержки запросов (то есть времени поиска) и пропускной способности (то есть максимального количества запросов в секунду) в много-серверных, много-CPU или много-ядерных средах. Это критично для приложений, которым нужно искать по огромным объёмам данных (то есть миллиардам записей и терабайтам текста).

Основная идея — горизонтально разбить искомые данные по поисковым узлам и обрабатывать их параллельно.

Разбиение выполняется вручную. Чтобы настроить это, необходимо:

* Настроить несколько экземпляров Manticore на разных серверах
* Распределить разные части вашего набора данных на разные экземпляры
* Настроить специальную [распределённую таблицу](../Creating_a_table/Creating_a_distributed_table/Creating_a_distributed_table.md) на некоторых из `searchd` экземпляров
* Направлять ваши запросы к распределённой таблице

Такой тип таблиц содержит только ссылки на другие локальные и удалённые таблицы — поэтому её нельзя индексировать напрямую. Вместо этого вы должны переиндексировать таблицы, на которые она ссылается.

Когда Manticore получает запрос к распределённой таблице, он выполняет следующие шаги:

1. Подключается к настроенным удалённым агентам
2. Отправляет им запрос
3. Одновременно ищет по настроенным локальным таблицам (пока удалённые агенты выполняют поиск)
4. Получает результаты поиска от удалённых агентов
5. Объединяет все результаты, удаляя дубликаты
6. Отправляет объединённые результаты клиенту

С точки зрения приложения, нет никакой разницы между поиском по обычной таблице или распределённой. Другими словами, распределённые таблицы полностью прозрачны для приложения, и нельзя определить, была ли таблица, по которой вы сделали запрос, распределённой или локальной.

Узнайте больше о [удалённых узлах](../Creating_a_cluster/Remote_nodes.md).

<!-- proofread -->

