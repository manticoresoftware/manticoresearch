# Введение

Manticore Search — это высокопроизводительная многоредактируемая база данных, созданная специально для поиска и аналитики, которая предлагает молниеносный полнотекстовый поиск, индексирование в реальном времени и продвинутые функции, такие как векторный поиск и колонковое хранение для эффективного анализа данных. Разработанная для работы как с небольшими, так и с большими наборами данных, она обеспечивает беспрепятственную масштабируемость и мощные аналитические возможности для современных приложений.

Будучи базой данных с открытым исходным кодом (доступной на [GitHub](https://github.com/manticoresoftware/manticoresearch/)), Manticore Search была создана в 2017 году как продолжение движка [Sphinx Search](https://sphinxsearch.com/). Наша команда разработчиков взяла все лучшие возможности Sphinx и значительно улучшила его функциональность, устранив сотни багов (подробности приведены в нашем [Changelog](https://manual.manticoresearch.com/Changelog)). Manticore Search — это современная, быстрая и легковесная база данных с исключительными возможностями полнотекстового поиска, построенная на практически полном переписывании предшественника.

## Ключевые особенности Manticore:
#### Мощный и быстрый полнотекстовый поиск, эффективно работающий как с малыми, так и с большими наборами данных

  * [Автозаполнение запросов](Searching/Autocomplete.md)
  * [Нечеткий поиск](Searching/Spell_correction.md#Fuzzy-Search)
  * Более 20 [операторов полнотекстового поиска](https://play.manticoresearch.com/fulltextintro/)<!--{target="_blank"}--> и более 20 факторов ранжирования
  * [Пользовательское ранжирование](Searching/Sorting_and_ranking.md#Ranking-overview)
  * [Стемминг](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Лемматизация](Creating_a_table/NLP_and_tokenization/Morphology.md)
  * [Стоп-слова](Creating_a_table/NLP_and_tokenization/Ignoring_stop-words.md)
  * [Синонимы](Creating_a_table/NLP_and_tokenization/Exceptions.md)
  * [Формы слов](Creating_a_table/NLP_and_tokenization/Wordforms.md)
  * [Продвинутая токенизация на уровне символов и слов](Creating_a_table/NLP_and_tokenization/Low-level_tokenization.md)
  * [Корректное разбиение китайского текста](Creating_a_table/NLP_and_tokenization/Languages_with_continuous_scripts.md)
  * [Подсветка текста](Searching/Highlighting.md)

#### Возможности векторного поиска
Manticore Search поддерживает добавление эмбеддингов, создаваемых вашими моделями машинного обучения, для каждого документа с последующим выполнением [поиска ближайших соседей](Searching/KNN.md). Это позволяет реализовать такие функции, как поиск по похожести, рекомендации, семантический поиск и ранжирование релевантности на основе алгоритмов обработки естественного языка, а также поиск по изображениям, видео и звукам.

#### JOIN
Manticore Search поддерживает запросы с [JOIN](Searching/Joining.md) через SQL и JSON, позволяя объединять данные из нескольких таблиц.

#### Многопоточность
Manticore Search использует интеллектуальное параллелирование запросов для уменьшения времени отклика и полного использования всех ядер CPU при необходимости.

#### Оптимизатор запросов на основе стоимости
Оптимизатор запросов на основе стоимости использует статистические данные об индексируемых данных для оценки относительных затрат различных планов выполнения заданного запроса. Это позволяет оптимизатору определить наиболее эффективный план получения желаемых результатов, учитывая такие факторы, как размер индексируемых данных, сложность запроса и доступные ресурсы.

#### Варианты хранения
Manticore предлагает как [построчное, так и колонковое хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) для работы с наборами данных разного размера. Традиционный и стандартный вариант построчного хранения доступен для наборов данных любого размера — маленьких, средних и больших, а колонковое хранение предоставляется через Manticore Columnar Library для еще более крупных наборов данных. Главное отличие между этими вариантами хранения в том, что построчное хранение требует, чтобы все атрибуты (за исключением полнотекстовых полей) находились в ОЗУ для оптимальной производительности, тогда как колонковое хранение не требует этого, что обеспечивает меньшее потребление ОЗУ, но потенциально немного более низкую скорость работы (что подтверждается статистикой на https://db-benchmarks.com/).

#### Автоматические вторичные индексы
[Manticore Columnar Library](https://github.com/manticoresoftware/columnar/) использует [индекс Piecewise Geometric Model](https://github.com/gvinciguerra/PGM-index), который применяет изученную отображаемость между индексируемыми ключами и их расположением в памяти. Компактность этой отображаемости в сочетании с уникальным рекурсивным алгоритмом построения делает PGM-индекс структурой данных, превосходящей традиционные индексы по пространству на порядки, при этом обеспечивая наилучшее время выполнения запросов и обновлений. Вторичные индексы включены по умолчанию для всех числовых и строковых полей и могут быть активированы для JSON-атрибутов.

#### SQL-приваливание
Родной синтаксис Manticore — это SQL, и он поддерживает SQL через HTTP и протокол MySQL, что позволяет подключаться через популярные mysql-клиенты на любом языке программирования.

#### JSON через HTTP
Для более программного подхода к управлению данными и схемами Manticore предоставляет протокол [HTTP JSON](Searching/Full_text_matching/Basic_usage.md#HTTP-JSON), подобный тому, что используется в Elasticsearch.

#### Записи, совместимые с Elasticsearch
Вы можете выполнять запросы вставки и замены JSON, совместимые с Elasticsearch ([insert](Data_creation_and_modification/Adding_documents_to_a_table/Adding_documents_to_a_real-time_table.md#Adding-documents-to-a-real-time-table) и [replace](Data_creation_and_modification/Updating_documents/REPLACE.md#REPLACE)), что позволяет использовать Manticore с такими инструментами, как Logstash (версии ниже 7.13), Filebeat и другими инструментами из семейства Beats.

#### Декларативное и императивное управление схемами
Легко создавать, обновлять и удалять таблицы онлайн или через конфигурационный файл.

#### Преимущества C++ и удобство PHP
Демон поиска Manticore разработан на C++, обеспечивая быстрый запуск и эффективное использование памяти. Низкоуровневые оптимизации дополнительно повышают производительность. Другой важный компонент, называемый [Manticore Buddy](https://github.com/manticoresoftware/manticoresearch-buddy), написан на PHP и используется для высокоуровневой функциональности, не требующей молниеносного времени отклика или чрезвычайно высокой вычислительной мощности. Хотя внесение вклада в код на C++ может представлять сложность, добавление новой SQL/JSON-команды с помощью Manticore Buddy должно быть простым процессом.

#### Вставки в реальном времени
Недавно добавленные или обновленные документы могут быть немедленно прочитаны.

#### Интерактивные курсы для легкого изучения
Мы предлагаем [бесплатные интерактивные курсы](https://play.manticoresearch.com/) для облегчения обучения.

#### Транзакции
Хотя Manticore не полностью соответствует ACID, он поддерживает изолированные транзакции для атомарных изменений и двоичное протоколирование для безопасной записи.

#### Встроенная репликация и балансировка нагрузки
Данные могут быть распределены между серверами и центрами обработки данных, при этом любой узел Manticore Search может выступать как балансировщиком нагрузки, так и узлом данных. Manticore реализует практически синхронную многомастерную [репликацию](https://play.manticoresearch.com/replication/) с использованием библиотеки [Galera](https://galeracluster.com/), обеспечивая согласованность данных на всех узлах, предотвращая потерю данных и обеспечивая исключительную производительность репликации.

#### Встроенные возможности резервного копирования
Manticore оснащен внешним инструментом [manticore-backup](Securing_and_compacting_a_table/Backup_and_restore.md) и SQL-командой [BACKUP](Securing_and_compacting_a_table/Backup_and_restore.md#BACKUP-SQL-command-reference) для упрощения процесса резервного копирования и восстановления данных. Кроме того, вы можете использовать [mysqldump](https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html) для [создания логических резервных копий](Securing_and_compacting_a_table/Backup_and_restore.md#Backup-and-restore-with-mysqldump).

#### Синхронизация данных из коробки
Инструмент `indexer` и всеобъемлющий синтаксис конфигурации Manticore облегчают синхронизацию данных из источников, таких как MySQL, PostgreSQL, базы данных, совместимые с ODBC, XML и CSV.

#### Варианты интеграции
Вы можете интегрировать Manticore Search с сервером MySQL/MariaDB, используя [механизм FEDERATED](Extensions/FEDERATED.md) или через [ProxySQL](https://manticoresearch.com/blog/using-proxysql-to-route-inserts-in-a-distributed-realtime-index/).

Вы можете использовать [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/), Kibana и [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) для визуализации данных, хранящихся в Manticore. Различные инструменты MySQL можно использовать для интерактивной разработки запросов Manticore, такие как [HeidiSQL](https://www.heidisql.com/) и [DBForge](https://www.devart.com/dbforge/).

Вы можете использовать Manticore Search с [Kibana](Integration/Kibana.md).

#### Простая потоковая фильтрация
Manticore предлагает специальный тип таблицы - "[percolate](Creating_a_table/Local_tables/Percolate_table.md)", который позволяет искать запросы вместо данных, делая его эффективным инструментом для фильтрации потоков полнотекстовых данных. Просто сохраните свои запросы в таблице, обработайте поток данных, отправив каждую партию документов в Manticore Search, и получите только результаты, соответствующие сохраненным запросам.

#### Возможные применения
Manticore Search универсален и может применяться в различных сценариях, включая:

- **Полнотекстовый поиск**:
  - Идеально подходит для платформ электронной коммерции, обеспечивая быстрый и точный поиск товаров с функциями автозаполнения и нечеткого поиска.
  - Идеален для контент-ориентированных веб-сайтов, позволяя пользователям быстро находить релевантные статьи или документы.

- **Анализ данных**:
  - Загрузка данных в Manticore Search с помощью [Beats/Logstash](https://manticoresearch.com/blog/integration-of-manticore-with-logstash-filebeat/), [Vector.dev](https://manticoresearch.com/blog/integration-of-manticore-with-vectordev/), [Fluentbit](https://manticoresearch.com/blog/integration-of-manticore-with-fluentbit/).
  - Эффективный анализ больших наборов данных с помощью колоночного хранилища и возможностей OLAP Manticore.
  - Выполнение сложных запросов к терабайтам данных с минимальной задержкой.
  - Визуализация данных с помощью Kibana, [Grafana](https://manticoresearch.com/blog/manticoresearch-grafana-integration/) или [Apache Superset](https://manticoresearch.com/blog/manticoresearch-apache-superset-integration/).

- **Фасетный поиск**:
  - Позволить пользователям фильтровать результаты поиска по категориям, таким как цена, бренд или дата, для более точного поиска.

- **Геопространственный поиск**:
  - Реализация поиска на основе местоположения, например, поиск ближайших ресторанов или магазинов, с геопространственными возможностями Manticore.

- **Исправление орфографии**:
  - Автоматическое исправление опечаток пользователей в поисковых запросах для улучшения точности поиска и пользовательского опыта.

- **Автозаполнение**:
  - Предоставление подсказок в реальном времени во время ввода, повышающих удобство и скорость поиска.

- **Фильтрация потоков данных**:
  - Использование таблиц перколяции для эффективной фильтрации и обработки потоков данных в реальном времени, таких как потоки социальных сетей или журналы данных.


## Требования

* Архитектура: arm64 или x86_64
* ОС: Дистрибутивы на базе Debian (например, Debian, Ubuntu, Mint), дистрибутивы на базе RHEL (например, RHEL, CentOS, Alma, Oracle Linux, Amazon Linux), Windows или MacOS.
* [Библиотека Manticore Columnar](https://github.com/manticoresoftware/columnar), которая обеспечивает [колоночное хранение](Creating_a_table/Data_types.md#Row-wise-and-columnar-attribute-storages) и [вторичные индексы](Introduction.md#Automatic-secondary-indexes), требует процессора с SSE >= 4.2.
* Нет специальных требований к дисковому пространству или оперативной памяти. Пустой экземпляр Manticore Search использует около 40 МБ оперативной памяти RSS.

<!-- proofread -->

