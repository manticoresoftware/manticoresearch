â€“â€“â€“ input â€“â€“â€“
apt-get update -y > /dev/null; echo $?
â€“â€“â€“ output â€“â€“â€“
0
â€“â€“â€“ input â€“â€“â€“
apt-get install jq -y > /dev/null; echo $?
â€“â€“â€“ output â€“â€“â€“
debconf: delaying package configuration, since apt-utils is not installed
0
â€“â€“â€“ input â€“â€“â€“
searchd; if timeout 10 grep -qm1 'accepting' <(tail -n 1000 -f /var/log/manticore/searchd.log); then echo 'Started'; else echo 'Timeout or failed!'; fi
â€“â€“â€“ output â€“â€“â€“
Manticore %{SEMVER} %{COMMITDATE}#!/(\sdev)?\s/!#(columnar %{SEMVER} %{COMMITDATE}) (secondary %{SEMVER} %{COMMITDATE}) (knn %{SEMVER} %{COMMITDATE})
Copyright (c) 2001-2016, Andrew Aksyonoff
Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)
Copyright (c) 2017-%{YEAR}, Manticore Software LTD (https://manticoresearch.com)
[#!/[0-9]{2}:[0-9]{2}.[0-9]{3}/!#] [#!/[0-9]+/!#] using config file '/etc/manticoresearch/manticore.conf' (%{NUMBER} chars)...
starting daemon version '%{SEMVER} %{COMMITDATE}#!/(\sdev)?\s/!#(columnar %{SEMVER} %{COMMITDATE}) (secondary %{SEMVER} %{COMMITDATE}) (knn %{SEMVER} %{COMMITDATE})' ...
listening on %{IPADDR}:9312 for sphinx and http(s)
listening on %{IPADDR}:9306 for mysql
listening on %{IPADDR}:9308 for sphinx and http(s)
Started
â€“â€“â€“ input â€“â€“â€“
mysql -h0 -P9306 -e "CREATE TABLE x ( id bigint, tag bigint ); insert into x values (1,1),(2,2),(3,3); flush ramchunk x; insert into x values (4,1),(5,2),(6,3); flush ramchunk x; SHOW TABLES; SELECT * FROM x;"
â€“â€“â€“ output â€“â€“â€“
+-------+------+
| Index | Type |
+-------+------+
| x     | rt   |
+-------+------+
+------+------+
| id   | tag  |
+------+------+
|    4 |    1 |
|    1 |    1 |
|    5 |    2 |
|    2 |    2 |
|    3 |    3 |
|    6 |    3 |
+------+------+
â€“â€“â€“ input â€“â€“â€“
mysql -h0 -P9306 -e "optimize table x option cutoff=1;"
â€“â€“â€“ output â€“â€“â€“
â€“â€“â€“ input â€“â€“â€“
cat /var/lib/manticore/x/x.meta | jq .total_bytes
â€“â€“â€“ output â€“â€“â€“
[0;39m0[0m
