––– block: ../base/start-searchd-with-buddy –––
––– input –––
mysql -h0 -P9306 -e "CREATE TABLE t (id INT, value TEXT, value_attr STRING) min_infix_len = '3' min_prefix_len = '3'; INSERT INTO t VALUES (1, 'example', 'example'), (2, 'test', 'test');"
––– output –––
––– comment –––
Тест BUDDY запросов на /sql?mode=raw эндпоинте - должен возвращать raw формат согласно документации
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "show version"
––– output –––
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "show buddy plugins" | head -5
––– output –––
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "select * from t where match('exmaple') option fuzzy=1"
––– output –––
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "show fields from t"
––– output –––
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "create table t_copy4 like t"
––– output –––
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "show full tables"
––– output –––
––– comment –––
Простой Manticore запрос должен работать правильно в raw режиме согласно документации
––– input –––
curl -s -X POST "http://localhost:9308/sql?mode=raw" -d "select * from t limit 1"
––– output –––
