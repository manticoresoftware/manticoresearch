––– block: start-searchd –––
––– input –––
./tests/clt-tests/mysqldump/scripts/generate-1m-records.sh | mysql -h0 -P9306
––– output –––
––– input –––
mysql -h0 -P9306 -e 'show tables'
––– output –––
+-------+------+
| Index | Type |
+-------+------+
| t     | rt   |
+-------+------+
––– input –––
mysql -h0 -P9306 -e 'select count(*) from t'
––– output –––
+----------+
| count(*) |
+----------+
|  1000000 |
+----------+
––– input –––
mysql -h0 -P9306 -e "select * from t order by id asc limit 20"
––– output –––
+------+-----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
| id   | f         | a      | b                 | s    | j                                            | m                                |
+------+-----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
|    1 | aa        | 139090 |  912626112.000000 | QAQ  | {"a":[2140855600,1509344502],"b":1114121522} | 928973100,1245670504,1413286320  |
|    2 | aaaaaaa   | 128647 |  269423872.000000 | Gld  | {"a":[1617199777,1258482137],"b":292588464}  | 8841452,21374549,1989075723      |
|    3 | aaaa      |  32106 |  333059456.000000 | GvI  | {"a":[1499886331,1977497504],"b":1274214921} | 1248109474,1554722161,1932553501 |
|    4 | aaaaaaa   |  95446 |  696490880.000000 | MWx  | {"a":[680290594,914219277],"b":1982302985}   | 900846479,1000430726,1039865880  |
|    5 | a         | 171447 | 1407612800.000000 | Ahr  | {"a":[427690075,445521431],"b":1749166246}   | 27668259,308109277,824621314     |
|    6 | aaaa      | 146777 | 1213110656.000000 | SOC  | {"a":[121581552,1820436984],"b":1682929863}  | 1502056736,1581765396,1925375373 |
|    7 | aaaaa     | 165451 | 1388130176.000000 | rzd  | {"a":[400883027,1127147375],"b":107321286}   | 1229779908,1517742664,1911219944 |
|    8 | aaaaaaaa  |  37295 | 1851192960.000000 | tnE  | {"a":[1660390017,1167859658],"b":608681734}  | 185371603,1408678047,1463275848  |
|    9 | aaaa      | 212421 |  406914176.000000 | UdO  | {"a":[587958023,954825964],"b":898241699}    | 272656722,1624186067,1663615544  |
|   10 | aaaaaa    |  55287 | 1092516992.000000 | fpS  | {"a":[116478871,1636002126],"b":1856960050}  | 152522164,551802408,619994798    |
|   11 | aaa       |  86386 |  681192192.000000 | Gtz  | {"a":[661707195,94304443],"b":2086306634}    | 543066914,1237733450,2002653905  |
|   12 | aaaaaa    |  57827 | 1626874240.000000 | AnC  | {"a":[1872737919,855153366],"b":167580149}   | 329823660,1648921925,2017031652  |
|   13 | aaaaaaaaa | 137798 |  496823136.000000 | lGz  | {"a":[416865286,91350609],"b":1599607162}    | 706692656,1936289567,2053679064  |
|   14 | aaaa      | 161596 | 1228024832.000000 | QnM  | {"a":[1438869757,1473167994],"b":1276565667} | 144601937,407695664,2063437019   |
|   15 | aaaaaaa   |  91732 |  645985152.000000 | Qjt  | {"a":[1744659471,1065653647],"b":1629565195} | 219136969,1013877052,1525544836  |
|   16 | aaaaaaaa  |  22162 |  420178624.000000 | bOE  | {"a":[1793538384,813865368],"b":1069542460}  | 1165315561,1267507259,1420434902 |
|   17 | aaaa      | 106450 |  383662592.000000 | drM  | {"a":[998815445,454491894],"b":202294918}    | 1846417453,1874712508,1981036927 |
|   18 | aaaaa     |  36445 | 1780265600.000000 | Ilf  | {"a":[754576639,107468665],"b":411366113}    | 979380400,991124073,1132191711   |
|   19 | aaa       | 194471 | 1201735552.000000 | zIx  | {"a":[594803932,327120583],"b":1558907145}   | 239810528,1670100966,1912418574  |
|   20 | aaa       |   2497 | 2021816576.000000 | Wlj  | {"a":[1819190943,1038134483],"b":1527408089} | 124533905,283037034,1458644697   |
+------+-----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
––– input –––
mysql -h0 -P9306 -e "select * from t where s = 'Psm' order by id asc limit 20"
––– output –––
+--------+----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
| id     | f        | a      | b                 | s    | j                                            | m                                |
+--------+----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
|  25893 | aaaaaa   |   8854 | 2139785984.000000 | pSM  | {"a":[79605024,283554296],"b":1784577126}    | 693336920,957474493,1651343351   |
|  30623 | aa       | 110092 | 1205931264.000000 | pSM  | {"a":[1024657054,376804752],"b":546063725}   | 252842617,437018527,1478615009   |
|  44227 | aaaa     | 212210 |  367371520.000000 | pSM  | {"a":[339875658,1369264714],"b":772941482}   | 1150292829,1280458167,1707299924 |
|  56736 | aaaaaa   | 133916 | 1720635904.000000 | pSM  | {"a":[2020422890,323501996],"b":1551479959}  | 1483936901,1636169937,1876177530 |
|  66816 |          | 165163 | 1636388992.000000 | pSM  | {"a":[900633648,296327420],"b":1908224268}   | 846437376,1087403651,1266394200  |
|  70701 |          | 200700 |  288589152.000000 | pSM  | {"a":[1109218960,1973688560],"b":1871238846} | 196010896,355280928,387260721    |
|  80033 | aa       |  64293 | 2124754304.000000 | pSM  | {"a":[1962586384,851254312],"b":1374552738}  | 571083136,1103333282,2119614107  |
|  90230 | aaaaaa   | 132455 |  732874816.000000 | pSM  | {"a":[42693058,1943757256],"b":1641279119}   | 682240880,1263980762,1999073654  |
| 102536 | aaaaaa   | 128665 | 1546006272.000000 | pSM  | {"a":[644460172,1575529786],"b":459824646}   | 344490331,428266871,2117904969   |
| 128962 |          | 157882 | 1266416128.000000 | pSM  | {"a":[207811492,1576368130],"b":1138852862}  | 598881819,1234822316,2057361555  |
| 132365 | aaaaaa   | 114579 |  868929536.000000 | pSM  | {"a":[1570792800,233713336],"b":1246730467}  | 445759921,561021979,1389395548   |
| 147016 |          | 110895 |  531699744.000000 | pSM  | {"a":[839428582,714946660],"b":1461315133}   | 772408857,1320323663,1833637571  |
| 173389 | aa       |  29919 | 1188877568.000000 | pSM  | {"a":[839529592,1727928032],"b":214342300}   | 1079604615,1568698990,2111837482 |
| 193061 | aaaaaaaa |  60894 |  929179328.000000 | pSM  | {"a":[306568306,350505258],"b":1133035289}   | 334440791,1113282887,1459123966  |
| 199441 | aa       |   1636 |  176340016.000000 | pSM  | {"a":[1047383576,2110774522],"b":1584194394} | 1391552006,1628205337,1790648682 |
| 201356 | aaaa     |  50999 |  942236864.000000 | pSM  | {"a":[1723284724,1218071074],"b":2084259322} | 1046936691,1750607482,1931965117 |
| 207543 | aa       | 192294 | 1797908352.000000 | pSM  | {"a":[210662288,1462574112],"b":1225757789}  | 804907026,1235084222,1708486923  |
| 241758 | aaaaaaaa | 151205 | 1865935872.000000 | pSM  | {"a":[2141201262,1046327528],"b":872103136}  | 1328182803,1380744026,1787326445 |
| 252813 | aaaaaa   | 213612 |  880511936.000000 | pSM  | {"a":[44554528,357819786],"b":1324257075}    | 119431333,972164411,1799327497   |
| 254858 |          | 147143 | 1928699264.000000 | pSM  | {"a":[2016177480,661091820],"b":1487530053}  | 592195705,1417970300,1703085329  |
+--------+----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
––– input –––
mysql -h0 -P9306 -e "select * from t where a = 18530 order by id asc limit 20"
––– output –––
+--------+---------+-------+-------------------+------+---------------------------------------------+----------------------------------+
| id     | f       | a     | b                 | s    | j                                           | m                                |
+--------+---------+-------+-------------------+------+---------------------------------------------+----------------------------------+
| 549829 | aaaaaa  | 18530 | 1683631488.000000 | nxY  | {"a":[113496185,627136196],"b":2046299364}  | 711711201,993299251,2083662152   |
| 797943 | aaaaa   | 18530 |   73274912.000000 | WMf  | {"a":[816141442,918325205],"b":2062405755}  | 1225288528,1329456945,2097512737 |
| 843150 | aaaaaa  | 18530 | 1028139968.000000 | EzG  | {"a":[2064432057,1557496076],"b":701452700} | 130639101,1523083107,1705696609  |
| 927293 | aaaaaaa | 18530 | 2061602176.000000 | CEj  | {"a":[1692024962,226190597],"b":244362696}  | 704309221,941341928,1976830946   |
+--------+---------+-------+-------------------+------+---------------------------------------------+----------------------------------+
––– input –––
mysqldump -h0 -P9306 Manticore > /tmp/all-databases.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e "drop table t"
––– output –––
––– input –––
mysql -h0 -P9306 < /tmp/all-databases.sql
––– output –––
––– input –––
mysql -h0 -P9306 -e 'show tables'
––– output –––
+-------+------+
| Index | Type |
+-------+------+
| t     | rt   |
+-------+------+
––– input –––
mysql -h0 -P9306 -e 'select count(*) from t'
––– output –––
+----------+
| count(*) |
+----------+
|  1000000 |
+----------+
––– input –––
mysql -h0 -P9306 -e "select * from t order by id asc limit 20"
––– output –––
+------+-----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
| id   | f         | a      | b                 | s    | j                                            | m                                |
+------+-----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
|    1 | aa        | 139090 |  912626112.000000 | QAQ  | {"a":[2140855600,1509344502],"b":1114121522} | 928973100,1245670504,1413286320  |
|    2 | aaaaaaa   | 128647 |  269423872.000000 | Gld  | {"a":[1617199777,1258482137],"b":292588464}  | 8841452,21374549,1989075723      |
|    3 | aaaa      |  32106 |  333059456.000000 | GvI  | {"a":[1499886331,1977497504],"b":1274214921} | 1248109474,1554722161,1932553501 |
|    4 | aaaaaaa   |  95446 |  696490880.000000 | MWx  | {"a":[680290594,914219277],"b":1982302985}   | 900846479,1000430726,1039865880  |
|    5 | a         | 171447 | 1407612800.000000 | Ahr  | {"a":[427690075,445521431],"b":1749166246}   | 27668259,308109277,824621314     |
|    6 | aaaa      | 146777 | 1213110656.000000 | SOC  | {"a":[121581552,1820436984],"b":1682929863}  | 1502056736,1581765396,1925375373 |
|    7 | aaaaa     | 165451 | 1388130176.000000 | rzd  | {"a":[400883027,1127147375],"b":107321286}   | 1229779908,1517742664,1911219944 |
|    8 | aaaaaaaa  |  37295 | 1851192960.000000 | tnE  | {"a":[1660390017,1167859658],"b":608681734}  | 185371603,1408678047,1463275848  |
|    9 | aaaa      | 212421 |  406914176.000000 | UdO  | {"a":[587958023,954825964],"b":898241699}    | 272656722,1624186067,1663615544  |
|   10 | aaaaaa    |  55287 | 1092516992.000000 | fpS  | {"a":[116478871,1636002126],"b":1856960050}  | 152522164,551802408,619994798    |
|   11 | aaa       |  86386 |  681192192.000000 | Gtz  | {"a":[661707195,94304443],"b":2086306634}    | 543066914,1237733450,2002653905  |
|   12 | aaaaaa    |  57827 | 1626874240.000000 | AnC  | {"a":[1872737919,855153366],"b":167580149}   | 329823660,1648921925,2017031652  |
|   13 | aaaaaaaaa | 137798 |  496823136.000000 | lGz  | {"a":[416865286,91350609],"b":1599607162}    | 706692656,1936289567,2053679064  |
|   14 | aaaa      | 161596 | 1228024832.000000 | QnM  | {"a":[1438869757,1473167994],"b":1276565667} | 144601937,407695664,2063437019   |
|   15 | aaaaaaa   |  91732 |  645985152.000000 | Qjt  | {"a":[1744659471,1065653647],"b":1629565195} | 219136969,1013877052,1525544836  |
|   16 | aaaaaaaa  |  22162 |  420178624.000000 | bOE  | {"a":[1793538384,813865368],"b":1069542460}  | 1165315561,1267507259,1420434902 |
|   17 | aaaa      | 106450 |  383662592.000000 | drM  | {"a":[998815445,454491894],"b":202294918}    | 1846417453,1874712508,1981036927 |
|   18 | aaaaa     |  36445 | 1780265600.000000 | Ilf  | {"a":[754576639,107468665],"b":411366113}    | 979380400,991124073,1132191711   |
|   19 | aaa       | 194471 | 1201735552.000000 | zIx  | {"a":[594803932,327120583],"b":1558907145}   | 239810528,1670100966,1912418574  |
|   20 | aaa       |   2497 | 2021816576.000000 | Wlj  | {"a":[1819190943,1038134483],"b":1527408089} | 124533905,283037034,1458644697   |
+------+-----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
––– input –––
mysql -h0 -P9306 -e "select * from t where s = 'Psm' order by id asc limit 20"
––– output –––
+--------+----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
| id     | f        | a      | b                 | s    | j                                            | m                                |
+--------+----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
|  25893 | aaaaaa   |   8854 | 2139785984.000000 | pSM  | {"a":[79605024,283554296],"b":1784577126}    | 693336920,957474493,1651343351   |
|  30623 | aa       | 110092 | 1205931264.000000 | pSM  | {"a":[1024657054,376804752],"b":546063725}   | 252842617,437018527,1478615009   |
|  44227 | aaaa     | 212210 |  367371520.000000 | pSM  | {"a":[339875658,1369264714],"b":772941482}   | 1150292829,1280458167,1707299924 |
|  56736 | aaaaaa   | 133916 | 1720635904.000000 | pSM  | {"a":[2020422890,323501996],"b":1551479959}  | 1483936901,1636169937,1876177530 |
|  66816 |          | 165163 | 1636388992.000000 | pSM  | {"a":[900633648,296327420],"b":1908224268}   | 846437376,1087403651,1266394200  |
|  70701 |          | 200700 |  288589152.000000 | pSM  | {"a":[1109218960,1973688560],"b":1871238846} | 196010896,355280928,387260721    |
|  80033 | aa       |  64293 | 2124754304.000000 | pSM  | {"a":[1962586384,851254312],"b":1374552738}  | 571083136,1103333282,2119614107  |
|  90230 | aaaaaa   | 132455 |  732874816.000000 | pSM  | {"a":[42693058,1943757256],"b":1641279119}   | 682240880,1263980762,1999073654  |
| 102536 | aaaaaa   | 128665 | 1546006272.000000 | pSM  | {"a":[644460172,1575529786],"b":459824646}   | 344490331,428266871,2117904969   |
| 128962 |          | 157882 | 1266416128.000000 | pSM  | {"a":[207811492,1576368130],"b":1138852862}  | 598881819,1234822316,2057361555  |
| 132365 | aaaaaa   | 114579 |  868929536.000000 | pSM  | {"a":[1570792800,233713336],"b":1246730467}  | 445759921,561021979,1389395548   |
| 147016 |          | 110895 |  531699744.000000 | pSM  | {"a":[839428582,714946660],"b":1461315133}   | 772408857,1320323663,1833637571  |
| 173389 | aa       |  29919 | 1188877568.000000 | pSM  | {"a":[839529592,1727928032],"b":214342300}   | 1079604615,1568698990,2111837482 |
| 193061 | aaaaaaaa |  60894 |  929179328.000000 | pSM  | {"a":[306568306,350505258],"b":1133035289}   | 334440791,1113282887,1459123966  |
| 199441 | aa       |   1636 |  176340016.000000 | pSM  | {"a":[1047383576,2110774522],"b":1584194394} | 1391552006,1628205337,1790648682 |
| 201356 | aaaa     |  50999 |  942236864.000000 | pSM  | {"a":[1723284724,1218071074],"b":2084259322} | 1046936691,1750607482,1931965117 |
| 207543 | aa       | 192294 | 1797908352.000000 | pSM  | {"a":[210662288,1462574112],"b":1225757789}  | 804907026,1235084222,1708486923  |
| 241758 | aaaaaaaa | 151205 | 1865935872.000000 | pSM  | {"a":[2141201262,1046327528],"b":872103136}  | 1328182803,1380744026,1787326445 |
| 252813 | aaaaaa   | 213612 |  880511936.000000 | pSM  | {"a":[44554528,357819786],"b":1324257075}    | 119431333,972164411,1799327497   |
| 254858 |          | 147143 | 1928699264.000000 | pSM  | {"a":[2016177480,661091820],"b":1487530053}  | 592195705,1417970300,1703085329  |
+--------+----------+--------+-------------------+------+----------------------------------------------+----------------------------------+
––– input –––
mysql -h0 -P9306 -e "select * from t where a = 18530 order by id asc limit 20"
––– output –––
+--------+---------+-------+-------------------+------+---------------------------------------------+----------------------------------+
| id     | f       | a     | b                 | s    | j                                           | m                                |
+--------+---------+-------+-------------------+------+---------------------------------------------+----------------------------------+
| 549829 | aaaaaa  | 18530 | 1683631488.000000 | nxY  | {"a":[113496185,627136196],"b":2046299364}  | 711711201,993299251,2083662152   |
| 797943 | aaaaa   | 18530 |   73274912.000000 | WMf  | {"a":[816141442,918325205],"b":2062405755}  | 1225288528,1329456945,2097512737 |
| 843150 | aaaaaa  | 18530 | 1028139968.000000 | EzG  | {"a":[2064432057,1557496076],"b":701452700} | 130639101,1523083107,1705696609  |
| 927293 | aaaaaaa | 18530 | 2061602176.000000 | CEj  | {"a":[1692024962,226190597],"b":244362696}  | 704309221,941341928,1976830946   |
+--------+---------+-------+-------------------+------+---------------------------------------------+----------------------------------+
