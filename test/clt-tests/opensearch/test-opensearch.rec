––– block: ../base/start-searchd-with-buddy –––
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/_nodes?filter_path=nodes.*.version%2Cnodes.*.http.publish_address%2Cnodes.*.ip '
––– output –––
{"nodes":{"#!/[A-Za-z0-9]+/!#":{"http":{"publish_address":"127.0.0.1:9308"},"ip":"127.0.0.1","version":"2.19.1"}}}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/.kibana'
––– output –––
{"error":{"index":".kibana","index_uuid":"_na_","reason":"no such index [.kibana]","resource.id":".kibana","resource.type":"index_or_alias","root_cause":[{"index":".kibana","index_uuid":"_na_","reason":"no such index [.kibana]","resource.id":".kibana","resource.type":"index_or_alias","type":"index_not_found_exception"}],"type":"index_not_found_exception"},"status":404}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/.kibana'
––– output –––
{"error":{"index":".kibana","index_uuid":"_na_","reason":"no such index [.kibana]","resource.id":".kibana","resource.type":"index_or_alias","root_cause":[{"index":".kibana","index_uuid":"_na_","reason":"no such index [.kibana]","resource.id":".kibana","resource.type":"index_or_alias","type":"index_not_found_exception"}],"type":"index_not_found_exception"},"status":404}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/.kibana/_count'
––– output –––
{"_shards":{"failed":0,"skipped":0,"successful":1,"total":1},"count":0}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/_nodes?filter_path=nodes.*.version%2Cnodes.*.http.publish_address%2Cnodes.*.ip '
––– output –––
{"nodes":{"#!/[A-Za-z0-9]+/!#":{"http":{"publish_address":"127.0.0.1:9308"},"ip":"127.0.0.1","version":"2.19.1"}}}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/_cat/plugins?format=JSON '
––– output –––
[{"name":"me-MS-7E51","component":"opensearch-alerting","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-anomaly-detection","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-asynchronous-search","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-cross-cluster-replication","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-custom-codecs","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-flow-framework","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-geospatial","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-index-management","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-job-scheduler","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-knn","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-ltr","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-ml","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-neural-search","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-notifications","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-notifications-core","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-observability","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-performance-analyzer","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-reports-scheduler","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-search-relevance","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-security","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-security-analytics","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-skills","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-sql","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-system-templates","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"opensearch-ubi","version":"2.19.1.0"},{"name":"me-MS-7E51","component":"query-insights","version":"2.19.1.0"}]
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/.kibana/_doc/config%3A3.1.0'
––– output –––
{"_index":".kibana_1","_id":"config:3.1.0","_version":1,"_seq_no":0,"_primary_term":1,"found":true,"_source":{"config":{"buildNum":8487},"type":"config","references":[],"migrationVersion":{"config":"7.9.0"},"updated_at":"2025-07-10T11:48:46.529Z"}}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/.kibana/_doc/config%3A%3Ccurrent_workspace%3E_2.19.0' 
––– output –––
{"_index":".kibana_1","_id":"config:<current_workspace>_2.19.0","found":false}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/.kibana/_doc/config%3A_dashboard_admin' 
––– output –––
{"_index":".kibana_1","_id":"config:_dashboard_admin","found":false}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/_plugins/_query/_datasources' 
––– output –––
[]
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 501' -H 'Connection: keep-alive' -d '{"seq_no_primary_term":true,"query":{"bool":{"filter":[{"bool":{"should":[{"bool":{"must":[{"term":{"type":"index-pattern"}}],"should":[{"bool":{"must_not":[{"exists":{"field":"namespace"}}]}}],"minimum_should_match":1,"must_not":[{"exists":{"field":"namespaces"}}]}}],"minimum_should_match":1}}],"should":[{"simple_query_string":{"query":"*","fields":["index-pattern.title"],"default_operator":"OR"}},{"match_phrase_prefix":{"index-pattern.title":{"query":"","boost":1}}}],"minimum_should_match":1}}}' 'localhost:9308/.kibana/_search?size=1&from=0&_source=index-pattern.title%2Cnamespace%2Cnamespaces%2Ctype%2Creferences%2CmigrationVersion%2Cupdated_at%2CoriginId%2Cworkspaces%2Cpermissions%2Ctitle&rest_total_hits_as_int=true' 
––– output –––
{"took":3,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":0,"max_score":null,"hits":[]}}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 299' -d '{"seq_no_primary_term":true,"query":{"bool":{"filter":[{"bool":{"should":[{"bool":{"must":[{"term":{"type":"index-pattern"}}],"should":[{"bool":{"must_not":[{"exists":{"field":"namespace"}}]}}],"minimum_should_match":1,"must_not":[{"exists":{"field":"namespaces"}}]}}],"minimum_should_match":1}}]}}}' -H 'Connection: keep-alive' 'localhost:9308/.kibana/_search?size=10000&from=0&_source=index-pattern.title%2Cnamespace%2Cnamespaces%2Ctype%2Creferences%2CmigrationVersion%2Cupdated_at%2CoriginId%2Cworkspaces%2Cpermissions%2Ctitle&rest_total_hits_as_int=true' 
––– output –––
{"took":1,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":0,"max_score":null,"hits":[]}}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/_resolve/index/* ' 
––– output –––
{"indices":[{"name":".kibana_1","aliases":[".kibana"],"attributes":["open"]},{"name":".opendistro_security","attributes":["open"]},{"name":".plugins-ml-config","attributes":["open"]},{"name":".ql-datasources","attributes":["open"]},{"name":"security-auditlog-2025.07.10","attributes":["open"]},{"name":"security-auditlog-2025.08.04","attributes":["open"]},{"name":"top_queries-2025.08.18-70624","attributes":["open"]},{"name":"top_queries-2025.08.19-70625","attributes":["open"]}],"aliases":[{"name":".kibana","indices":[".kibana_1"]}],"data_streams":[]}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 0' -H 'Connection: keep-alive' 'localhost:9308/_resolve/index/*%3A*' 
––– output –––
{"indices":[],"aliases":[],"data_streams":[]}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 134' -H 'Connection: keep-alive' -d '{"seq_no_primary_term":true,"query":{"bool":{"filter":[{"bool":{"should":[{"bool":{"must":[{"term":{"type":"index-pattern"}}],"should":[{"bool":{"must_not":[{"exists":{"field":"namespace"}}]}}],"minimum_should_match":1,"must_not":[{"exists":{"field":"namespaces"}}]}}],"minimum_should_match":1}}]}}}' 'localhost:9308/.kibana/_search?size=10000&from=0&_source=index-pattern.title%2Cindex-pattern.type%2Cnamespace%2Cnamespaces%2Ctype%2Creferences%2CmigrationVersion%2Cupdated_at%2CoriginId%2Cworkspaces%2Cpermissions%2Ctitle%2Ctype&rest_total_hits_as_int=true' 
––– output –––
{"took":1,"timed_out":false,"_shards":{"total":1,"successful":1,"skipped":0,"failed":0},"hits":{"total":0,"max_score":null,"hits":[]}}
––– input –––
curl -s -X GET -H 'Authorization: Basic ZWxhc3RpYzpwYXNz' -H 'Content-Length: 159' -H 'Connection: keep-alive' -d '{"size":0,"aggs":{"indices":{"terms":{"field":"_index","size":200}}}}' 'localhost:9308/*%3A*/_search?ignore_unavailable=true&track_total_hits=true&timeout=30000ms&expand_wildcards=open' 
––– output –––
{"took":0,"timed_out":false,"_shards":{"total":0,"successful":0,"skipped":0,"failed":0},"hits":{"total":{"value":0,"relation":"eq"},"max_score":0.0,"hits":[]}}
