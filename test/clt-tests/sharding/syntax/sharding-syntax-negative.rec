––– input –––
export INSTANCE=1
––– output –––
––– block: ../../base/replication/start-searchd-precach –––
––– input –––
mysql -h0 -P1306 -e "create table tbl1 random=5"
––– output –––
ERROR 1064 (42000) at line 1: P03: syntax error, unexpected integer, expecting string near '5'
––– input –––
mysql -h0 -P1306 -e "create table tbl2(id bigint) shards=a rf=b"
––– output –––
ERROR 1064 (42000) at line 1: P03: syntax error, unexpected tablename, expecting string near 'a rf=b'
––– input –––
mysql -h0 -P1306 -e "create table tbl3(id bigint) shards=-10 rf=-1"
––– output –––
ERROR 1064 (42000) at line 1: P03: syntax error, unexpected $undefined, expecting string near '-10 rf=-1'
––– input –––
mysql -h0 -P1306 -e "CREATE TABLE tbl4 shards=abc rf=1;"
––– output –––
ERROR 1064 (42000) at line 1: P03: syntax error, unexpected tablename, expecting string near 'abc rf=1'
––– input –––
mysql -h0 -P1306 -e "create table tbl5(id bigint) shards=3"
––– output –––
ERROR 1064 (42000) at line 1: Sharded table requires `rf=n`
––– input –––
mysql -h0 -P1306 -e "CREATE TABLE tbl6 shards=5 rf12;"
––– output –––
ERROR 1064 (42000) at line 1: Sharded table requires `rf=n`
––– input –––
mysql -h0 -P1306 -e "create table tbl7(id bigint) shards= rf=1"
––– output –––
ERROR 1064 (42000) at line 1: P03: syntax error, unexpected tablename, expecting string near 'rf=1'
––– input –––
mysql -h0 -P1306 -e "create table tbl8(id bigint) shards=5 rf=1 extra"
––– output –––
ERROR 1064 (42000) at line 1: Waiting timeout exceeded.
––– input –––
mysql -h0 -P1306 -e "create table tbl9(id bigint) shards=0 rf=0"
––– output –––
ERROR 1064 (42000) at line 1: Invalid shards or rf options are set
––– input –––
mysql -h0 -P1306 -e "create table tbl10(id bigint) shards=1.5 rf=2.3"
––– output –––
ERROR 1064 (42000) at line 1: You cannot set rf greater than 1 when creating single node sharded table.
––– input –––
mysql -h0 -P1306 -e "create table tbl11(id bigint) shards 5 rf 1"
––– output –––
ERROR 1064 (42000) at line 1: P03: syntax error, unexpected integer, expecting '=' near '5 rf 1'
––– input –––
mysql -h0 -P1306 -e "create table tbl12(id bigint) shards='' rf=''"
––– output –––
––– input –––
mysql -h0 -P1306 -e "create table tbl13(id bigint) shards=5 shards=3 rf=1"
––– output –––
ERROR 1064 (42000) at line 1: Duplicate parameter 'shards' found
––– input –––
mysql -h0 -P1306 -e "create table tbl14(id bigint) shards=\"3\" rf=\"1\""
––– output –––
ERROR 1064 (42000) at line 1: Sharded table requires `rf=n`
