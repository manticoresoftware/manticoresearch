a:1:{i:0;a:28:{i:0;a:2:{s:8:"sphinxql";s:25:"set global threads_ex='8'";s:14:"total_affected";i:0;}i:1;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:3:"GET";s:12:"http_request";s:32:"query=select+*+from+test+limit+2";s:4:"rows";s:265:"{"timed_out":false,"hits":{"total":2,"total_relation":"gte","hits":[{"_id":1,"_score":1,"_source":{"title":"test one и я","gid":1,"j":{"name":"Alice","uid":123}}},{"_id":2,"_score":1,"_source":{"title":"test two","gid":1,"j":{"name":"Bob","uid":234,"gid":12}}}]}}";s:9:"http_code";i:200;s:4:"http";i:1;}i:2;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:3:"GET";s:12:"http_request";s:60:"query=select%20%2A+from+test%20where+match('tes%2a')+limit+5";s:4:"rows";s:400:"{"timed_out":false,"hits":{"total":3,"total_relation":"eq","hits":[{"_id":1,"_score":1616,"_source":{"title":"test one и я","gid":1,"j":{"name":"Alice","uid":123}}},{"_id":2,"_score":1616,"_source":{"title":"test two","gid":1,"j":{"name":"Bob","uid":234,"gid":12}}},{"_id":8,"_score":1616,"_source":{"title":"stringvector test","gid":3,"j":{"sv":["one","two","three","четыре"],"gid":315}}}]}}";s:9:"http_code";i:200;s:4:"http";i:1;}i:3;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:57:"query=select%20%2A+from+test%20order+by+j.uid+asc+limit+5";s:4:"rows";s:522:"{"timed_out":false,"hits":{"total":14,"total_relation":"eq","hits":[{"_id":5,"_score":1,"_source":{"title":"numeric fixup","gid":3,"j":{"12":345,"34":"567"}}},{"_id":6,"_score":1,"_source":{"title":"numeric fixup contd","gid":3,"j":{"12":"346","179":"971"}}},{"_id":8,"_score":1,"_source":{"title":"stringvector test","gid":3,"j":{"sv":["one","two","three","четыре"],"gid":315}}},{"_id":9,"_score":1,"_source":{"title":"empty","gid":3,"j":{}}},{"_id":10,"_score":1,"_source":{"title":"empty v2","gid":3,"j":null}}]}}";s:9:"http_code";i:200;s:4:"http";i:1;}i:4;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:95:"query=select id,1+2 as a, packedfactors() from test where match('tes*') option ranker=expr('1')";s:4:"rows";s:25:"{"error":"query missing"}";s:9:"http_code";i:400;s:4:"http";i:1;}i:5;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:104:"mode=raw&query=select id,1+2 as a, packedfactors() from test where match('tes*') option ranker=expr('1')";s:4:"rows";s:25:"{"error":"query missing"}";s:9:"http_code";i:400;s:4:"http";i:1;}i:6;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:112:"mode=raw&query=select id,1+2 as a, packedfactors({json=1}) from test where match('tes*') option ranker=expr('1')";s:4:"rows";s:25:"{"error":"query missing"}";s:9:"http_code";i:400;s:4:"http";i:1;}i:7;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:105:"mode=raw&query=select * from test order by id asc limit 3;select id,j from test order by id desc limit 10";s:4:"rows";s:1111:"[{"columns":[{"id":{"type":"long long"}},{"title":{"type":"string"}},{"gid":{"type":"long"}},{"j":{"type":"string"}}],"data":[{"id":1,"title":"test one и я","gid":1,"j":"{\"name\":\"Alice\",\"uid\":123}"},{"id":2,"title":"test two","gid":1,"j":"{\"name\":\"Bob\",\"uid\":234,\"gid\":12}"},{"id":3,"title":"another doc","gid":2,"j":"{\"name\":\"Charlie\",\"uid\":345}"}],"total":3,"error":"","warning":""},{"columns":[{"id":{"type":"long long"}},{"j":{"type":"string"}}],"data":[{"id":18,"j":"{\"nick\":\"One\\nTwo\"}"},{"id":17,"j":"{\"nick\":\"One\\nTwo\"}"},{"id":16,"j":"{\"nick\":\"One\\nTwo\"}"},{"id":12,"j":"{\"sv\":[\"\\nMary had a little lamb, whose fleece was white as snow.\\nanother time, the age of wonders\"],\"gid\":316}"},{"id":11,"j":"{\"t1\":123456789,\"t2\":-123456789,\"t3\":3123456789,\"t4\":-3123456789,\"t5\":9876543210,\"t6\":-9876543210}"},{"id":10,"j":""},{"id":9,"j":"{}"},{"id":8,"j":"{\"sv\":[\"one\",\"two\",\"three\",\"четыре\"],\"gid\":315}"},{"id":6,"j":"{\"12\":\"346\",\"179\":\"971\"}"},{"id":5,"j":"{\"12\":345,\"34\":\"567\"}"}],"total":10,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:8;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:4:"POST";s:12:"http_request";s:89:"select id,1+2 as a, packedfactors() from test where match('tes*') option ranker=expr('1')";s:4:"rows";s:1289:"[{"columns":[{"id":{"type":"long long"}},{"a":{"type":"long"}},{"packedfactors()":{"type":"string"}}],"data":[{"id":1,"a":3,"packedfactors()":"bm25=616, bm25a=0.69689077, field_mask=1, doc_word_count=1, field0=(lcs=1, hit_count=1, word_count=1, tf_idf=0.25595802, min_idf=0.25595802, max_idf=0.25595802, sum_idf=0.25595802, min_hit_pos=1, min_best_span_pos=1, exact_hit=0, max_window_hits=1, min_gaps=0, exact_order=1, lccs=1, wlccs=0.25595802, atc=0.000000), word0=(tf=1, idf=0.25595802)"},{"id":2,"a":3,"packedfactors()":"bm25=616, bm25a=0.69689077, field_mask=1, doc_word_count=1, field0=(lcs=1, hit_count=1, word_count=1, tf_idf=0.25595802, min_idf=0.25595802, max_idf=0.25595802, sum_idf=0.25595802, min_hit_pos=1, min_best_span_pos=1, exact_hit=0, max_window_hits=1, min_gaps=0, exact_order=1, lccs=1, wlccs=0.25595802, atc=0.000000), word0=(tf=1, idf=0.25595802)"},{"id":8,"a":3,"packedfactors()":"bm25=616, bm25a=0.69689077, field_mask=1, doc_word_count=1, field0=(lcs=1, hit_count=1, word_count=1, tf_idf=0.25595802, min_idf=0.25595802, max_idf=0.25595802, sum_idf=0.25595802, min_hit_pos=2, min_best_span_pos=2, exact_hit=0, max_window_hits=1, min_gaps=0, exact_order=1, lccs=1, wlccs=0.25595802, atc=0.000000), word0=(tf=1, idf=0.25595802)"}],"total":3,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:9;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:4:"POST";s:12:"http_request";s:97:"select id,1+2 as a, packedfactors({json=1}) from test where match('tes*') option ranker=expr('1')";s:4:"rows";s:1666:"[{"columns":[{"id":{"type":"long long"}},{"a":{"type":"long"}},{"packedfactors({json=1})":{"type":"string"}}],"data":[{"id":1,"a":3,"packedfactors({json=1})":"{\"bm25\":616, \"bm25a\":0.69689077, \"field_mask\":1, \"doc_word_count\":1, \"fields\":[{\"field\":0, \"lcs\":1, \"hit_count\":1, \"word_count\":1, \"tf_idf\":0.25595802, \"min_idf\":0.25595802, \"max_idf\":0.25595802, \"sum_idf\":0.25595802, \"min_hit_pos\":1, \"min_best_span_pos\":1, \"exact_hit\":0, \"max_window_hits\":1, \"min_gaps\":0, \"exact_order\":1, \"lccs\":1, \"wlccs\":0.25595802, \"atc\":0.000000}], \"words\":[{\"tf\":1, \"idf\":0.25595802}]}"},{"id":2,"a":3,"packedfactors({json=1})":"{\"bm25\":616, \"bm25a\":0.69689077, \"field_mask\":1, \"doc_word_count\":1, \"fields\":[{\"field\":0, \"lcs\":1, \"hit_count\":1, \"word_count\":1, \"tf_idf\":0.25595802, \"min_idf\":0.25595802, \"max_idf\":0.25595802, \"sum_idf\":0.25595802, \"min_hit_pos\":1, \"min_best_span_pos\":1, \"exact_hit\":0, \"max_window_hits\":1, \"min_gaps\":0, \"exact_order\":1, \"lccs\":1, \"wlccs\":0.25595802, \"atc\":0.000000}], \"words\":[{\"tf\":1, \"idf\":0.25595802}]}"},{"id":8,"a":3,"packedfactors({json=1})":"{\"bm25\":616, \"bm25a\":0.69689077, \"field_mask\":1, \"doc_word_count\":1, \"fields\":[{\"field\":0, \"lcs\":1, \"hit_count\":1, \"word_count\":1, \"tf_idf\":0.25595802, \"min_idf\":0.25595802, \"max_idf\":0.25595802, \"sum_idf\":0.25595802, \"min_hit_pos\":2, \"min_best_span_pos\":2, \"exact_hit\":0, \"max_window_hits\":1, \"min_gaps\":0, \"exact_order\":1, \"lccs\":1, \"wlccs\":0.25595802, \"atc\":0.000000}], \"words\":[{\"tf\":1, \"idf\":0.25595802}]}"}],"total":3,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:10;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:4:"POST";s:12:"http_request";s:90:"select * from test order by id asc limit 3;select id,j from test order by id desc limit 10";s:4:"rows";s:1111:"[{"columns":[{"id":{"type":"long long"}},{"title":{"type":"string"}},{"gid":{"type":"long"}},{"j":{"type":"string"}}],"data":[{"id":1,"title":"test one и я","gid":1,"j":"{\"name\":\"Alice\",\"uid\":123}"},{"id":2,"title":"test two","gid":1,"j":"{\"name\":\"Bob\",\"uid\":234,\"gid\":12}"},{"id":3,"title":"another doc","gid":2,"j":"{\"name\":\"Charlie\",\"uid\":345}"}],"total":3,"error":"","warning":""},{"columns":[{"id":{"type":"long long"}},{"j":{"type":"string"}}],"data":[{"id":18,"j":"{\"nick\":\"One\\nTwo\"}"},{"id":17,"j":"{\"nick\":\"One\\nTwo\"}"},{"id":16,"j":"{\"nick\":\"One\\nTwo\"}"},{"id":12,"j":"{\"sv\":[\"\\nMary had a little lamb, whose fleece was white as snow.\\nanother time, the age of wonders\"],\"gid\":316}"},{"id":11,"j":"{\"t1\":123456789,\"t2\":-123456789,\"t3\":3123456789,\"t4\":-3123456789,\"t5\":9876543210,\"t6\":-9876543210}"},{"id":10,"j":""},{"id":9,"j":"{}"},{"id":8,"j":"{\"sv\":[\"one\",\"two\",\"three\",\"четыре\"],\"gid\":315}"},{"id":6,"j":"{\"12\":\"346\",\"179\":\"971\"}"},{"id":5,"j":"{\"12\":345,\"34\":\"567\"}"}],"total":10,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:11;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:4:"POST";s:12:"http_request";s:0:"";s:4:"rows";s:25:"{"error":"query missing"}";s:9:"http_code";i:400;s:4:"http";i:1;}i:12;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:4:"POST";s:12:"http_request";s:38:"select * from test where match ('%2F')";s:4:"rows";s:163:"[{"columns":[{"id":{"type":"long long"}},{"gid":{"type":"long"}},{"title":{"type":"string"}},{"j":{"type":"string"}}],"data":[],"total":0,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:13;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:3:"GET";s:12:"http_request";s:117:"select%20id,1+2%20as%20a,%20packedfactors()%20from%20test%20where%20match(%27tes*%27)%20option%20ranker=expr(%271%27)";s:4:"rows";s:1289:"[{"columns":[{"id":{"type":"long long"}},{"a":{"type":"long"}},{"packedfactors()":{"type":"string"}}],"data":[{"id":1,"a":3,"packedfactors()":"bm25=616, bm25a=0.69689077, field_mask=1, doc_word_count=1, field0=(lcs=1, hit_count=1, word_count=1, tf_idf=0.25595802, min_idf=0.25595802, max_idf=0.25595802, sum_idf=0.25595802, min_hit_pos=1, min_best_span_pos=1, exact_hit=0, max_window_hits=1, min_gaps=0, exact_order=1, lccs=1, wlccs=0.25595802, atc=0.000000), word0=(tf=1, idf=0.25595802)"},{"id":2,"a":3,"packedfactors()":"bm25=616, bm25a=0.69689077, field_mask=1, doc_word_count=1, field0=(lcs=1, hit_count=1, word_count=1, tf_idf=0.25595802, min_idf=0.25595802, max_idf=0.25595802, sum_idf=0.25595802, min_hit_pos=1, min_best_span_pos=1, exact_hit=0, max_window_hits=1, min_gaps=0, exact_order=1, lccs=1, wlccs=0.25595802, atc=0.000000), word0=(tf=1, idf=0.25595802)"},{"id":8,"a":3,"packedfactors()":"bm25=616, bm25a=0.69689077, field_mask=1, doc_word_count=1, field0=(lcs=1, hit_count=1, word_count=1, tf_idf=0.25595802, min_idf=0.25595802, max_idf=0.25595802, sum_idf=0.25595802, min_hit_pos=2, min_best_span_pos=2, exact_hit=0, max_window_hits=1, min_gaps=0, exact_order=1, lccs=1, wlccs=0.25595802, atc=0.000000), word0=(tf=1, idf=0.25595802)"}],"total":3,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:14;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:24:"mode=raw&query=desc test";s:4:"rows";s:357:"[{"columns":[{"Field":{"type":"string"}},{"Type":{"type":"string"}},{"Properties":{"type":"string"}}],"data":[{"Field":"id","Type":"bigint","Properties":""},{"Field":"title","Type":"string","Properties":"indexed stored attribute"},{"Field":"gid","Type":"uint","Properties":""},{"Field":"j","Type":"json","Properties":""}],"total":4,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:15;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:55:"mode=raw&query=alter table test add column new1 integer";s:4:"rows";s:37:"[{"total":0,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:16;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:24:"mode=raw&query=desc test";s:4:"rows";s:404:"[{"columns":[{"Field":{"type":"string"}},{"Type":{"type":"string"}},{"Properties":{"type":"string"}}],"data":[{"Field":"id","Type":"bigint","Properties":""},{"Field":"title","Type":"string","Properties":"indexed stored attribute"},{"Field":"gid","Type":"uint","Properties":""},{"Field":"j","Type":"json","Properties":""},{"Field":"new1","Type":"uint","Properties":""}],"total":5,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:17;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:70:"mode=raw&query=select avg(id) x from test group by gid order by x desc";s:4:"rows";s:126:"[{"columns":[{"x":{"type":"double"}}],"data":[{"x":17},{"x":8.714286},{"x":3.5},{"x":1.5}],"total":4,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:18;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:87:"query=select%20avg%28id%29%20x%20from%20test%20group%20by%20gid%20order%20by%20x%20desc";s:4:"rows";s:207:"{"timed_out":false,"hits":{"total":4,"total_relation":"eq","hits":[{"_score":1,"_source":{"x":17}},{"_score":1,"_source":{"x":8.71428571}},{"_score":1,"_source":{"x":3.5}},{"_score":1,"_source":{"x":1.5}}]}}";s:9:"http_code";i:200;s:4:"http";i:1;}i:19;a:6:{s:13:"http_endpoint";s:8:"cli_json";s:11:"http_method";s:4:"POST";s:12:"http_request";s:10:"desc testt";s:4:"rows";s:33:"{"error":"no such table 'testt'"}";s:9:"http_code";i:500;s:4:"http";i:1;}i:20;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:25:"mode=raw&query=desc testt";s:4:"rows";s:33:"{"error":"no such table 'testt'"}";s:9:"http_code";i:500;s:4:"http";i:1;}i:21;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:38:"mode=raw&query=select concat('"', 'a')";s:4:"rows";s:126:"[{"columns":[{"concat('\"', 'a')":{"type":"string"}}],"data":[{"concat('\"', 'a')":"\"a"}],"total":1,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:22;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:47:"raw_response=true&query=select concat('"', 'a')";s:4:"rows";s:126:"[{"columns":[{"concat('\"', 'a')":{"type":"string"}}],"data":[{"concat('\"', 'a')":"\"a"}],"total":1,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:23;a:6:{s:13:"http_endpoint";s:12:"sql?mode=raw";s:11:"http_method";s:4:"POST";s:12:"http_request";s:29:"query=select concat('"', 'a')";s:4:"rows";s:126:"[{"columns":[{"concat('\"', 'a')":{"type":"string"}}],"data":[{"concat('\"', 'a')":"\"a"}],"total":1,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:24;a:6:{s:13:"http_endpoint";s:21:"sql?raw_response=true";s:11:"http_method";s:4:"POST";s:12:"http_request";s:29:"query=select concat('"', 'a')";s:4:"rows";s:126:"[{"columns":[{"concat('\"', 'a')":{"type":"string"}}],"data":[{"concat('\"', 'a')":"\"a"}],"total":1,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:25;a:6:{s:13:"http_endpoint";s:3:"sql";s:11:"http_method";s:4:"POST";s:12:"http_request";s:23:"select concat('"', 'a')";s:4:"rows";s:45:"{"error":"only SELECT queries are supported"}";s:9:"http_code";i:501;s:4:"http";i:1;}i:26;a:6:{s:13:"http_endpoint";s:12:"sql?mode=raw";s:11:"http_method";s:4:"POST";s:12:"http_request";s:23:"select concat('"', 'a')";s:4:"rows";s:126:"[{"columns":[{"concat('\"', 'a')":{"type":"string"}}],"data":[{"concat('\"', 'a')":"\"a"}],"total":1,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}i:27;a:6:{s:13:"http_endpoint";s:21:"sql?raw_response=true";s:11:"http_method";s:4:"POST";s:12:"http_request";s:23:"select concat('"', 'a')";s:4:"rows";s:126:"[{"columns":[{"concat('\"', 'a')":{"type":"string"}}],"data":[{"concat('\"', 'a')":"\"a"}],"total":1,"error":"","warning":""}]";s:9:"http_code";i:200;s:4:"http";i:1;}}}