a:1:{i:0;a:23:{i:0;a:2:{s:8:"sphinxql";s:157:"create table test (title text, vector float_vector knn_type='hnsw' hnsw_similarity='l2' model_name = 'sentence-transformers/all-MiniLM-L6-v2' from = 'title')";s:14:"total_affected";i:0;}i:1;a:2:{s:8:"sphinxql";s:54:"insert into test(id, title) values (1, 'green banana')";s:14:"total_affected";i:1;}i:2;a:2:{s:8:"sphinxql";s:54:"insert into test(id, title) values (2, 'yellow apple')";s:14:"total_affected";i:1;}i:3;a:2:{s:8:"sphinxql";s:19:"flush ramchunk test";s:14:"total_affected";i:0;}i:4;a:3:{s:8:"sphinxql";s:18:"select * from test";s:10:"total_rows";i:2;s:4:"rows";a:2:{i:0;a:3:{s:2:"id";s:1:"1";s:5:"title";s:12:"green banana";s:6:"vector";s:4408:"-0.07064244,0.00752982,-0.00259365,-0.04157928,0.03548043,0.04456122,0.11613756,0.02074546,0.03947398,0.05106734,0.03166968,-0.11458948,-0.00951789,-0.05795759,0.09185008,0.06188203,-0.01048906,-0.01707797,-0.09208681,-0.08047762,-0.00980046,0.05956679,-0.03537560,-0.04415981,-0.07111309,0.08801214,0.01684649,0.03857693,0.04713389,-0.10429186,-0.03959830,0.00120621,0.04713259,-0.00611784,-0.07384276,-0.04283485,-0.00332379,-0.09304301,0.01298144,0.02573552,-0.02296793,0.06230790,0.03464795,-0.02130896,-0.00724728,0.02683557,0.04703191,-0.00239653,0.04532693,-0.05321427,0.03127296,-0.04356337,-0.08227029,0.01471822,0.02154861,-0.03023185,0.01656575,-0.03262277,0.08961739,0.01105243,0.02528457,-0.06578949,0.03497156,0.00356169,-0.01291717,-0.01035848,-0.05777888,0.02274923,0.03208363,-0.04359162,-0.00795778,0.03897927,0.06392601,0.04319165,-0.05667366,0.04281598,0.11904872,0.01510153,-0.04013144,0.02039471,0.00946047,0.01894414,-0.02155524,-0.03173472,0.03996223,0.04289545,-0.04301514,-0.02082422,-0.05794970,0.02445120,-0.00303624,0.07343336,0.05676239,0.01317551,-0.09216484,-0.00804776,-0.03607442,-0.14622292,-0.05088386,0.13853449,0.03499655,0.08317842,0.01697058,-0.03588100,-0.02080634,-0.00777317,0.01942831,-0.00606244,0.05656087,0.06001440,0.02612236,-0.01326251,-0.08518444,0.01364613,-0.09303713,0.01995253,0.03448638,0.00199522,0.01013670,0.03351484,0.03039336,-0.04023907,-0.02250531,-0.03950599,-0.12510864,-0.05886317,-0.02747146,-0.00000000,-0.00938932,0.00695206,0.05619259,-0.09238479,0.15164743,-0.01378410,-0.02695114,0.02161807,0.01948354,-0.02085664,-0.03401339,0.01580785,-0.09556304,0.00052298,0.01050154,0.00630925,-0.06190060,0.04648550,-0.01113090,-0.01428306,-0.01286151,0.04877256,0.00657297,0.00232960,0.02635293,-0.05339248,0.06626027,-0.02551312,0.07150610,-0.01730338,-0.01011546,0.01555277,0.04115859,-0.00307474,-0.03727749,-0.10677355,-0.02131307,-0.01724365,0.02854935,0.08671302,0.04028719,-0.03220724,-0.03146613,0.10996214,-0.02390532,0.01178834,0.03654806,0.02435657,-0.00594165,0.00079972,-0.07050313,-0.03982846,-0.02696020,0.02422311,0.00234964,-0.08020249,0.02685142,0.00979572,-0.07766128,-0.07316010,0.03992846,0.08206984,0.04085247,0.03689099,-0.04128001,0.00448845,-0.06799004,-0.02509247,0.09902773,-0.09856264,-0.01116491,-0.08028751,0.08952934,-0.07459038,0.00955830,-0.07217635,0.02025593,0.02540803,-0.03602926,0.01315640,-0.00922155,-0.02124864,-0.04908750,0.01204691,-0.08848196,0.09225465,-0.01498382,-0.01637486,0.02786859,-0.07845478,-0.01187819,-0.03512550,0.06248652,-0.03316485,-0.09683444,0.00000000,-0.00585565,-0.01062442,0.06314646,0.11830597,0.09297252,-0.10459415,0.02413287,0.00619747,-0.04661946,-0.00621903,-0.04300360,0.02151035,0.00832118,0.01663098,0.07923244,0.09820090,0.05314903,0.09249056,-0.03937544,-0.01937630,-0.02883415,-0.10151482,0.01998205,0.01578137,-0.01591210,0.09679233,0.04876224,-0.04347814,-0.01658470,-0.02377934,-0.00984338,0.00776902,-0.00289029,0.02000911,-0.00115465,-0.01085277,0.01197676,-0.10259797,-0.00594488,0.07658475,0.05867103,0.01796786,0.03304055,0.13175178,-0.09043460,-0.04004755,-0.04311169,0.04965363,-0.00513687,0.05040963,0.04110947,0.06841547,-0.06371105,0.01078829,-0.00834551,0.01568379,-0.04336760,0.06063860,-0.06550255,0.06432413,-0.01449603,-0.08538267,-0.02566314,0.02504745,0.04837467,0.03726636,0.06337676,0.01096177,0.00384561,0.03203982,0.01709678,0.02280221,0.00844610,-0.01518831,-0.00684545,0.09366775,0.03559181,-0.11434239,-0.06228624,-0.01216796,-0.06114678,-0.05245298,-0.01698756,0.04298524,-0.03239008,0.06245358,0.02267433,0.05448967,-0.00771243,0.04787721,0.01742639,0.02022339,0.01381789,0.09119616,0.01245671,-0.00000001,0.01697506,-0.06571073,-0.01269870,0.07517863,0.05519632,0.04594503,-0.02407694,-0.05012771,0.01163412,0.00635703,-0.03997629,0.05440529,-0.00873114,0.09808744,0.02460598,-0.02419570,-0.02962912,0.01298659,0.02068589,0.04739174,-0.07331658,0.00790732,-0.04156461,0.00245817,0.00120969,0.00321481,-0.04215522,0.11473431,-0.00446820,0.06997012,0.02834254,0.06224945,-0.05957344,-0.02943036,-0.01887722,-0.00942199,0.03822518,0.02432210,-0.09968336,-0.10247149,0.04043459,0.06025545,-0.03864568,0.01603114,-0.07440857,-0.07342023,-0.00273845,0.07609377,-0.02345506,-0.00118200,-0.01233396,0.03377174,-0.01319144,0.07871815,0.01676430,-0.08349472,-0.02122845,0.03387833,-0.06389099,0.09960424,0.03471064,-0.05780074,0.00602477,0.01965615";}i:1;a:3:{s:2:"id";s:1:"2";s:5:"title";s:12:"yellow apple";s:6:"vector";s:4413:"-0.01547896,0.07103809,-0.00570358,0.02219932,0.03988304,0.01573224,0.13958894,-0.07622518,0.04600439,0.02069562,0.01859560,-0.09537151,0.00291714,0.01693796,-0.02078673,0.03319966,0.00422671,-0.04294049,-0.08048493,-0.04298964,0.00755756,0.05084669,-0.01451798,-0.01656312,-0.07199459,0.02334383,0.05124138,0.02793664,-0.07359046,-0.08291935,-0.06992705,0.03414584,0.06121784,0.01634225,-0.05026320,-0.04433638,0.10439704,-0.10395043,0.00386326,0.05229892,0.01235467,0.03275020,0.04679970,0.04205747,-0.04422696,0.05961800,-0.02244518,-0.00329489,0.08321694,-0.02119085,-0.01594617,-0.13247116,-0.05448768,-0.02906791,0.06043713,0.04754143,0.03845512,-0.06432866,0.10968278,0.06186280,0.04531478,-0.08207484,0.00746014,0.02363287,0.00915972,-0.06608470,-0.05598682,-0.07651709,-0.01032107,-0.11450591,0.05791453,0.02862506,0.08234584,0.06059907,0.02226609,-0.00329050,0.08079464,-0.01106855,-0.06360054,-0.01194112,-0.06518857,0.03552264,-0.06831877,0.02530831,0.03845577,0.02445171,-0.02104503,0.01441273,-0.03619573,0.05389493,-0.02539997,0.08936525,0.05432182,-0.01332457,-0.06288008,0.00814924,-0.01296723,-0.06952874,-0.11671360,0.13880511,0.02764793,0.02397842,0.01309844,-0.01081873,0.06519961,-0.02114099,-0.02951553,0.00157515,-0.01659164,0.09629683,0.07113044,-0.08622056,-0.00823234,-0.00637476,0.00170952,0.01160602,0.03869312,0.00503865,-0.04954207,0.00073159,0.03844149,0.00129830,-0.03671838,-0.00582664,-0.07836560,0.01779025,0.03878345,-0.00000000,-0.00316670,-0.00562880,0.01286025,0.00048846,0.020665,-0.06893928,-0.00855352,0.03519388,0.02655944,-0.10462117,0.00185666,-0.00650642,-0.09195402,-0.01327617,0.06215151,-0.02495890,0.02239911,-0.01525522,-0.09401274,0.03820880,-0.05655489,0.01467054,-0.03440750,-0.00646223,-0.07214446,-0.01472405,0.00049342,-0.08346842,0.06365889,-0.02081682,0.09337411,0.04281383,0.07834530,-0.01364167,-0.07821766,-0.04376766,0.05718124,-0.00677802,-0.03811702,0.06897043,-0.06475380,0.03631093,0.07130958,0.06683749,0.05618366,0.00160746,-0.00598225,0.06049625,-0.00588098,-0.00928005,-0.02640969,-0.02545068,0.01642197,0.01440790,-0.10065358,0.05868429,0.03235634,-0.03495351,-0.04698797,-0.02394704,-0.01032903,0.08323554,0.03030520,0.08357554,-0.02928508,0.04284525,-0.04306328,-0.08324413,0.03317811,0.03525187,-0.03359802,-0.01015517,0.07435481,-0.01692909,-0.06650146,-0.07700621,0.02935674,-0.09282518,-0.04733010,-0.03390867,-0.01144844,0.01828196,-0.00401659,0.09694046,-0.10822087,0.05466963,-0.05526782,0.06493754,0.00742108,-0.01346409,-0.03367973,0.09733807,-0.04637501,-0.05107780,-0.07704315,0.00000000,0.04304579,-0.04846192,-0.04720314,0.03246795,-0.00417123,0.00400877,-0.04681037,0.04632775,-0.13236189,-0.03417710,0.04700644,-0.00114488,0.00397140,-0.00061205,0.04413534,0.05839181,0.01353140,0.13228458,-0.02692241,0.05136281,-0.05009206,-0.02773203,-0.00770269,-0.03304609,-0.01503360,0.02756387,0.00009781,0.01524840,-0.04166198,-0.04668562,0.02090111,-0.10367236,-0.00407068,-0.00786071,0.05115210,0.04710423,-0.00789531,-0.11913274,0.00457222,0.08562912,0.02789838,0.00011881,-0.00248086,0.06684286,-0.00209362,0.05788838,-0.01980819,0.10582818,0.04277572,0.00683503,0.00150087,0.00917451,-0.04989640,0.04112925,-0.02756883,0.00402464,-0.06434361,-0.00418812,0.03050842,0.03406224,-0.00870195,0.03703723,0.01162015,-0.00685047,0.00760612,0.00809093,-0.03457985,0.04273285,-0.05764506,-0.00568396,0.02447236,0.03689805,-0.01742850,-0.05637633,-0.02860459,-0.02168719,0.01400177,-0.01254149,-0.05746992,0.09052140,-0.02172439,0.10654654,0.03666664,0.09134846,0.06570093,0.01149644,0.02297485,0.02458787,0.03179093,-0.00382357,-0.02911420,0.08740271,0.02720432,-0.00047084,-0.06995792,-0.00000001,0.00058711,-0.06869548,0.00981278,-0.02781863,0.03679169,0.01976415,-0.03690578,-0.03980624,0.04540527,-0.01313717,-0.06377750,0.02207902,-0.12437712,0.07431640,-0.00052310,0.04059185,-0.00655441,0.03279371,0.02922832,0.05378990,-0.07442448,0.02988340,-0.03889798,0.00495976,-0.04565399,0.00651010,-0.01831103,0.07749171,0.05385125,0.05881763,-0.00991352,0.04872196,-0.01781466,-0.01037439,-0.04086151,0.02251152,-0.03670991,0.06831757,-0.06602879,-0.06230420,-0.02122720,-0.03713448,-0.03807915,-0.04756900,-0.00710001,-0.06991018,-0.01678618,-0.00089974,-0.00851270,0.07389394,-0.00970803,0.02198412,0.07405958,0.08191729,-0.04383316,-0.09350067,0.04368892,-0.07065995,-0.06264505,0.05991548,0.13400061,-0.03662838,0.03457626,0.10311479";}}}i:5;a:3:{s:8:"sphinxql";s:68:"select id, knn_dist() from test where knn(vector, 5, 'yellow apple')";s:10:"total_rows";i:2;s:4:"rows";a:2:{i:0;a:2:{s:2:"id";s:1:"2";s:10:"knn_dist()";s:8:"0.000000";}i:1;a:2:{s:2:"id";s:1:"1";s:10:"knn_dist()";s:10:"1.02980733";}}}i:6;a:3:{s:8:"sphinxql";s:68:"select id, knn_dist() from test where knn(vector, 5, 'green banana')";s:10:"total_rows";i:2;s:4:"rows";a:2:{i:0;a:2:{s:2:"id";s:1:"1";s:10:"knn_dist()";s:8:"0.000000";}i:1;a:2:{s:2:"id";s:1:"2";s:10:"knn_dist()";s:10:"1.02980733";}}}i:7;a:3:{s:8:"sphinxql";s:69:"select id, knn_dist() from test where knn(vector, 5, 'yellow banana')";s:10:"total_rows";i:2;s:4:"rows";a:2:{i:0;a:2:{s:2:"id";s:1:"1";s:10:"knn_dist()";s:10:"0.33373228";}i:1;a:2:{s:2:"id";s:1:"2";s:10:"knn_dist()";s:10:"0.68087322";}}}i:8;a:2:{s:8:"sphinxql";s:49:"alter table test modify column vector api_key='_'";s:14:"total_affected";i:0;}i:9;a:2:{s:8:"sphinxql";s:15:"drop table test";s:14:"total_affected";i:0;}i:10;a:2:{s:8:"sphinxql";s:143:"CREATE TABLE test_no_auto (id BIGINT, title TEXT, embedding FLOAT_VECTOR KNN_TYPE='hnsw' KNN_DIMS='384' HNSW_SIMILARITY='l2') engine='columnar'";s:14:"total_affected";i:0;}i:11;a:2:{s:8:"sphinxql";s:1988:"INSERT INTO test_no_auto (id, title, embedding) VALUES (1, 'test', (0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.1, 0.2, 0.3, 0.4))";s:14:"total_affected";i:1;}i:12;a:3:{s:8:"sphinxql";s:72:"SELECT id, title FROM test_no_auto WHERE knn(embedding, 2, 'test query')";s:5:"errno";i:1064;s:5:"error";s:89:"table test_no_auto: Embeddings generation string specified, but embeddings are not loaded";}i:13;a:2:{s:8:"sphinxql";s:23:"drop table test_no_auto";s:14:"total_affected";i:0;}i:14;a:2:{s:8:"sphinxql";s:246:"CREATE TABLE test_knn_select (id BIGINT, title TEXT, content TEXT, category string attribute, embedding FLOAT_VECTOR KNN_TYPE='hnsw' HNSW_SIMILARITY='l2' MODEL_NAME='sentence-transformers/all-MiniLM-L6-v2' FROM='title, content') engine='columnar'";s:14:"total_affected";i:0;}i:15;a:2:{s:8:"sphinxql";s:77:"SELECT id, title, knn_dist() FROM test_knn_select WHERE knn(embedding, 2, '')";s:10:"total_rows";i:0;}i:16;a:2:{s:8:"sphinxql";s:26:"drop table test_knn_select";s:14:"total_affected";i:0;}i:17;a:2:{s:8:"sphinxql";s:157:"create table test (title text, vector float_vector knn_type='hnsw' hnsw_similarity='l2' model_name = 'sentence-transformers/all-MiniLM-L6-v2' from = 'title')";s:14:"total_affected";i:0;}i:18;a:2:{s:8:"sphinxql";s:62:"insert into test(id,title) values(1,'auto embedding expected')";s:14:"total_affected";i:1;}i:19;a:2:{s:8:"sphinxql";s:69:"insert into test(id,title,vector) values(2,'exclude from search', ())";s:14:"total_affected";i:1;}i:20;a:3:{s:8:"sphinxql";s:60:"insert into test(id,title,vector) values(3,'error', (1,2,3))";s:5:"errno";i:1064;s:5:"error";s:129:"attribute 'vector' has model_name=sentence-transformers/all-MiniLM-L6-v2 specified, but vector contents with 3 values is provided";}i:21;a:3:{s:8:"sphinxql";s:62:"SELECT id, title FROM test WHERE knn(vector, 10, 'test query')";s:10:"total_rows";i:1;s:4:"rows";a:1:{i:0;a:2:{s:2:"id";s:1:"1";s:5:"title";s:23:"auto embedding expected";}}}i:22;a:2:{s:8:"sphinxql";s:15:"drop table test";s:14:"total_affected";i:0;}}}