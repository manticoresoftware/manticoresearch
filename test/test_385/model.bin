a:1:{i:0;a:42:{i:0;a:2:{s:8:"sphinxql";s:87:"create table rt1 (title text indexed, mva1 multi, gid int, j1 json) rt_mem_limit='128k'";s:14:"total_affected";i:0;}i:1;a:2:{s:8:"sphinxql";s:189:"insert into rt1 (id,title,mva1,gid,j1) values (1, 'test 1', (11,12,13), 11, '{"data":"test 1", fd:11}'), (2, 'test 2', (21,22,23), 21, ''), (3, 'test 3', (), 31, '{"data":"test 3", fd:31}')";s:14:"total_affected";i:3;}i:2;a:3:{s:8:"sphinxql";s:22:"SELECT * FROM test:rt1";s:10:"total_rows";i:3;s:4:"rows";a:3:{i:0;a:4:{s:2:"id";s:1:"1";s:3:"gid";s:2:"11";s:2:"j1";s:25:"{"data":"test 1","fd":11}";s:4:"mva1";s:8:"11,12,13";}i:1;a:4:{s:2:"id";s:1:"2";s:3:"gid";s:2:"21";s:2:"j1";N;s:4:"mva1";s:8:"21,22,23";}i:2;a:4:{s:2:"id";s:1:"3";s:3:"gid";s:2:"31";s:2:"j1";s:25:"{"data":"test 3","fd":31}";s:4:"mva1";s:0:"";}}}i:3;a:2:{s:8:"sphinxql";s:190:"replace into rt1 (id,title,mva1,gid,j1) values (5, 'test 5', (51,52,53), 51, '{"data":"test 5", fd:51}'), (1, 'test 6', (61,62,63), 61, '{"data":"test 6", fd:16}'), (7, 'test 7', (), 71, '')";s:14:"total_affected";i:3;}i:4;a:3:{s:8:"sphinxql";s:22:"SELECT * FROM test:rt1";s:10:"total_rows";i:5;s:4:"rows";a:5:{i:0;a:4:{s:2:"id";s:1:"5";s:3:"gid";s:2:"51";s:2:"j1";s:25:"{"data":"test 5","fd":51}";s:4:"mva1";s:8:"51,52,53";}i:1;a:4:{s:2:"id";s:1:"2";s:3:"gid";s:2:"21";s:2:"j1";N;s:4:"mva1";s:8:"21,22,23";}i:2;a:4:{s:2:"id";s:1:"1";s:3:"gid";s:2:"61";s:2:"j1";s:25:"{"data":"test 6","fd":16}";s:4:"mva1";s:8:"61,62,63";}i:3;a:4:{s:2:"id";s:1:"7";s:3:"gid";s:2:"71";s:2:"j1";N;s:4:"mva1";s:0:"";}i:4;a:4:{s:2:"id";s:1:"3";s:3:"gid";s:2:"31";s:2:"j1";s:25:"{"data":"test 3","fd":31}";s:4:"mva1";s:0:"";}}}i:5;a:2:{s:8:"sphinxql";s:19:"create cluster test";s:14:"total_affected";i:0;}i:6;a:2:{s:8:"sphinxql";s:26:"ALTER CLUSTER test ADD rt1";s:14:"total_affected";i:0;}i:7;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:87:"create table rt1 (title text indexed, mva1 multi, gid int, j1 json) rt_mem_limit='128k'";s:14:"total_affected";i:0;}i:8;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:69:"insert into rt1 (id,title,mva1) values (10, 'test 10', (110,120,130))";s:14:"total_affected";i:1;}i:9;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:17:"SELECT * FROM rt1";s:10:"total_rows";i:1;s:4:"rows";a:1:{i:0;a:4:{s:2:"id";s:2:"10";s:3:"gid";s:1:"0";s:2:"j1";N;s:4:"mva1";s:11:"110,120,130";}}}i:10;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:37:"join cluster test at '%addr_connect%'";s:14:"total_affected";i:0;}i:11;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:22:"SELECT * FROM test:rt1";s:10:"total_rows";i:5;s:4:"rows";a:5:{i:0;a:4:{s:2:"id";s:1:"5";s:3:"gid";s:2:"51";s:2:"j1";s:25:"{"data":"test 5","fd":51}";s:4:"mva1";s:8:"51,52,53";}i:1;a:4:{s:2:"id";s:1:"2";s:3:"gid";s:2:"21";s:2:"j1";N;s:4:"mva1";s:8:"21,22,23";}i:2;a:4:{s:2:"id";s:1:"1";s:3:"gid";s:2:"61";s:2:"j1";s:25:"{"data":"test 6","fd":16}";s:4:"mva1";s:8:"61,62,63";}i:3;a:4:{s:2:"id";s:1:"7";s:3:"gid";s:2:"71";s:2:"j1";N;s:4:"mva1";s:0:"";}i:4;a:4:{s:2:"id";s:1:"3";s:3:"gid";s:2:"31";s:2:"j1";s:25:"{"data":"test 3","fd":31}";s:4:"mva1";s:0:"";}}}i:12;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:75:"replace into test:rt1 (id,title,mva1) values (20, 'test 20', (151,152,153))";s:14:"total_affected";i:1;}i:13;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:22:"SELECT * FROM test:rt1";s:10:"total_rows";i:6;s:4:"rows";a:6:{i:0;a:4:{s:2:"id";s:2:"20";s:3:"gid";s:1:"0";s:2:"j1";N;s:4:"mva1";s:11:"151,152,153";}i:1;a:4:{s:2:"id";s:1:"5";s:3:"gid";s:2:"51";s:2:"j1";s:25:"{"data":"test 5","fd":51}";s:4:"mva1";s:8:"51,52,53";}i:2;a:4:{s:2:"id";s:1:"1";s:3:"gid";s:2:"61";s:2:"j1";s:25:"{"data":"test 6","fd":16}";s:4:"mva1";s:8:"61,62,63";}i:3;a:4:{s:2:"id";s:1:"2";s:3:"gid";s:2:"21";s:2:"j1";N;s:4:"mva1";s:8:"21,22,23";}i:4;a:4:{s:2:"id";s:1:"7";s:3:"gid";s:2:"71";s:2:"j1";N;s:4:"mva1";s:0:"";}i:5;a:4:{s:2:"id";s:1:"3";s:3:"gid";s:2:"31";s:2:"j1";s:25:"{"data":"test 3","fd":31}";s:4:"mva1";s:0:"";}}}i:14;a:3:{s:8:"sphinxql";s:22:"SELECT * FROM test:rt1";s:10:"total_rows";i:6;s:4:"rows";a:6:{i:0;a:4:{s:2:"id";s:2:"20";s:3:"gid";s:1:"0";s:2:"j1";N;s:4:"mva1";s:11:"151,152,153";}i:1;a:4:{s:2:"id";s:1:"5";s:3:"gid";s:2:"51";s:2:"j1";s:25:"{"data":"test 5","fd":51}";s:4:"mva1";s:8:"51,52,53";}i:2;a:4:{s:2:"id";s:1:"1";s:3:"gid";s:2:"61";s:2:"j1";s:25:"{"data":"test 6","fd":16}";s:4:"mva1";s:8:"61,62,63";}i:3;a:4:{s:2:"id";s:1:"2";s:3:"gid";s:2:"21";s:2:"j1";N;s:4:"mva1";s:8:"21,22,23";}i:4;a:4:{s:2:"id";s:1:"7";s:3:"gid";s:2:"71";s:2:"j1";N;s:4:"mva1";s:0:"";}i:5;a:4:{s:2:"id";s:1:"3";s:3:"gid";s:2:"31";s:2:"j1";s:25:"{"data":"test 3","fd":31}";s:4:"mva1";s:0:"";}}}i:15;a:2:{s:8:"sphinxql";s:104:"create table rt2 (title text indexed, gid int) rt_mem_limit='256k' expand_keywords='1' min_infix_len='3'";s:14:"total_affected";i:0;}i:16;a:2:{s:8:"sphinxql";s:26:"ALTER CLUSTER test ADD rt2";s:14:"total_affected";i:0;}i:17;a:2:{s:8:"sphinxql";s:91:"replace into test:rt2 (id,title) values (20, 'testik'),  (30, 'restestik'),  (40, 'restok')";s:14:"total_affected";i:3;}i:18;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:57:"debug wait test status 4 like 'state' option 'timeout'=30";s:10:"total_rows";i:1;s:4:"rows";a:1:{i:0;a:2:{s:4:"name";s:5:"state";s:5:"Value";s:1:"4";}}}i:19;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:23:"SHOW INDEX rt2 SETTINGS";s:10:"total_rows";i:1;s:4:"rows";a:1:{i:0;a:2:{s:13:"Variable_name";s:8:"settings";s:5:"Value";s:59:"min_infix_len = 3
expand_keywords = 1
rt_mem_limit = 262144";}}}i:20;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:44:"SELECT * FROM test:rt2 where match ( 'tes' )";s:10:"total_rows";i:2;s:4:"rows";a:2:{i:0;a:2:{s:2:"id";s:2:"20";s:3:"gid";s:1:"0";}i:1;a:2:{s:2:"id";s:2:"30";s:3:"gid";s:1:"0";}}}i:21;a:2:{s:8:"sphinxql";s:27:"ALTER CLUSTER test DROP rt1";s:14:"total_affected";i:0;}i:22;a:2:{s:8:"sphinxql";s:27:"ALTER CLUSTER test DROP rt2";s:14:"total_affected";i:0;}i:23;a:2:{s:8:"sphinxql";s:14:"DROP TABLE rt1";s:14:"total_affected";i:0;}i:24;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:14:"DROP TABLE rt1";s:14:"total_affected";i:0;}i:25;a:2:{s:8:"sphinxql";s:14:"DROP TABLE rt2";s:14:"total_affected";i:0;}i:26;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:14:"DROP TABLE rt2";s:14:"total_affected";i:0;}i:27;a:2:{s:8:"sphinxql";s:19:"DELETE CLUSTER test";s:14:"total_affected";i:0;}i:28;a:2:{s:8:"sphinxql";s:87:"create table rt1 (title text indexed, mva1 multi, gid int, j1 json) rt_mem_limit='128k'";s:14:"total_affected";i:0;}i:29;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:87:"create table rt1 (title text indexed, mva1 multi, gid int, j1 json) rt_mem_limit='128k'";s:14:"total_affected";i:0;}i:30;a:2:{s:8:"sphinxql";s:18:"create cluster loc";s:14:"total_affected";i:0;}i:31;a:2:{s:8:"sphinxql";s:25:"ALTER CLUSTER loc ADD rt1";s:14:"total_affected";i:0;}i:32;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:36:"join cluster loc at '%addr_connect%'";s:14:"total_affected";i:0;}i:33;a:2:{s:8:"sphinxql";s:73:"insert into loc:rt1 (id,title,mva1) values (10, 'test 10', (110,120,130))";s:14:"total_affected";i:1;}i:34;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:57:"debug wait test status 4 like 'state' option 'timeout'=30";s:10:"total_rows";i:0;}i:35;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:21:"SELECT * FROM loc:rt1";s:10:"total_rows";i:1;s:4:"rows";a:1:{i:0;a:4:{s:2:"id";s:2:"10";s:3:"gid";s:1:"0";s:2:"j1";N;s:4:"mva1";s:11:"110,120,130";}}}i:36;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:18:"flush ramchunk rt1";s:14:"total_affected";i:0;}i:37;a:4:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:40:"SHOW INDEX rt1 STATUS LIKE 'disk_chunks'";s:10:"total_rows";i:1;s:4:"rows";a:1:{i:0;a:2:{s:13:"Variable_name";s:11:"disk_chunks";s:5:"Value";s:1:"1";}}}i:38;a:2:{s:8:"sphinxql";s:26:"ALTER CLUSTER loc DROP rt1";s:14:"total_affected";i:0;}i:39;a:2:{s:8:"sphinxql";s:18:"DELETE CLUSTER loc";s:14:"total_affected";i:0;}i:40;a:2:{s:8:"sphinxql";s:14:"DROP TABLE rt1";s:14:"total_affected";i:0;}i:41;a:3:{s:5:"agent";s:1:"1";s:8:"sphinxql";s:14:"DROP TABLE rt1";s:14:"total_affected";i:0;}}}